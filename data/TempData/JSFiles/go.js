(function(E,B){function ka(a,b,d){if(d===B&&a.nodeType===1){d=a.getAttribute("data-"+b);if(typeof d==="string"){try{d=d==="true"?true:d==="false"?false:d==="null"?null:!c.isNaN(d)?parseFloat(d):Ja.test(d)?c.parseJSON(d):d}catch(e){}c.data(a,b,d)}else d=B}return d}function U(){return false}function ca(){return true}function la(a,b,d){d[0].type=a;return c.event.handle.apply(b,d)}function Ka(a){var b,d,e,f,h,l,k,o,x,r,A,C=[];f=[];h=c.data(this,this.nodeType?"events":"__events__");if(typeof h==="function")h=
h.events;if(!(a.liveFired===this||!h||!h.live||a.button&&a.type==="click")){if(a.namespace)A=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");a.liveFired=this;var J=h.live.slice(0);for(k=0;k<J.length;k++){h=J[k];h.origType.replace(X,"")===a.type?f.push(h.selector):J.splice(k--,1)}f=c(a.target).closest(f,a.currentTarget);o=0;for(x=f.length;o<x;o++){r=f[o];for(k=0;k<J.length;k++){h=J[k];if(r.selector===h.selector&&(!A||A.test(h.namespace))){l=r.elem;e=null;if(h.preType==="mouseenter"||
h.preType==="mouseleave"){a.type=h.preType;e=c(a.relatedTarget).closest(h.selector)[0]}if(!e||e!==l)C.push({elem:l,handleObj:h,level:r.level})}}}o=0;for(x=C.length;o<x;o++){f=C[o];if(d&&f.level>d)break;a.currentTarget=f.elem;a.data=f.handleObj.data;a.handleObj=f.handleObj;A=f.handleObj.origHandler.apply(f.elem,arguments);if(A===false||a.isPropagationStopped()){d=f.level;if(A===false)b=false;if(a.isImmediatePropagationStopped())break}}return b}}function Y(a,b){return(a&&a!=="*"?a+".":"")+b.replace(La,
"`").replace(Ma,"&")}function ma(a,b,d){if(c.isFunction(b))return c.grep(a,function(f,h){return!!b.call(f,h,f)===d});else if(b.nodeType)return c.grep(a,function(f){return f===b===d});else if(typeof b==="string"){var e=c.grep(a,function(f){return f.nodeType===1});if(Na.test(b))return c.filter(b,e,!d);else b=c.filter(b,e)}return c.grep(a,function(f){return c.inArray(f,b)>=0===d})}function na(a,b){var d=0;b.each(function(){if(this.nodeName===(a[d]&&a[d].nodeName)){var e=c.data(a[d++]),f=c.data(this,
e);if(e=e&&e.events){delete f.handle;f.events={};for(var h in e)for(var l in e[h])c.event.add(this,h,e[h][l],e[h][l].data)}}})}function Oa(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function oa(a,b,d){var e=b==="width"?a.offsetWidth:a.offsetHeight;if(d==="border")return e;c.each(b==="width"?Pa:Qa,function(){d||(e-=parseFloat(c.css(a,"padding"+this))||0);if(d==="margin")e+=parseFloat(c.css(a,
"margin"+this))||0;else e-=parseFloat(c.css(a,"border"+this+"Width"))||0});return e}function da(a,b,d,e){if(c.isArray(b)&&b.length)c.each(b,function(f,h){d||Ra.test(a)?e(a,h):da(a+"["+(typeof h==="object"||c.isArray(h)?f:"")+"]",h,d,e)});else if(!d&&b!=null&&typeof b==="object")c.isEmptyObject(b)?e(a,""):c.each(b,function(f,h){da(a+"["+f+"]",h,d,e)});else e(a,b)}function S(a,b){var d={};c.each(pa.concat.apply([],pa.slice(0,b)),function(){d[this]=a});return d}function qa(a){if(!ea[a]){var b=c("<"+
a+">").appendTo("body"),d=b.css("display");b.remove();if(d==="none"||d==="")d="block";ea[a]=d}return ea[a]}function fa(a){return c.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var t=E.document,c=function(){function a(){if(!b.isReady){try{t.documentElement.doScroll("left")}catch(j){setTimeout(a,1);return}b.ready()}}var b=function(j,s){return new b.fn.init(j,s)},d=E.jQuery,e=E.$,f,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,l=/\S/,k=/^\s+/,o=/\s+$/,x=/\W/,r=/\d/,A=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
C=/^[\],:{}\s]*$/,J=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,w=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,I=/(?:^|:|,)(?:\s*\[)+/g,L=/(webkit)[ \/]([\w.]+)/,g=/(opera)(?:.*version)?[ \/]([\w.]+)/,i=/(msie) ([\w.]+)/,n=/(mozilla)(?:.*? rv:([\w.]+))?/,m=navigator.userAgent,p=false,q=[],u,y=Object.prototype.toString,F=Object.prototype.hasOwnProperty,M=Array.prototype.push,N=Array.prototype.slice,O=String.prototype.trim,D=Array.prototype.indexOf,R={};b.fn=b.prototype={init:function(j,
s){var v,z,H;if(!j)return this;if(j.nodeType){this.context=this[0]=j;this.length=1;return this}if(j==="body"&&!s&&t.body){this.context=t;this[0]=t.body;this.selector="body";this.length=1;return this}if(typeof j==="string")if((v=h.exec(j))&&(v[1]||!s))if(v[1]){H=s?s.ownerDocument||s:t;if(z=A.exec(j))if(b.isPlainObject(s)){j=[t.createElement(z[1])];b.fn.attr.call(j,s,true)}else j=[H.createElement(z[1])];else{z=b.buildFragment([v[1]],[H]);j=(z.cacheable?z.fragment.cloneNode(true):z.fragment).childNodes}return b.merge(this,
j)}else{if((z=t.getElementById(v[2]))&&z.parentNode){if(z.id!==v[2])return f.find(j);this.length=1;this[0]=z}this.context=t;this.selector=j;return this}else if(!s&&!x.test(j)){this.selector=j;this.context=t;j=t.getElementsByTagName(j);return b.merge(this,j)}else return!s||s.jquery?(s||f).find(j):b(s).find(j);else if(b.isFunction(j))return f.ready(j);if(j.selector!==B){this.selector=j.selector;this.context=j.context}return b.makeArray(j,this)},selector:"",jquery:"1.4.4",length:0,size:function(){return this.length},
toArray:function(){return N.call(this,0)},get:function(j){return j==null?this.toArray():j<0?this.slice(j)[0]:this[j]},pushStack:function(j,s,v){var z=b();b.isArray(j)?M.apply(z,j):b.merge(z,j);z.prevObject=this;z.context=this.context;if(s==="find")z.selector=this.selector+(this.selector?" ":"")+v;else if(s)z.selector=this.selector+"."+s+"("+v+")";return z},each:function(j,s){return b.each(this,j,s)},ready:function(j){b.bindReady();if(b.isReady)j.call(t,b);else q&&q.push(j);return this},eq:function(j){return j===
-1?this.slice(j):this.slice(j,+j+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(N.apply(this,arguments),"slice",N.call(arguments).join(","))},map:function(j){return this.pushStack(b.map(this,function(s,v){return j.call(s,v,s)}))},end:function(){return this.prevObject||b(null)},push:M,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var j,s,v,z,H,G=arguments[0]||{},K=1,Q=arguments.length,ga=false;
if(typeof G==="boolean"){ga=G;G=arguments[1]||{};K=2}if(typeof G!=="object"&&!b.isFunction(G))G={};if(Q===K){G=this;--K}for(;K<Q;K++)if((j=arguments[K])!=null)for(s in j){v=G[s];z=j[s];if(G!==z)if(ga&&z&&(b.isPlainObject(z)||(H=b.isArray(z)))){if(H){H=false;v=v&&b.isArray(v)?v:[]}else v=v&&b.isPlainObject(v)?v:{};G[s]=b.extend(ga,v,z)}else if(z!==B)G[s]=z}return G};b.extend({noConflict:function(j){E.$=e;if(j)E.jQuery=d;return b},isReady:false,readyWait:1,ready:function(j){j===true&&b.readyWait--;
if(!b.readyWait||j!==true&&!b.isReady){if(!t.body)return setTimeout(b.ready,1);b.isReady=true;if(!(j!==true&&--b.readyWait>0))if(q){var s=0,v=q;for(q=null;j=v[s++];)j.call(t,b);b.fn.trigger&&b(t).trigger("ready").unbind("ready")}}},bindReady:function(){if(!p){p=true;if(t.readyState==="complete")return setTimeout(b.ready,1);if(t.addEventListener){t.addEventListener("DOMContentLoaded",u,false);E.addEventListener("load",b.ready,false)}else if(t.attachEvent){t.attachEvent("onreadystatechange",u);E.attachEvent("onload",
b.ready);var j=false;try{j=E.frameElement==null}catch(s){}t.documentElement.doScroll&&j&&a()}}},isFunction:function(j){return b.type(j)==="function"},isArray:Array.isArray||function(j){return b.type(j)==="array"},isWindow:function(j){return j&&typeof j==="object"&&"setInterval"in j},isNaN:function(j){return j==null||!r.test(j)||isNaN(j)},type:function(j){return j==null?String(j):R[y.call(j)]||"object"},isPlainObject:function(j){if(!j||b.type(j)!=="object"||j.nodeType||b.isWindow(j))return false;if(j.constructor&&
!F.call(j,"constructor")&&!F.call(j.constructor.prototype,"isPrototypeOf"))return false;for(var s in j);return s===B||F.call(j,s)},isEmptyObject:function(j){for(var s in j)return false;return true},error:function(j){throw j;},parseJSON:function(j){if(typeof j!=="string"||!j)return null;j=b.trim(j);if(C.test(j.replace(J,"@").replace(w,"]").replace(I,"")))return E.JSON&&E.JSON.parse?E.JSON.parse(j):(new Function("return "+j))();else b.error("Invalid JSON: "+j)},noop:function(){},globalEval:function(j){if(j&&
l.test(j)){var s=t.getElementsByTagName("head")[0]||t.documentElement,v=t.createElement("script");v.type="text/javascript";if(b.support.scriptEval)v.appendChild(t.createTextNode(j));else v.text=j;s.insertBefore(v,s.firstChild);s.removeChild(v)}},nodeName:function(j,s){return j.nodeName&&j.nodeName.toUpperCase()===s.toUpperCase()},each:function(j,s,v){var z,H=0,G=j.length,K=G===B||b.isFunction(j);if(v)if(K)for(z in j){if(s.apply(j[z],v)===false)break}else for(;H<G;){if(s.apply(j[H++],v)===false)break}else if(K)for(z in j){if(s.call(j[z],
z,j[z])===false)break}else for(v=j[0];H<G&&s.call(v,H,v)!==false;v=j[++H]);return j},trim:O?function(j){return j==null?"":O.call(j)}:function(j){return j==null?"":j.toString().replace(k,"").replace(o,"")},makeArray:function(j,s){var v=s||[];if(j!=null){var z=b.type(j);j.length==null||z==="string"||z==="function"||z==="regexp"||b.isWindow(j)?M.call(v,j):b.merge(v,j)}return v},inArray:function(j,s){if(s.indexOf)return s.indexOf(j);for(var v=0,z=s.length;v<z;v++)if(s[v]===j)return v;return-1},merge:function(j,
s){var v=j.length,z=0;if(typeof s.length==="number")for(var H=s.length;z<H;z++)j[v++]=s[z];else for(;s[z]!==B;)j[v++]=s[z++];j.length=v;return j},grep:function(j,s,v){var z=[],H;v=!!v;for(var G=0,K=j.length;G<K;G++){H=!!s(j[G],G);v!==H&&z.push(j[G])}return z},map:function(j,s,v){for(var z=[],H,G=0,K=j.length;G<K;G++){H=s(j[G],G,v);if(H!=null)z[z.length]=H}return z.concat.apply([],z)},guid:1,proxy:function(j,s,v){if(arguments.length===2)if(typeof s==="string"){v=j;j=v[s];s=B}else if(s&&!b.isFunction(s)){v=
s;s=B}if(!s&&j)s=function(){return j.apply(v||this,arguments)};if(j)s.guid=j.guid=j.guid||s.guid||b.guid++;return s},access:function(j,s,v,z,H,G){var K=j.length;if(typeof s==="object"){for(var Q in s)b.access(j,Q,s[Q],z,H,v);return j}if(v!==B){z=!G&&z&&b.isFunction(v);for(Q=0;Q<K;Q++)H(j[Q],s,z?v.call(j[Q],Q,H(j[Q],s)):v,G);return j}return K?H(j[0],s):B},now:function(){return(new Date).getTime()},uaMatch:function(j){j=j.toLowerCase();j=L.exec(j)||g.exec(j)||i.exec(j)||j.indexOf("compatible")<0&&n.exec(j)||
[];return{browser:j[1]||"",version:j[2]||"0"}},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(j,s){R["[object "+s+"]"]=s.toLowerCase()});m=b.uaMatch(m);if(m.browser){b.browser[m.browser]=true;b.browser.version=m.version}if(b.browser.webkit)b.browser.safari=true;if(D)b.inArray=function(j,s){return D.call(s,j)};if(!/\s/.test("\u00a0")){k=/^[\s\xA0]+/;o=/[\s\xA0]+$/}f=b(t);if(t.addEventListener)u=function(){t.removeEventListener("DOMContentLoaded",u,
false);b.ready()};else if(t.attachEvent)u=function(){if(t.readyState==="complete"){t.detachEvent("onreadystatechange",u);b.ready()}};return E.jQuery=E.$=b}();(function(){c.support={};var a=t.documentElement,b=t.createElement("script"),d=t.createElement("div"),e="script"+c.now();d.style.display="none";d.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var f=d.getElementsByTagName("*"),h=d.getElementsByTagName("a")[0],l=t.createElement("select"),
k=l.appendChild(t.createElement("option"));if(!(!f||!f.length||!h)){c.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/red/.test(h.getAttribute("style")),hrefNormalized:h.getAttribute("href")==="/a",opacity:/^0.55$/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:d.getElementsByTagName("input")[0].value==="on",optSelected:k.selected,deleteExpando:true,optDisabled:false,checkClone:false,
scriptEval:false,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};l.disabled=true;c.support.optDisabled=!k.disabled;b.type="text/javascript";try{b.appendChild(t.createTextNode("window."+e+"=1;"))}catch(o){}a.insertBefore(b,a.firstChild);if(E[e]){c.support.scriptEval=true;delete E[e]}try{delete b.test}catch(x){c.support.deleteExpando=false}a.removeChild(b);if(d.attachEvent&&d.fireEvent){d.attachEvent("onclick",function r(){c.support.noCloneEvent=
false;d.detachEvent("onclick",r)});d.cloneNode(true).fireEvent("onclick")}d=t.createElement("div");d.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";a=t.createDocumentFragment();a.appendChild(d.firstChild);c.support.checkClone=a.cloneNode(true).cloneNode(true).lastChild.checked;c(function(){var r=t.createElement("div");r.style.width=r.style.paddingLeft="1px";t.body.appendChild(r);c.boxModel=c.support.boxModel=r.offsetWidth===2;if("zoom"in r.style){r.style.display="inline";r.style.zoom=
1;c.support.inlineBlockNeedsLayout=r.offsetWidth===2;r.style.display="";r.innerHTML="<div style='width:4px;'></div>";c.support.shrinkWrapBlocks=r.offsetWidth!==2}r.innerHTML="<table><tr><td style='padding:0;display:none'></td><td>t</td></tr></table>";var A=r.getElementsByTagName("td");c.support.reliableHiddenOffsets=A[0].offsetHeight===0;A[0].style.display="";A[1].style.display="none";c.support.reliableHiddenOffsets=c.support.reliableHiddenOffsets&&A[0].offsetHeight===0;r.innerHTML="";t.body.removeChild(r).style.display=
"none"});a=function(r){var A=t.createElement("div");r="on"+r;var C=r in A;if(!C){A.setAttribute(r,"return;");C=typeof A[r]==="function"}return C};c.support.submitBubbles=a("submit");c.support.changeBubbles=a("change");a=b=d=f=h=null}})();var ra={},Ja=/^(?:\{.*\}|\[.*\])$/;c.extend({cache:{},uuid:0,expando:"jQuery"+c.now(),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},data:function(a,b,d){if(c.acceptData(a)){a=a==E?ra:a;var e=a.nodeType,f=e?a[c.expando]:null,h=
c.cache;if(!(e&&!f&&typeof b==="string"&&d===B)){if(e)f||(a[c.expando]=f=++c.uuid);else h=a;if(typeof b==="object")if(e)h[f]=c.extend(h[f],b);else c.extend(h,b);else if(e&&!h[f])h[f]={};a=e?h[f]:h;if(d!==B)a[b]=d;return typeof b==="string"?a[b]:a}}},removeData:function(a,b){if(c.acceptData(a)){a=a==E?ra:a;var d=a.nodeType,e=d?a[c.expando]:a,f=c.cache,h=d?f[e]:e;if(b){if(h){delete h[b];d&&c.isEmptyObject(h)&&c.removeData(a)}}else if(d&&c.support.deleteExpando)delete a[c.expando];else if(a.removeAttribute)a.removeAttribute(c.expando);
else if(d)delete f[e];else for(var l in a)delete a[l]}},acceptData:function(a){if(a.nodeName){var b=c.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute("classid")!==b)}return true}});c.fn.extend({data:function(a,b){var d=null;if(typeof a==="undefined"){if(this.length){var e=this[0].attributes,f;d=c.data(this[0]);for(var h=0,l=e.length;h<l;h++){f=e[h].name;if(f.indexOf("data-")===0){f=f.substr(5);ka(this[0],f,d[f])}}}return d}else if(typeof a==="object")return this.each(function(){c.data(this,
a)});var k=a.split(".");k[1]=k[1]?"."+k[1]:"";if(b===B){d=this.triggerHandler("getData"+k[1]+"!",[k[0]]);if(d===B&&this.length){d=c.data(this[0],a);d=ka(this[0],a,d)}return d===B&&k[1]?this.data(k[0]):d}else return this.each(function(){var o=c(this),x=[k[0],b];o.triggerHandler("setData"+k[1]+"!",x);c.data(this,a,b);o.triggerHandler("changeData"+k[1]+"!",x)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var e=
c.data(a,b);if(!d)return e||[];if(!e||c.isArray(d))e=c.data(a,b,c.makeArray(d));else e.push(d);return e}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),e=d.shift();if(e==="inprogress")e=d.shift();if(e){b==="fx"&&d.unshift("inprogress");e.call(a,function(){c.dequeue(a,b)})}}});c.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx"}if(b===B)return c.queue(this[0],a);return this.each(function(){var d=c.queue(this,a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,
a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var sa=/[\n\t]/g,ha=/\s+/,Sa=/\r/g,Ta=/^(?:href|src|style)$/,Ua=/^(?:button|input)$/i,Va=/^(?:button|input|object|select|textarea)$/i,Wa=/^a(?:rea)?$/i,ta=/^(?:radio|checkbox)$/i;c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",
colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};c.fn.extend({attr:function(a,b){return c.access(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.attr(this,a,"");this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(c.isFunction(a))return this.each(function(x){var r=c(this);r.addClass(a.call(this,x,r.attr("class")))});if(a&&typeof a==="string")for(var b=(a||"").split(ha),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===
1)if(f.className){for(var h=" "+f.className+" ",l=f.className,k=0,o=b.length;k<o;k++)if(h.indexOf(" "+b[k]+" ")<0)l+=" "+b[k];f.className=c.trim(l)}else f.className=a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(o){var x=c(this);x.removeClass(a.call(this,o,x.attr("class")))});if(a&&typeof a==="string"||a===B)for(var b=(a||"").split(ha),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1&&f.className)if(a){for(var h=(" "+f.className+" ").replace(sa," "),
l=0,k=b.length;l<k;l++)h=h.replace(" "+b[l]+" "," ");f.className=c.trim(h)}else f.className=""}return this},toggleClass:function(a,b){var d=typeof a,e=typeof b==="boolean";if(c.isFunction(a))return this.each(function(f){var h=c(this);h.toggleClass(a.call(this,f,h.attr("class"),b),b)});return this.each(function(){if(d==="string")for(var f,h=0,l=c(this),k=b,o=a.split(ha);f=o[h++];){k=e?k:!l.hasClass(f);l[k?"addClass":"removeClass"](f)}else if(d==="undefined"||d==="boolean"){this.className&&c.data(this,
"__className__",this.className);this.className=this.className||a===false?"":c.data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;b<d;b++)if((" "+this[b].className+" ").replace(sa," ").indexOf(a)>-1)return true;return false},val:function(a){if(!arguments.length){var b=this[0];if(b){if(c.nodeName(b,"option")){var d=b.attributes.value;return!d||d.specified?b.value:b.text}if(c.nodeName(b,"select")){var e=b.selectedIndex;d=[];var f=b.options;b=b.type==="select-one";
if(e<0)return null;var h=b?e:0;for(e=b?e+1:f.length;h<e;h++){var l=f[h];if(l.selected&&(c.support.optDisabled?!l.disabled:l.getAttribute("disabled")===null)&&(!l.parentNode.disabled||!c.nodeName(l.parentNode,"optgroup"))){a=c(l).val();if(b)return a;d.push(a)}}return d}if(ta.test(b.type)&&!c.support.checkOn)return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(Sa,"")}return B}var k=c.isFunction(a);return this.each(function(o){var x=c(this),r=a;if(this.nodeType===1){if(k)r=
a.call(this,o,x.val());if(r==null)r="";else if(typeof r==="number")r+="";else if(c.isArray(r))r=c.map(r,function(C){return C==null?"":C+""});if(c.isArray(r)&&ta.test(this.type))this.checked=c.inArray(x.val(),r)>=0;else if(c.nodeName(this,"select")){var A=c.makeArray(r);c("option",this).each(function(){this.selected=c.inArray(c(this).val(),A)>=0});if(!A.length)this.selectedIndex=-1}else this.value=r}})}});c.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},
attr:function(a,b,d,e){if(!a||a.nodeType===3||a.nodeType===8)return B;if(e&&b in c.attrFn)return c(a)[b](d);e=a.nodeType!==1||!c.isXMLDoc(a);var f=d!==B;b=e&&c.props[b]||b;var h=Ta.test(b);if((b in a||a[b]!==B)&&e&&!h){if(f){b==="type"&&Ua.test(a.nodeName)&&a.parentNode&&c.error("type property can't be changed");if(d===null)a.nodeType===1&&a.removeAttribute(b);else a[b]=d}if(c.nodeName(a,"form")&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;if(b==="tabIndex")return(b=a.getAttributeNode("tabIndex"))&&
b.specified?b.value:Va.test(a.nodeName)||Wa.test(a.nodeName)&&a.href?0:B;return a[b]}if(!c.support.style&&e&&b==="style"){if(f)a.style.cssText=""+d;return a.style.cssText}f&&a.setAttribute(b,""+d);if(!a.attributes[b]&&a.hasAttribute&&!a.hasAttribute(b))return B;a=!c.support.hrefNormalized&&e&&h?a.getAttribute(b,2):a.getAttribute(b);return a===null?B:a}});var X=/\.(.*)$/,ia=/^(?:textarea|input|select)$/i,La=/\./g,Ma=/ /g,Xa=/[^\w\s.|`]/g,Ya=function(a){return a.replace(Xa,"\\$&")},ua={focusin:0,focusout:0};
c.event={add:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(c.isWindow(a)&&a!==E&&!a.frameElement)a=E;if(d===false)d=U;else if(!d)return;var f,h;if(d.handler){f=d;d=f.handler}if(!d.guid)d.guid=c.guid++;if(h=c.data(a)){var l=a.nodeType?"events":"__events__",k=h[l],o=h.handle;if(typeof k==="function"){o=k.handle;k=k.events}else if(!k){a.nodeType||(h[l]=h=function(){});h.events=k={}}if(!o)h.handle=o=function(){return typeof c!=="undefined"&&!c.event.triggered?c.event.handle.apply(o.elem,
arguments):B};o.elem=a;b=b.split(" ");for(var x=0,r;l=b[x++];){h=f?c.extend({},f):{handler:d,data:e};if(l.indexOf(".")>-1){r=l.split(".");l=r.shift();h.namespace=r.slice(0).sort().join(".")}else{r=[];h.namespace=""}h.type=l;if(!h.guid)h.guid=d.guid;var A=k[l],C=c.event.special[l]||{};if(!A){A=k[l]=[];if(!C.setup||C.setup.call(a,e,r,o)===false)if(a.addEventListener)a.addEventListener(l,o,false);else a.attachEvent&&a.attachEvent("on"+l,o)}if(C.add){C.add.call(a,h);if(!h.handler.guid)h.handler.guid=
d.guid}A.push(h);c.event.global[l]=true}a=null}}},global:{},remove:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(d===false)d=U;var f,h,l=0,k,o,x,r,A,C,J=a.nodeType?"events":"__events__",w=c.data(a),I=w&&w[J];if(w&&I){if(typeof I==="function"){w=I;I=I.events}if(b&&b.type){d=b.handler;b=b.type}if(!b||typeof b==="string"&&b.charAt(0)==="."){b=b||"";for(f in I)c.event.remove(a,f+b)}else{for(b=b.split(" ");f=b[l++];){r=f;k=f.indexOf(".")<0;o=[];if(!k){o=f.split(".");f=o.shift();x=RegExp("(^|\\.)"+
c.map(o.slice(0).sort(),Ya).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(A=I[f])if(d){r=c.event.special[f]||{};for(h=e||0;h<A.length;h++){C=A[h];if(d.guid===C.guid){if(k||x.test(C.namespace)){e==null&&A.splice(h--,1);r.remove&&r.remove.call(a,C)}if(e!=null)break}}if(A.length===0||e!=null&&A.length===1){if(!r.teardown||r.teardown.call(a,o)===false)c.removeEvent(a,f,w.handle);delete I[f]}}else for(h=0;h<A.length;h++){C=A[h];if(k||x.test(C.namespace)){c.event.remove(a,r,C.handler,h);A.splice(h--,1)}}}if(c.isEmptyObject(I)){if(b=
w.handle)b.elem=null;delete w.events;delete w.handle;if(typeof w==="function")c.removeData(a,J);else c.isEmptyObject(w)&&c.removeData(a)}}}}},trigger:function(a,b,d,e){var f=a.type||a;if(!e){a=typeof a==="object"?a[c.expando]?a:c.extend(c.Event(f),a):c.Event(f);if(f.indexOf("!")>=0){a.type=f=f.slice(0,-1);a.exclusive=true}if(!d){a.stopPropagation();c.event.global[f]&&c.each(c.cache,function(){this.events&&this.events[f]&&c.event.trigger(a,b,this.handle.elem)})}if(!d||d.nodeType===3||d.nodeType===
8)return B;a.result=B;a.target=d;b=c.makeArray(b);b.unshift(a)}a.currentTarget=d;(e=d.nodeType?c.data(d,"handle"):(c.data(d,"__events__")||{}).handle)&&e.apply(d,b);e=d.parentNode||d.ownerDocument;try{if(!(d&&d.nodeName&&c.noData[d.nodeName.toLowerCase()]))if(d["on"+f]&&d["on"+f].apply(d,b)===false){a.result=false;a.preventDefault()}}catch(h){}if(!a.isPropagationStopped()&&e)c.event.trigger(a,b,e,true);else if(!a.isDefaultPrevented()){var l;e=a.target;var k=f.replace(X,""),o=c.nodeName(e,"a")&&k===
"click",x=c.event.special[k]||{};if((!x._default||x._default.call(d,a)===false)&&!o&&!(e&&e.nodeName&&c.noData[e.nodeName.toLowerCase()])){try{if(e[k]){if(l=e["on"+k])e["on"+k]=null;c.event.triggered=true;e[k]()}}catch(r){}if(l)e["on"+k]=l;c.event.triggered=false}}},handle:function(a){var b,d,e,f;d=[];var h=c.makeArray(arguments);a=h[0]=c.event.fix(a||E.event);a.currentTarget=this;b=a.type.indexOf(".")<0&&!a.exclusive;if(!b){e=a.type.split(".");a.type=e.shift();d=e.slice(0).sort();e=RegExp("(^|\\.)"+
d.join("\\.(?:.*\\.)?")+"(\\.|$)")}a.namespace=a.namespace||d.join(".");f=c.data(this,this.nodeType?"events":"__events__");if(typeof f==="function")f=f.events;d=(f||{})[a.type];if(f&&d){d=d.slice(0);f=0;for(var l=d.length;f<l;f++){var k=d[f];if(b||e.test(k.namespace)){a.handler=k.handler;a.data=k.data;a.handleObj=k;k=k.handler.apply(this,h);if(k!==B){a.result=k;if(k===false){a.preventDefault();a.stopPropagation()}}if(a.isImmediatePropagationStopped())break}}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[c.expando])return a;var b=a;a=c.Event(b);for(var d=this.props.length,e;d;){e=this.props[--d];a[e]=b[e]}if(!a.target)a.target=a.srcElement||t;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null){b=t.documentElement;d=t.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||
d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0)}if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==B)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,Y(a.origType,a.selector),c.extend({},a,{handler:Ka,guid:a.handler.guid}))},remove:function(a){c.event.remove(this,
Y(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,d){if(c.isWindow(this))this.onbeforeunload=d},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};c.removeEvent=t.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};c.Event=function(a){if(!this.preventDefault)return new c.Event(a);if(a&&a.type){this.originalEvent=a;this.type=a.type}else this.type=a;this.timeStamp=
c.now();this[c.expando]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ca;var a=this.originalEvent;if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=ca;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ca;this.stopPropagation()},isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U};
var va=function(a){var b=a.relatedTarget;try{for(;b&&b!==this;)b=b.parentNode;if(b!==this){a.type=a.data;c.event.handle.apply(this,arguments)}}catch(d){}},wa=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?wa:va,a)},teardown:function(d){c.event.remove(this,b,d&&d.selector?wa:va)}}});if(!c.support.submitBubbles)c.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!==
"form"){c.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="submit"||d==="image")&&c(b).closest("form").length){a.liveFired=B;return la("submit",this,arguments)}});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="text"||d==="password")&&c(b).closest("form").length&&a.keyCode===13){a.liveFired=B;return la("submit",this,arguments)}})}else return false},teardown:function(){c.event.remove(this,".specialSubmit")}};if(!c.support.changeBubbles){var V,
xa=function(a){var b=a.type,d=a.value;if(b==="radio"||b==="checkbox")d=a.checked;else if(b==="select-multiple")d=a.selectedIndex>-1?c.map(a.options,function(e){return e.selected}).join("-"):"";else if(a.nodeName.toLowerCase()==="select")d=a.selectedIndex;return d},Z=function(a,b){var d=a.target,e,f;if(!(!ia.test(d.nodeName)||d.readOnly)){e=c.data(d,"_change_data");f=xa(d);if(a.type!=="focusout"||d.type!=="radio")c.data(d,"_change_data",f);if(!(e===B||f===e))if(e!=null||f){a.type="change";a.liveFired=
B;return c.event.trigger(a,b,d)}}};c.event.special.change={filters:{focusout:Z,beforedeactivate:Z,click:function(a){var b=a.target,d=b.type;if(d==="radio"||d==="checkbox"||b.nodeName.toLowerCase()==="select")return Z.call(this,a)},keydown:function(a){var b=a.target,d=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple")return Z.call(this,a)},beforeactivate:function(a){a=a.target;c.data(a,"_change_data",xa(a))}},setup:function(){if(this.type===
"file")return false;for(var a in V)c.event.add(this,a+".specialChange",V[a]);return ia.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return ia.test(this.nodeName)}};V=c.event.special.change.filters;V.focus=V.beforeactivate}t.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.trigger(e,null,e.target)}c.event.special[b]={setup:function(){ua[b]++===0&&t.addEventListener(a,d,true)},teardown:function(){--ua[b]===
0&&t.removeEventListener(a,d,true)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(d,e,f){if(typeof d==="object"){for(var h in d)this[b](h,e,d[h],f);return this}if(c.isFunction(e)||e===false){f=e;e=B}var l=b==="one"?c.proxy(f,function(o){c(this).unbind(o,l);return f.apply(this,arguments)}):f;if(d==="unload"&&b!=="one")this.one(d,e,f);else{h=0;for(var k=this.length;h<k;h++)c.event.add(this[h],d,l,e)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault)for(var d in a)this.unbind(d,
a[d]);else{d=0;for(var e=this.length;d<e;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,e){return this.live(b,d,e,a)},undelegate:function(a,b,d){return arguments.length===0?this.unbind("live"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var d=c.Event(a);d.preventDefault();d.stopPropagation();c.event.trigger(d,b,this[0]);return d.result}},toggle:function(a){for(var b=arguments,d=
1;d<b.length;)c.proxy(a,b[d++]);return this.click(c.proxy(a,function(e){var f=(c.data(this,"lastToggle"+a.guid)||0)%d;c.data(this,"lastToggle"+a.guid,f+1);e.preventDefault();return b[f].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var ya={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(d,e,f,h){var l,k=0,o,x,r=h||this.selector;h=h?this:c(this.context);if(typeof d===
"object"&&!d.preventDefault){for(l in d)h[b](l,e,d[l],r);return this}if(c.isFunction(e)){f=e;e=B}for(d=(d||"").split(" ");(l=d[k++])!=null;){o=X.exec(l);x="";if(o){x=o[0];l=l.replace(X,"")}if(l==="hover")d.push("mouseenter"+x,"mouseleave"+x);else{o=l;if(l==="focus"||l==="blur"){d.push(ya[l]+x);l+=x}else l=(ya[l]||l)+x;if(b==="live"){x=0;for(var A=h.length;x<A;x++)c.event.add(h[x],"live."+Y(l,r),{data:e,selector:r,handler:f,origType:l,origHandler:f,preType:o})}else h.unbind("live."+Y(l,r),f)}}return this}});
c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(d,e){if(e==null){e=d;d=null}return arguments.length>0?this.bind(b,d,e):this.trigger(b)};if(c.attrFn)c.attrFn[b]=true});E.attachEvent&&!E.addEventListener&&c(E).bind("unload",function(){for(var a in c.cache)if(c.cache[a].handle)try{c.event.remove(c.cache[a].handle.elem)}catch(b){}});
(function(){function a(g,i,n,m,p,q){p=0;for(var u=m.length;p<u;p++){var y=m[p];if(y){var F=false;for(y=y[g];y;){if(y.sizcache===n){F=m[y.sizset];break}if(y.nodeType===1&&!q){y.sizcache=n;y.sizset=p}if(y.nodeName.toLowerCase()===i){F=y;break}y=y[g]}m[p]=F}}}function b(g,i,n,m,p,q){p=0;for(var u=m.length;p<u;p++){var y=m[p];if(y){var F=false;for(y=y[g];y;){if(y.sizcache===n){F=m[y.sizset];break}if(y.nodeType===1){if(!q){y.sizcache=n;y.sizset=p}if(typeof i!=="string"){if(y===i){F=true;break}}else if(k.filter(i,
[y]).length>0){F=y;break}}y=y[g]}m[p]=F}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,h=false,l=true;[0,0].sort(function(){l=false;return 0});var k=function(g,i,n,m){n=n||[];var p=i=i||t;if(i.nodeType!==1&&i.nodeType!==9)return[];if(!g||typeof g!=="string")return n;var q,u,y,F,M,N=true,O=k.isXML(i),D=[],R=g;do{d.exec("");if(q=d.exec(R)){R=q[3];D.push(q[1]);if(q[2]){F=q[3];
break}}}while(q);if(D.length>1&&x.exec(g))if(D.length===2&&o.relative[D[0]])u=L(D[0]+D[1],i);else for(u=o.relative[D[0]]?[i]:k(D.shift(),i);D.length;){g=D.shift();if(o.relative[g])g+=D.shift();u=L(g,u)}else{if(!m&&D.length>1&&i.nodeType===9&&!O&&o.match.ID.test(D[0])&&!o.match.ID.test(D[D.length-1])){q=k.find(D.shift(),i,O);i=q.expr?k.filter(q.expr,q.set)[0]:q.set[0]}if(i){q=m?{expr:D.pop(),set:C(m)}:k.find(D.pop(),D.length===1&&(D[0]==="~"||D[0]==="+")&&i.parentNode?i.parentNode:i,O);u=q.expr?k.filter(q.expr,
q.set):q.set;if(D.length>0)y=C(u);else N=false;for(;D.length;){q=M=D.pop();if(o.relative[M])q=D.pop();else M="";if(q==null)q=i;o.relative[M](y,q,O)}}else y=[]}y||(y=u);y||k.error(M||g);if(f.call(y)==="[object Array]")if(N)if(i&&i.nodeType===1)for(g=0;y[g]!=null;g++){if(y[g]&&(y[g]===true||y[g].nodeType===1&&k.contains(i,y[g])))n.push(u[g])}else for(g=0;y[g]!=null;g++)y[g]&&y[g].nodeType===1&&n.push(u[g]);else n.push.apply(n,y);else C(y,n);if(F){k(F,p,n,m);k.uniqueSort(n)}return n};k.uniqueSort=function(g){if(w){h=
l;g.sort(w);if(h)for(var i=1;i<g.length;i++)g[i]===g[i-1]&&g.splice(i--,1)}return g};k.matches=function(g,i){return k(g,null,null,i)};k.matchesSelector=function(g,i){return k(i,null,null,[g]).length>0};k.find=function(g,i,n){var m;if(!g)return[];for(var p=0,q=o.order.length;p<q;p++){var u,y=o.order[p];if(u=o.leftMatch[y].exec(g)){var F=u[1];u.splice(1,1);if(F.substr(F.length-1)!=="\\"){u[1]=(u[1]||"").replace(/\\/g,"");m=o.find[y](u,i,n);if(m!=null){g=g.replace(o.match[y],"");break}}}}m||(m=i.getElementsByTagName("*"));
return{set:m,expr:g}};k.filter=function(g,i,n,m){for(var p,q,u=g,y=[],F=i,M=i&&i[0]&&k.isXML(i[0]);g&&i.length;){for(var N in o.filter)if((p=o.leftMatch[N].exec(g))!=null&&p[2]){var O,D,R=o.filter[N];D=p[1];q=false;p.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(F===y)y=[];if(o.preFilter[N])if(p=o.preFilter[N](p,F,n,y,m,M)){if(p===true)continue}else q=O=true;if(p)for(var j=0;(D=F[j])!=null;j++)if(D){O=R(D,p,j,F);var s=m^!!O;if(n&&O!=null)if(s)q=true;else F[j]=false;else if(s){y.push(D);q=true}}if(O!==
B){n||(F=y);g=g.replace(o.match[N],"");if(!q)return[];break}}}if(g===u)if(q==null)k.error(g);else break;u=g}return F};k.error=function(g){throw"Syntax error, unrecognized expression: "+g;};var o=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(g){return g.getAttribute("href")}},relative:{"+":function(g,i){var n=typeof i==="string",m=n&&!/\W/.test(i);n=n&&!m;if(m)i=i.toLowerCase();m=0;for(var p=g.length,q;m<p;m++)if(q=g[m]){for(;(q=q.previousSibling)&&q.nodeType!==1;);g[m]=n||q&&q.nodeName.toLowerCase()===
i?q||false:q===i}n&&k.filter(i,g,true)},">":function(g,i){var n,m=typeof i==="string",p=0,q=g.length;if(m&&!/\W/.test(i))for(i=i.toLowerCase();p<q;p++){if(n=g[p]){n=n.parentNode;g[p]=n.nodeName.toLowerCase()===i?n:false}}else{for(;p<q;p++)if(n=g[p])g[p]=m?n.parentNode:n.parentNode===i;m&&k.filter(i,g,true)}},"":function(g,i,n){var m,p=e++,q=b;if(typeof i==="string"&&!/\W/.test(i)){m=i=i.toLowerCase();q=a}q("parentNode",i,p,g,m,n)},"~":function(g,i,n){var m,p=e++,q=b;if(typeof i==="string"&&!/\W/.test(i)){m=
i=i.toLowerCase();q=a}q("previousSibling",i,p,g,m,n)}},find:{ID:function(g,i,n){if(typeof i.getElementById!=="undefined"&&!n)return(g=i.getElementById(g[1]))&&g.parentNode?[g]:[]},NAME:function(g,i){if(typeof i.getElementsByName!=="undefined"){for(var n=[],m=i.getElementsByName(g[1]),p=0,q=m.length;p<q;p++)m[p].getAttribute("name")===g[1]&&n.push(m[p]);return n.length===0?null:n}},TAG:function(g,i){return i.getElementsByTagName(g[1])}},preFilter:{CLASS:function(g,i,n,m,p,q){g=" "+g[1].replace(/\\/g,
"")+" ";if(q)return g;q=0;for(var u;(u=i[q])!=null;q++)if(u)if(p^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(g)>=0))n||m.push(u);else if(n)i[q]=false;return false},ID:function(g){return g[1].replace(/\\/g,"")},TAG:function(g){return g[1].toLowerCase()},CHILD:function(g){if(g[1]==="nth"){var i=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(g[2]==="even"&&"2n"||g[2]==="odd"&&"2n+1"||!/\D/.test(g[2])&&"0n+"+g[2]||g[2]);g[2]=i[1]+(i[2]||1)-0;g[3]=i[3]-0}g[0]=e++;return g},ATTR:function(g,i,n,
m,p,q){i=g[1].replace(/\\/g,"");if(!q&&o.attrMap[i])g[1]=o.attrMap[i];if(g[2]==="~=")g[4]=" "+g[4]+" ";return g},PSEUDO:function(g,i,n,m,p){if(g[1]==="not")if((d.exec(g[3])||"").length>1||/^\w/.test(g[3]))g[3]=k(g[3],null,null,i);else{g=k.filter(g[3],i,n,true^p);n||m.push.apply(m,g);return false}else if(o.match.POS.test(g[0])||o.match.CHILD.test(g[0]))return true;return g},POS:function(g){g.unshift(true);return g}},filters:{enabled:function(g){return g.disabled===false&&g.type!=="hidden"},disabled:function(g){return g.disabled===
true},checked:function(g){return g.checked===true},selected:function(g){return g.selected===true},parent:function(g){return!!g.firstChild},empty:function(g){return!g.firstChild},has:function(g,i,n){return!!k(n[3],g).length},header:function(g){return/h\d/i.test(g.nodeName)},text:function(g){return"text"===g.type},radio:function(g){return"radio"===g.type},checkbox:function(g){return"checkbox"===g.type},file:function(g){return"file"===g.type},password:function(g){return"password"===g.type},submit:function(g){return"submit"===
g.type},image:function(g){return"image"===g.type},reset:function(g){return"reset"===g.type},button:function(g){return"button"===g.type||g.nodeName.toLowerCase()==="button"},input:function(g){return/input|select|textarea|button/i.test(g.nodeName)}},setFilters:{first:function(g,i){return i===0},last:function(g,i,n,m){return i===m.length-1},even:function(g,i){return i%2===0},odd:function(g,i){return i%2===1},lt:function(g,i,n){return i<n[3]-0},gt:function(g,i,n){return i>n[3]-0},nth:function(g,i,n){return n[3]-
0===i},eq:function(g,i,n){return n[3]-0===i}},filter:{PSEUDO:function(g,i,n,m){var p=i[1],q=o.filters[p];if(q)return q(g,n,i,m);else if(p==="contains")return(g.textContent||g.innerText||k.getText([g])||"").indexOf(i[3])>=0;else if(p==="not"){i=i[3];n=0;for(m=i.length;n<m;n++)if(i[n]===g)return false;return true}else k.error("Syntax error, unrecognized expression: "+p)},CHILD:function(g,i){var n=i[1],m=g;switch(n){case "only":case "first":for(;m=m.previousSibling;)if(m.nodeType===1)return false;if(n===
"first")return true;m=g;case "last":for(;m=m.nextSibling;)if(m.nodeType===1)return false;return true;case "nth":n=i[2];var p=i[3];if(n===1&&p===0)return true;var q=i[0],u=g.parentNode;if(u&&(u.sizcache!==q||!g.nodeIndex)){var y=0;for(m=u.firstChild;m;m=m.nextSibling)if(m.nodeType===1)m.nodeIndex=++y;u.sizcache=q}m=g.nodeIndex-p;return n===0?m===0:m%n===0&&m/n>=0}},ID:function(g,i){return g.nodeType===1&&g.getAttribute("id")===i},TAG:function(g,i){return i==="*"&&g.nodeType===1||g.nodeName.toLowerCase()===
i},CLASS:function(g,i){return(" "+(g.className||g.getAttribute("class"))+" ").indexOf(i)>-1},ATTR:function(g,i){var n=i[1];n=o.attrHandle[n]?o.attrHandle[n](g):g[n]!=null?g[n]:g.getAttribute(n);var m=n+"",p=i[2],q=i[4];return n==null?p==="!=":p==="="?m===q:p==="*="?m.indexOf(q)>=0:p==="~="?(" "+m+" ").indexOf(q)>=0:!q?m&&n!==false:p==="!="?m!==q:p==="^="?m.indexOf(q)===0:p==="$="?m.substr(m.length-q.length)===q:p==="|="?m===q||m.substr(0,q.length+1)===q+"-":false},POS:function(g,i,n,m){var p=o.setFilters[i[2]];
if(p)return p(g,n,i,m)}}},x=o.match.POS,r=function(g,i){return"\\"+(i-0+1)},A;for(A in o.match){o.match[A]=RegExp(o.match[A].source+/(?![^\[]*\])(?![^\(]*\))/.source);o.leftMatch[A]=RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[A].source.replace(/\\(\d+)/g,r))}var C=function(g,i){g=Array.prototype.slice.call(g,0);if(i){i.push.apply(i,g);return i}return g};try{Array.prototype.slice.call(t.documentElement.childNodes,0)}catch(J){C=function(g,i){var n=0,m=i||[];if(f.call(g)==="[object Array]")Array.prototype.push.apply(m,
g);else if(typeof g.length==="number")for(var p=g.length;n<p;n++)m.push(g[n]);else for(;g[n];n++)m.push(g[n]);return m}}var w,I;if(t.documentElement.compareDocumentPosition)w=function(g,i){if(g===i){h=true;return 0}if(!g.compareDocumentPosition||!i.compareDocumentPosition)return g.compareDocumentPosition?-1:1;return g.compareDocumentPosition(i)&4?-1:1};else{w=function(g,i){var n,m,p=[],q=[];n=g.parentNode;m=i.parentNode;var u=n;if(g===i){h=true;return 0}else if(n===m)return I(g,i);else if(n){if(!m)return 1}else return-1;
for(;u;){p.unshift(u);u=u.parentNode}for(u=m;u;){q.unshift(u);u=u.parentNode}n=p.length;m=q.length;for(u=0;u<n&&u<m;u++)if(p[u]!==q[u])return I(p[u],q[u]);return u===n?I(g,q[u],-1):I(p[u],i,1)};I=function(g,i,n){if(g===i)return n;for(g=g.nextSibling;g;){if(g===i)return-1;g=g.nextSibling}return 1}}k.getText=function(g){for(var i="",n,m=0;g[m];m++){n=g[m];if(n.nodeType===3||n.nodeType===4)i+=n.nodeValue;else if(n.nodeType!==8)i+=k.getText(n.childNodes)}return i};(function(){var g=t.createElement("div"),
i="script"+(new Date).getTime(),n=t.documentElement;g.innerHTML="<a name='"+i+"'/>";n.insertBefore(g,n.firstChild);if(t.getElementById(i)){o.find.ID=function(m,p,q){if(typeof p.getElementById!=="undefined"&&!q)return(p=p.getElementById(m[1]))?p.id===m[1]||typeof p.getAttributeNode!=="undefined"&&p.getAttributeNode("id").nodeValue===m[1]?[p]:B:[]};o.filter.ID=function(m,p){var q=typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id");return m.nodeType===1&&q&&q.nodeValue===p}}n.removeChild(g);
n=g=null})();(function(){var g=t.createElement("div");g.appendChild(t.createComment(""));if(g.getElementsByTagName("*").length>0)o.find.TAG=function(i,n){var m=n.getElementsByTagName(i[1]);if(i[1]==="*"){for(var p=[],q=0;m[q];q++)m[q].nodeType===1&&p.push(m[q]);m=p}return m};g.innerHTML="<a href='#'></a>";if(g.firstChild&&typeof g.firstChild.getAttribute!=="undefined"&&g.firstChild.getAttribute("href")!=="#")o.attrHandle.href=function(i){return i.getAttribute("href",2)};g=null})();t.querySelectorAll&&
function(){var g=k,i=t.createElement("div");i.innerHTML="<p class='TEST'></p>";if(!(i.querySelectorAll&&i.querySelectorAll(".TEST").length===0)){k=function(m,p,q,u){p=p||t;m=m.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!u&&!k.isXML(p))if(p.nodeType===9)try{return C(p.querySelectorAll(m),q)}catch(y){}else if(p.nodeType===1&&p.nodeName.toLowerCase()!=="object"){var F=p.getAttribute("id"),M=F||"__sizzle__";F||p.setAttribute("id",M);try{return C(p.querySelectorAll("#"+M+" "+m),q)}catch(N){}finally{F||
p.removeAttribute("id")}}return g(m,p,q,u)};for(var n in g)k[n]=g[n];i=null}}();(function(){var g=t.documentElement,i=g.matchesSelector||g.mozMatchesSelector||g.webkitMatchesSelector||g.msMatchesSelector,n=false;try{i.call(t.documentElement,"[test!='']:sizzle")}catch(m){n=true}if(i)k.matchesSelector=function(p,q){q=q.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!k.isXML(p))try{if(n||!o.match.PSEUDO.test(q)&&!/!=/.test(q))return i.call(p,q)}catch(u){}return k(q,null,null,[p]).length>0}})();(function(){var g=
t.createElement("div");g.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!g.getElementsByClassName||g.getElementsByClassName("e").length===0)){g.lastChild.className="e";if(g.getElementsByClassName("e").length!==1){o.order.splice(1,0,"CLASS");o.find.CLASS=function(i,n,m){if(typeof n.getElementsByClassName!=="undefined"&&!m)return n.getElementsByClassName(i[1])};g=null}}})();k.contains=t.documentElement.contains?function(g,i){return g!==i&&(g.contains?g.contains(i):true)}:t.documentElement.compareDocumentPosition?
function(g,i){return!!(g.compareDocumentPosition(i)&16)}:function(){return false};k.isXML=function(g){return(g=(g?g.ownerDocument||g:0).documentElement)?g.nodeName!=="HTML":false};var L=function(g,i){for(var n,m=[],p="",q=i.nodeType?[i]:i;n=o.match.PSEUDO.exec(g);){p+=n[0];g=g.replace(o.match.PSEUDO,"")}g=o.relative[g]?g+"*":g;n=0;for(var u=q.length;n<u;n++)k(g,q[n],m);return k.filter(p,m)};c.find=k;c.expr=k.selectors;c.expr[":"]=c.expr.filters;c.unique=k.uniqueSort;c.text=k.getText;c.isXMLDoc=k.isXML;
c.contains=k.contains})();var Za=/Until$/,$a=/^(?:parents|prevUntil|prevAll)/,ab=/,/,Na=/^.[^:#\[\.,]*$/,bb=Array.prototype.slice,cb=c.expr.match.POS;c.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),d=0,e=0,f=this.length;e<f;e++){d=b.length;c.find(a,this[e],b);if(e>0)for(var h=d;h<b.length;h++)for(var l=0;l<d;l++)if(b[l]===b[h]){b.splice(h--,1);break}}return b},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,e=b.length;d<e;d++)if(c.contains(this,b[d]))return true})},
not:function(a){return this.pushStack(ma(this,a,false),"not",a)},filter:function(a){return this.pushStack(ma(this,a,true),"filter",a)},is:function(a){return!!a&&c.filter(a,this).length>0},closest:function(a,b){var d=[],e,f,h=this[0];if(c.isArray(a)){var l,k={},o=1;if(h&&a.length){e=0;for(f=a.length;e<f;e++){l=a[e];k[l]||(k[l]=c.expr.match.POS.test(l)?c(l,b||this.context):l)}for(;h&&h.ownerDocument&&h!==b;){for(l in k){e=k[l];if(e.jquery?e.index(h)>-1:c(h).is(e))d.push({selector:l,elem:h,level:o})}h=
h.parentNode;o++}}return d}l=cb.test(a)?c(a,b||this.context):null;e=0;for(f=this.length;e<f;e++)for(h=this[e];h;)if(l?l.index(h)>-1:c.find.matchesSelector(h,a)){d.push(h);break}else{h=h.parentNode;if(!h||!h.ownerDocument||h===b)break}d=d.length>1?c.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){if(!a||typeof a==="string")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d=typeof a==="string"?c(a,b||this.context):
c.makeArray(a),e=c.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:c.unique(e))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,
2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,
b){c.fn[a]=function(d,e){var f=c.map(this,b,d);Za.test(a)||(e=d);if(e&&typeof e==="string")f=c.filter(e,f);f=this.length>1?c.unique(f):f;if((this.length>1||ab.test(e))&&$a.test(a))f=f.reverse();return this.pushStack(f,a,bb.call(arguments).join(","))}});c.extend({filter:function(a,b,d){if(d)a=":not("+a+")";return b.length===1?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,d){var e=[];for(a=a[b];a&&a.nodeType!==9&&(d===B||a.nodeType!==1||!c(a).is(d));){a.nodeType===1&&
e.push(a);a=a[b]}return e},nth:function(a,b,d){b=b||1;for(var e=0;a;a=a[d])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var za=/ jQuery\d+="(?:\d+|null)"/g,$=/^\s+/,Aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ba=/<([\w:]+)/,db=/<tbody/i,eb=/<|&#?\w+;/,Ca=/<(?:script|object|embed|option|style)/i,Da=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/\=([^="'>\s]+\/)>/g,P={option:[1,
"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};P.optgroup=P.option;P.tbody=P.tfoot=P.colgroup=P.caption=P.thead;P.th=P.td;if(!c.support.htmlSerialize)P._default=[1,"div<div>","</div>"];c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var d=
c(this);d.text(a.call(this,b,d.text()))});if(typeof a!=="object"&&a!==B)return this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapAll(a.call(this,d))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},
wrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},
prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,
this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,e;(e=this[d])!=null;d++)if(!a||c.filter(a,[e]).length){if(!b&&e.nodeType===1){c.cleanData(e.getElementsByTagName("*"));c.cleanData([e])}e.parentNode&&e.parentNode.removeChild(e)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);
return this},clone:function(a){var b=this.map(function(){if(!c.support.noCloneEvent&&!c.isXMLDoc(this)){var d=this.outerHTML,e=this.ownerDocument;if(!d){d=e.createElement("div");d.appendChild(this.cloneNode(true));d=d.innerHTML}return c.clean([d.replace(za,"").replace(fb,'="$1">').replace($,"")],e)[0]}else return this.cloneNode(true)});if(a===true){na(this,b);na(this.find("*"),b.find("*"))}return b},html:function(a){if(a===B)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(za,""):null;
else if(typeof a==="string"&&!Ca.test(a)&&(c.support.leadingWhitespace||!$.test(a))&&!P[(Ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Aa,"<$1></$2>");try{for(var b=0,d=this.length;b<d;b++)if(this[b].nodeType===1){c.cleanData(this[b].getElementsByTagName("*"));this[b].innerHTML=a}}catch(e){this.empty().append(a)}}else c.isFunction(a)?this.each(function(f){var h=c(this);h.html(a.call(this,f,h.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=
c(this),e=d.html();d.replaceWith(a.call(this,b,e))});if(typeof a!=="string")a=c(a).detach();return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}else return this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,true)},domManip:function(a,b,d){var e,f,h,l=a[0],k=[];if(!c.support.checkClone&&arguments.length===3&&typeof l==="string"&&Da.test(l))return this.each(function(){c(this).domManip(a,
b,d,true)});if(c.isFunction(l))return this.each(function(x){var r=c(this);a[0]=l.call(this,x,b?r.html():B);r.domManip(a,b,d)});if(this[0]){e=l&&l.parentNode;e=c.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:c.buildFragment(a,this,k);h=e.fragment;if(f=h.childNodes.length===1?h=h.firstChild:h.firstChild){b=b&&c.nodeName(f,"tr");f=0;for(var o=this.length;f<o;f++)d.call(b?c.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):
this[f]:this[f],f>0||e.cacheable||this.length>1?h.cloneNode(true):h)}k.length&&c.each(k,Oa)}return this}});c.buildFragment=function(a,b,d){var e,f,h;b=b&&b[0]?b[0].ownerDocument||b[0]:t;if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&b===t&&!Ca.test(a[0])&&(c.support.checkClone||!Da.test(a[0]))){f=true;if(h=c.fragments[a[0]])if(h!==1)e=h}if(!e){e=b.createDocumentFragment();c.clean(a,b,e,d)}if(f)c.fragments[a[0]]=h?e:1;return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var e=[];d=c(d);var f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&d.length===1){d[b](this[0]);return this}else{f=0;for(var h=d.length;f<h;f++){var l=(f>0?this.clone(true):this).get();c(d[f])[b](l);e=e.concat(l)}return this.pushStack(e,a,d.selector)}}});c.extend({clean:function(a,b,d,e){b=b||t;if(typeof b.createElement==="undefined")b=b.ownerDocument||
b[0]&&b[0].ownerDocument||t;for(var f=[],h=0,l;(l=a[h])!=null;h++){if(typeof l==="number")l+="";if(l){if(typeof l==="string"&&!eb.test(l))l=b.createTextNode(l);else if(typeof l==="string"){l=l.replace(Aa,"<$1></$2>");var k=(Ba.exec(l)||["",""])[1].toLowerCase(),o=P[k]||P._default,x=o[0],r=b.createElement("div");for(r.innerHTML=o[1]+l+o[2];x--;)r=r.lastChild;if(!c.support.tbody){x=db.test(l);k=k==="table"&&!x?r.firstChild&&r.firstChild.childNodes:o[1]==="<table>"&&!x?r.childNodes:[];for(o=k.length-
1;o>=0;--o)c.nodeName(k[o],"tbody")&&!k[o].childNodes.length&&k[o].parentNode.removeChild(k[o])}!c.support.leadingWhitespace&&$.test(l)&&r.insertBefore(b.createTextNode($.exec(l)[0]),r.firstChild);l=r.childNodes}if(l.nodeType)f.push(l);else f=c.merge(f,l)}}if(d)for(h=0;f[h];h++)if(e&&c.nodeName(f[h],"script")&&(!f[h].type||f[h].type.toLowerCase()==="text/javascript"))e.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{f[h].nodeType===1&&f.splice.apply(f,[h+1,0].concat(c.makeArray(f[h].getElementsByTagName("script"))));
d.appendChild(f[h])}return f},cleanData:function(a){for(var b,d,e=c.cache,f=c.event.special,h=c.support.deleteExpando,l=0,k;(k=a[l])!=null;l++)if(!(k.nodeName&&c.noData[k.nodeName.toLowerCase()]))if(d=k[c.expando]){if((b=e[d])&&b.events)for(var o in b.events)f[o]?c.event.remove(k,o):c.removeEvent(k,o,b.handle);if(h)delete k[c.expando];else k.removeAttribute&&k.removeAttribute(c.expando);delete e[d]}}});var Ea=/alpha\([^)]*\)/i,gb=/opacity=([^)]*)/,hb=/-([a-z])/ig,ib=/([A-Z])/g,Fa=/^-?\d+(?:px)?$/i,
jb=/^-?\d/,kb={position:"absolute",visibility:"hidden",display:"block"},Pa=["Left","Right"],Qa=["Top","Bottom"],W,Ga,aa,lb=function(a,b){return b.toUpperCase()};c.fn.css=function(a,b){if(arguments.length===2&&b===B)return this;return c.access(this,a,b,true,function(d,e,f){return f!==B?c.style(d,e,f):c.css(d,e)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=W(a,"opacity","opacity");return d===""?"1":d}else return a.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,
zoom:true,lineHeight:true},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,e){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var f,h=c.camelCase(b),l=a.style,k=c.cssHooks[h];b=c.cssProps[h]||h;if(d!==B){if(!(typeof d==="number"&&isNaN(d)||d==null)){if(typeof d==="number"&&!c.cssNumber[h])d+="px";if(!k||!("set"in k)||(d=k.set(a,d))!==B)try{l[b]=d}catch(o){}}}else{if(k&&"get"in k&&(f=k.get(a,false,e))!==B)return f;return l[b]}}},css:function(a,b,d){var e,f=c.camelCase(b),
h=c.cssHooks[f];b=c.cssProps[f]||f;if(h&&"get"in h&&(e=h.get(a,true,d))!==B)return e;else if(W)return W(a,b,f)},swap:function(a,b,d){var e={},f;for(f in b){e[f]=a.style[f];a.style[f]=b[f]}d.call(a);for(f in b)a.style[f]=e[f]},camelCase:function(a){return a.replace(hb,lb)}});c.curCSS=c.css;c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(d,e,f){var h;if(e){if(d.offsetWidth!==0)h=oa(d,b,f);else c.swap(d,kb,function(){h=oa(d,b,f)});if(h<=0){h=W(d,b,b);if(h==="0px"&&aa)h=aa(d,b,b);
if(h!=null)return h===""||h==="auto"?"0px":h}if(h<0||h==null){h=d.style[b];return h===""||h==="auto"?"0px":h}return typeof h==="string"?h:h+"px"}},set:function(d,e){if(Fa.test(e)){e=parseFloat(e);if(e>=0)return e+"px"}else return e}}});if(!c.support.opacity)c.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var d=a.style;d.zoom=1;var e=c.isNaN(b)?"":"alpha(opacity="+b*100+")",f=
d.filter||"";d.filter=Ea.test(f)?f.replace(Ea,e):d.filter+" "+e}};if(t.defaultView&&t.defaultView.getComputedStyle)Ga=function(a,b,d){var e;d=d.replace(ib,"-$1").toLowerCase();if(!(b=a.ownerDocument.defaultView))return B;if(b=b.getComputedStyle(a,null)){e=b.getPropertyValue(d);if(e===""&&!c.contains(a.ownerDocument.documentElement,a))e=c.style(a,d)}return e};if(t.documentElement.currentStyle)aa=function(a,b){var d,e,f=a.currentStyle&&a.currentStyle[b],h=a.style;if(!Fa.test(f)&&jb.test(f)){d=h.left;
e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;h.left=b==="fontSize"?"1em":f||0;f=h.pixelLeft+"px";h.left=d;a.runtimeStyle.left=e}return f===""?"auto":f};W=Ga||aa;if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!c.support.reliableHiddenOffsets&&(a.style.display||c.css(a,"display"))==="none"};c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)}}var mb=c.now(),nb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
ob=/^(?:select|textarea)/i,pb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,qb=/^(?:GET|HEAD)$/,Ra=/\[\]$/,T=/\=\?(&|$)/,ja=/\?/,rb=/([?&])_=[^&]*/,sb=/^(\w+:)?\/\/([^\/?#]+)/,tb=/%20/g,ub=/#.*$/,Ha=c.fn.load;c.fn.extend({load:function(a,b,d){if(typeof a!=="string"&&Ha)return Ha.apply(this,arguments);else if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}e="GET";if(b)if(c.isFunction(b)){d=b;b=null}else if(typeof b===
"object"){b=c.param(b,c.ajaxSettings.traditional);e="POST"}var h=this;c.ajax({url:a,type:e,dataType:"html",data:b,complete:function(l,k){if(k==="success"||k==="notmodified")h.html(f?c("<div>").append(l.responseText.replace(nb,"")).find(f):l.responseText);d&&h.each(d,[l.responseText,k,l])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||ob.test(this.nodeName)||pb.test(this.type))}).map(function(a,b){var d=c(this).val();return d==null?null:c.isArray(d)?c.map(d,function(e){return{name:b.name,value:e}}):{name:b.name,value:d}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(d){return this.bind(b,d)}});c.extend({get:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b=null}return c.ajax({type:"GET",url:a,data:b,success:d,dataType:e})},
getScript:function(a,b){return c.get(a,null,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},post:function(a,b,d,e){if(c.isFunction(b)){e=e||d;d=b;b={}}return c.ajax({type:"POST",url:a,data:b,success:d,dataType:e})},ajaxSetup:function(a){c.extend(c.ajaxSettings,a)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return new E.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",
script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},ajax:function(a){var b=c.extend(true,{},c.ajaxSettings,a),d,e,f,h=b.type.toUpperCase(),l=qb.test(h);b.url=b.url.replace(ub,"");b.context=a&&a.context!=null?a.context:b;if(b.data&&b.processData&&typeof b.data!=="string")b.data=c.param(b.data,b.traditional);if(b.dataType==="jsonp"){if(h==="GET")T.test(b.url)||(b.url+=(ja.test(b.url)?"&":"?")+(b.jsonp||"callback")+"=?");else if(!b.data||
!T.test(b.data))b.data=(b.data?b.data+"&":"")+(b.jsonp||"callback")+"=?";b.dataType="json"}if(b.dataType==="json"&&(b.data&&T.test(b.data)||T.test(b.url))){d=b.jsonpCallback||"jsonp"+mb++;if(b.data)b.data=(b.data+"").replace(T,"="+d+"$1");b.url=b.url.replace(T,"="+d+"$1");b.dataType="script";var k=E[d];E[d]=function(m){if(c.isFunction(k))k(m);else{E[d]=B;try{delete E[d]}catch(p){}}f=m;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);r&&r.removeChild(A)}}if(b.dataType==="script"&&b.cache===null)b.cache=
false;if(b.cache===false&&l){var o=c.now(),x=b.url.replace(rb,"$1_="+o);b.url=x+(x===b.url?(ja.test(b.url)?"&":"?")+"_="+o:"")}if(b.data&&l)b.url+=(ja.test(b.url)?"&":"?")+b.data;b.global&&c.active++===0&&c.event.trigger("ajaxStart");o=(o=sb.exec(b.url))&&(o[1]&&o[1].toLowerCase()!==location.protocol||o[2].toLowerCase()!==location.host);if(b.dataType==="script"&&h==="GET"&&o){var r=t.getElementsByTagName("head")[0]||t.documentElement,A=t.createElement("script");if(b.scriptCharset)A.charset=b.scriptCharset;
A.src=b.url;if(!d){var C=false;A.onload=A.onreadystatechange=function(){if(!C&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){C=true;c.handleSuccess(b,w,e,f);c.handleComplete(b,w,e,f);A.onload=A.onreadystatechange=null;r&&A.parentNode&&r.removeChild(A)}}}r.insertBefore(A,r.firstChild);return B}var J=false,w=b.xhr();if(w){b.username?w.open(h,b.url,b.async,b.username,b.password):w.open(h,b.url,b.async);try{if(b.data!=null&&!l||a&&a.contentType)w.setRequestHeader("Content-Type",
b.contentType);if(b.ifModified){c.lastModified[b.url]&&w.setRequestHeader("If-Modified-Since",c.lastModified[b.url]);c.etag[b.url]&&w.setRequestHeader("If-None-Match",c.etag[b.url])}o||w.setRequestHeader("X-Requested-With","XMLHttpRequest");w.setRequestHeader("Accept",b.dataType&&b.accepts[b.dataType]?b.accepts[b.dataType]+", */*; q=0.01":b.accepts._default)}catch(I){}if(b.beforeSend&&b.beforeSend.call(b.context,w,b)===false){b.global&&c.active--===1&&c.event.trigger("ajaxStop");w.abort();return false}b.global&&
c.triggerGlobal(b,"ajaxSend",[w,b]);var L=w.onreadystatechange=function(m){if(!w||w.readyState===0||m==="abort"){J||c.handleComplete(b,w,e,f);J=true;if(w)w.onreadystatechange=c.noop}else if(!J&&w&&(w.readyState===4||m==="timeout")){J=true;w.onreadystatechange=c.noop;e=m==="timeout"?"timeout":!c.httpSuccess(w)?"error":b.ifModified&&c.httpNotModified(w,b.url)?"notmodified":"success";var p;if(e==="success")try{f=c.httpData(w,b.dataType,b)}catch(q){e="parsererror";p=q}if(e==="success"||e==="notmodified")d||
c.handleSuccess(b,w,e,f);else c.handleError(b,w,e,p);d||c.handleComplete(b,w,e,f);m==="timeout"&&w.abort();if(b.async)w=null}};try{var g=w.abort;w.abort=function(){w&&Function.prototype.call.call(g,w);L("abort")}}catch(i){}b.async&&b.timeout>0&&setTimeout(function(){w&&!J&&L("timeout")},b.timeout);try{w.send(l||b.data==null?null:b.data)}catch(n){c.handleError(b,w,null,n);c.handleComplete(b,w,e,f)}b.async||L();return w}},param:function(a,b){var d=[],e=function(h,l){l=c.isFunction(l)?l():l;d[d.length]=
encodeURIComponent(h)+"="+encodeURIComponent(l)};if(b===B)b=c.ajaxSettings.traditional;if(c.isArray(a)||a.jquery)c.each(a,function(){e(this.name,this.value)});else for(var f in a)da(f,a[f],b,e);return d.join("&").replace(tb,"+")}});c.extend({active:0,lastModified:{},etag:{},handleError:function(a,b,d,e){a.error&&a.error.call(a.context,b,d,e);a.global&&c.triggerGlobal(a,"ajaxError",[b,a,e])},handleSuccess:function(a,b,d,e){a.success&&a.success.call(a.context,e,d,b);a.global&&c.triggerGlobal(a,"ajaxSuccess",
[b,a])},handleComplete:function(a,b,d){a.complete&&a.complete.call(a.context,b,d);a.global&&c.triggerGlobal(a,"ajaxComplete",[b,a]);a.global&&c.active--===1&&c.event.trigger("ajaxStop")},triggerGlobal:function(a,b,d){(a.context&&a.context.url==null?c(a.context):c.event).trigger(b,d)},httpSuccess:function(a){try{return!a.status&&location.protocol==="file:"||a.status>=200&&a.status<300||a.status===304||a.status===1223}catch(b){}return false},httpNotModified:function(a,b){var d=a.getResponseHeader("Last-Modified"),
e=a.getResponseHeader("Etag");if(d)c.lastModified[b]=d;if(e)c.etag[b]=e;return a.status===304},httpData:function(a,b,d){var e=a.getResponseHeader("content-type")||"",f=b==="xml"||!b&&e.indexOf("xml")>=0;a=f?a.responseXML:a.responseText;f&&a.documentElement.nodeName==="parsererror"&&c.error("parsererror");if(d&&d.dataFilter)a=d.dataFilter(a,b);if(typeof a==="string")if(b==="json"||!b&&e.indexOf("json")>=0)a=c.parseJSON(a);else if(b==="script"||!b&&e.indexOf("javascript")>=0)c.globalEval(a);return a}});
if(E.ActiveXObject)c.ajaxSettings.xhr=function(){if(E.location.protocol!=="file:")try{return new E.XMLHttpRequest}catch(a){}try{return new E.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}};c.support.ajax=!!c.ajaxSettings.xhr();var ea={},vb=/^(?:toggle|show|hide)$/,wb=/^([+\-]=)?([\d+.\-]+)(.*)$/,ba,pa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.fn.extend({show:function(a,b,d){if(a||a===0)return this.animate(S("show",
3),a,b,d);else{d=0;for(var e=this.length;d<e;d++){a=this[d];b=a.style.display;if(!c.data(a,"olddisplay")&&b==="none")b=a.style.display="";b===""&&c.css(a,"display")==="none"&&c.data(a,"olddisplay",qa(a.nodeName))}for(d=0;d<e;d++){a=this[d];b=a.style.display;if(b===""||b==="none")a.style.display=c.data(a,"olddisplay")||""}return this}},hide:function(a,b,d){if(a||a===0)return this.animate(S("hide",3),a,b,d);else{a=0;for(b=this.length;a<b;a++){d=c.css(this[a],"display");d!=="none"&&c.data(this[a],"olddisplay",
d)}for(a=0;a<b;a++)this[a].style.display="none";return this}},_toggle:c.fn.toggle,toggle:function(a,b,d){var e=typeof a==="boolean";if(c.isFunction(a)&&c.isFunction(b))this._toggle.apply(this,arguments);else a==null||e?this.each(function(){var f=e?a:c(this).is(":hidden");c(this)[f?"show":"hide"]()}):this.animate(S("toggle",3),a,b,d);return this},fadeTo:function(a,b,d,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d,e)},animate:function(a,b,d,e){var f=c.speed(b,
d,e);if(c.isEmptyObject(a))return this.each(f.complete);return this[f.queue===false?"each":"queue"](function(){var h=c.extend({},f),l,k=this.nodeType===1,o=k&&c(this).is(":hidden"),x=this;for(l in a){var r=c.camelCase(l);if(l!==r){a[r]=a[l];delete a[l];l=r}if(a[l]==="hide"&&o||a[l]==="show"&&!o)return h.complete.call(this);if(k&&(l==="height"||l==="width")){h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(c.css(this,"display")==="inline"&&c.css(this,"float")==="none")if(c.support.inlineBlockNeedsLayout)if(qa(this.nodeName)===
"inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}else this.style.display="inline-block"}if(c.isArray(a[l])){(h.specialEasing=h.specialEasing||{})[l]=a[l][1];a[l]=a[l][0]}}if(h.overflow!=null)this.style.overflow="hidden";h.curAnim=c.extend({},a);c.each(a,function(A,C){var J=new c.fx(x,h,A);if(vb.test(C))J[C==="toggle"?o?"show":"hide":C](a);else{var w=wb.exec(C),I=J.cur()||0;if(w){var L=parseFloat(w[2]),g=w[3]||"px";if(g!=="px"){c.style(x,A,(L||1)+g);I=(L||
1)/J.cur()*I;c.style(x,A,I+g)}if(w[1])L=(w[1]==="-="?-1:1)*L+I;J.custom(I,L,g)}else J.custom(I,C,"")}});return true})},stop:function(a,b){var d=c.timers;a&&this.queue([]);this.each(function(){for(var e=d.length-1;e>=0;e--)if(d[e].elem===this){b&&d[e](true);d.splice(e,1)}});b||this.dequeue();return this}});c.each({slideDown:S("show",1),slideUp:S("hide",1),slideToggle:S("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(d,e,f){return this.animate(b,
d,e,f)}});c.extend({speed:function(a,b,d){var e=a&&typeof a==="object"?c.extend({},a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};e.duration=c.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(){e.queue!==false&&c(this).dequeue();c.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,d,e){return d+e*a},swing:function(a,b,d,e){return(-Math.cos(a*
Math.PI)/2+0.5)*e+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;if(!b.orig)b.orig={}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a=parseFloat(c.css(this.elem,this.prop));return a&&a>-1E4?a:0},custom:function(a,b,d){function e(l){return f.step(l)}
var f=this,h=c.fx;this.startTime=c.now();this.start=a;this.end=b;this.unit=d||this.unit||"px";this.now=this.start;this.pos=this.state=0;e.elem=this.elem;if(e()&&c.timers.push(e)&&!ba)ba=setInterval(h.tick,h.interval)},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;
this.custom(this.cur(),0)},step:function(a){var b=c.now(),d=true;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var e in this.options.curAnim)if(this.options.curAnim[e]!==true)d=false;if(d){if(this.options.overflow!=null&&!c.support.shrinkWrapBlocks){var f=this.elem,h=this.options;c.each(["","X","Y"],function(k,o){f.style["overflow"+o]=h.overflow[k]})}this.options.hide&&c(this.elem).hide();if(this.options.hide||
this.options.show)for(var l in this.options.curAnim)c.style(this.elem,l,this.options.orig[l]);this.options.complete.call(this.elem)}return false}else{a=b-this.startTime;this.state=a/this.options.duration;b=this.options.easing||(c.easing.swing?"swing":"linear");this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||b](this.state,a,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};c.extend(c.fx,{tick:function(){for(var a=
c.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(ba);ba=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null)a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit;else a.elem[a.prop]=a.now}}});if(c.expr&&c.expr.filters)c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===
b.elem}).length};var xb=/^t(?:able|d|h)$/i,Ia=/^(?:body|html)$/i;c.fn.offset="getBoundingClientRect"in t.documentElement?function(a){var b=this[0],d;if(a)return this.each(function(l){c.offset.setOffset(this,a,l)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,h=f.documentElement;if(!d||!c.contains(h,b))return d||{top:0,left:0};b=f.body;f=fa(f);return{top:d.top+(f.pageYOffset||c.support.boxModel&&
h.scrollTop||b.scrollTop)-(h.clientTop||b.clientTop||0),left:d.left+(f.pageXOffset||c.support.boxModel&&h.scrollLeft||b.scrollLeft)-(h.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(x){c.offset.setOffset(this,a,x)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d,e=b.offsetParent,f=b.ownerDocument,h=f.documentElement,l=f.body;d=(f=f.defaultView)?f.getComputedStyle(b,null):b.currentStyle;
for(var k=b.offsetTop,o=b.offsetLeft;(b=b.parentNode)&&b!==l&&b!==h;){if(c.offset.supportsFixedPosition&&d.position==="fixed")break;d=f?f.getComputedStyle(b,null):b.currentStyle;k-=b.scrollTop;o-=b.scrollLeft;if(b===e){k+=b.offsetTop;o+=b.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&xb.test(b.nodeName))){k+=parseFloat(d.borderTopWidth)||0;o+=parseFloat(d.borderLeftWidth)||0}e=b.offsetParent}if(c.offset.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"){k+=
parseFloat(d.borderTopWidth)||0;o+=parseFloat(d.borderLeftWidth)||0}d=d}if(d.position==="relative"||d.position==="static"){k+=l.offsetTop;o+=l.offsetLeft}if(c.offset.supportsFixedPosition&&d.position==="fixed"){k+=Math.max(h.scrollTop,l.scrollTop);o+=Math.max(h.scrollLeft,l.scrollLeft)}return{top:k,left:o}};c.offset={initialize:function(){var a=t.body,b=t.createElement("div"),d,e,f,h=parseFloat(c.css(a,"marginTop"))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",
height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);d=b.firstChild;e=d.firstChild;f=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=
f.offsetTop===5;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==h;a.removeChild(b);c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(c.css(a,
"marginTop"))||0;d+=parseFloat(c.css(a,"marginLeft"))||0}return{top:b,left:d}},setOffset:function(a,b,d){var e=c.css(a,"position");if(e==="static")a.style.position="relative";var f=c(a),h=f.offset(),l=c.css(a,"top"),k=c.css(a,"left"),o=e==="absolute"&&c.inArray("auto",[l,k])>-1;e={};var x={};if(o)x=f.position();l=o?x.top:parseInt(l,10)||0;k=o?x.left:parseInt(k,10)||0;if(c.isFunction(b))b=b.call(a,d,h);if(b.top!=null)e.top=b.top-h.top+l;if(b.left!=null)e.left=b.left-h.left+k;"using"in b?b.using.call(a,
e):f.css(e)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),e=Ia.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.css(a,"marginTop"))||0;d.left-=parseFloat(c.css(a,"marginLeft"))||0;e.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(c.css(b[0],"borderLeftWidth"))||0;return{top:d.top-e.top,left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||t.body;a&&!Ia.test(a.nodeName)&&
c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(e){var f=this[0],h;if(!f)return null;if(e!==B)return this.each(function(){if(h=fa(this))h.scrollTo(!a?e:c(h).scrollLeft(),a?e:c(h).scrollTop());else this[d]=e});else return(h=fa(f))?"pageXOffset"in h?h[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&h.document.documentElement[d]||h.document.body[d]:f[d]}});c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();
c.fn["inner"+b]=function(){return this[0]?parseFloat(c.css(this[0],d,"padding")):null};c.fn["outer"+b]=function(e){return this[0]?parseFloat(c.css(this[0],d,e?"margin":"border")):null};c.fn[d]=function(e){var f=this[0];if(!f)return e==null?null:this;if(c.isFunction(e))return this.each(function(l){var k=c(this);k[d](e.call(this,l,k[d]()))});if(c.isWindow(f))return f.document.compatMode==="CSS1Compat"&&f.document.documentElement["client"+b]||f.document.body["client"+b];else if(f.nodeType===9)return Math.max(f.documentElement["client"+
b],f.body["scroll"+b],f.documentElement["scroll"+b],f.body["offset"+b],f.documentElement["offset"+b]);else if(e===B){f=c.css(f,d);var h=parseFloat(f);return c.isNaN(h)?f:h}else return this.css(d,typeof e==="string"?e:e+"px")}})})(window);
;
(function ($) {
  var cache = {}, uuid = 0;
  $.fn.once = function (id, fn) {
    if (typeof id != 'string') {
      if (!(id in cache)) {
        cache[id] = ++uuid;
      }
      if (!fn) {
        fn = id;
      }
      id = 'jquery-once-' + cache[id];
    }
    var name = id + '-processed';
    var elements = this.not('.' + name).addClass(name);
    return $.isFunction(fn) ? elements.each(fn) : elements;
  };
  $.fn.removeOnce = function (id, fn) {
    var name = id + '-processed';
    var elements = this.filter('.' + name).removeClass(name);
    return $.isFunction(fn) ? elements.each(fn) : elements;
  };
})(jQuery);
;
var Drupal = Drupal || { 'settings': {}, 'behaviors': {}, 'locale': {} };
jQuery.noConflict();
(function ($) {
var jquery_init = $.fn.init;
$.fn.init = function (selector, context, rootjQuery) {
  if (selector && typeof selector === 'string') {
    var hash_position = selector.indexOf('#');
    if (hash_position >= 0) {
      var bracket_position = selector.indexOf('<');
      if (bracket_position > hash_position) {
        throw 'Syntax error, unrecognized expression: ' + selector;
      }
    }
  }
  return jquery_init.call(this, selector, context, rootjQuery);
};
$.fn.init.prototype = jquery_init.prototype;
Drupal.attachBehaviors = function (context, settings) {
  context = context || document;
  settings = settings || Drupal.settings;
  $.each(Drupal.behaviors, function () {
    if ($.isFunction(this.attach)) {
      this.attach(context, settings);
    }
  });
};
Drupal.detachBehaviors = function (context, settings, trigger) {
  context = context || document;
  settings = settings || Drupal.settings;
  trigger = trigger || 'unload';
  $.each(Drupal.behaviors, function () {
    if ($.isFunction(this.detach)) {
      this.detach(context, settings, trigger);
    }
  });
};
Drupal.checkPlain = function (str) {
  var character, regex,
      replace = { '&': '&amp;', '"': '&quot;', '<': '&lt;', '>': '&gt;' };
  str = String(str);
  for (character in replace) {
    if (replace.hasOwnProperty(character)) {
      regex = new RegExp(character, 'g');
      str = str.replace(regex, replace[character]);
    }
  }
  return str;
};
Drupal.formatString = function(str, args) {
  for (var key in args) {
    switch (key.charAt(0)) {
      case '@':
        args[key] = Drupal.checkPlain(args[key]);
      break;
      case '!':
        break;
      case '%':
      default:
        args[key] = Drupal.theme('placeholder', args[key]);
        break;
    }
    str = str.replace(key, args[key]);
  }
  return str;
};
Drupal.t = function (str, args, options) {
  options = options || {};
  options.context = options.context || '';
  if (Drupal.locale.strings && Drupal.locale.strings[options.context] && Drupal.locale.strings[options.context][str]) {
    str = Drupal.locale.strings[options.context][str];
  }
  if (args) {
    str = Drupal.formatString(str, args);
  }
  return str;
};
Drupal.formatPlural = function (count, singular, plural, args, options) {
  var args = args || {};
  args['@count'] = count;
  var index = Drupal.locale.pluralFormula ? Drupal.locale.pluralFormula(args['@count']) : ((args['@count'] == 1) ? 0 : 1);
  if (index == 0) {
    return Drupal.t(singular, args, options);
  }
  else if (index == 1) {
    return Drupal.t(plural, args, options);
  }
  else {
    args['@count[' + index + ']'] = args['@count'];
    delete args['@count'];
    return Drupal.t(plural.replace('@count', '@count[' + index + ']'), args, options);
  }
};
Drupal.theme = function (func) {
  var args = Array.prototype.slice.apply(arguments, [1]);
  return (Drupal.theme[func] || Drupal.theme.prototype[func]).apply(this, args);
};
Drupal.freezeHeight = function () {
  Drupal.unfreezeHeight();
  $('<div id="freeze-height"></div>').css({
    position: 'absolute',
    top: '0px',
    left: '0px',
    width: '1px',
    height: $('body').css('height')
  }).appendTo('body');
};
Drupal.unfreezeHeight = function () {
  $('#freeze-height').remove();
};
Drupal.encodePath = function (item, uri) {
  uri = uri || location.href;
  return encodeURIComponent(item).replace(/%2F/g, '/');
};
Drupal.getSelection = function (element) {
  if (typeof element.selectionStart != 'number' && document.selection) {
    var range1 = document.selection.createRange();
    var range2 = range1.duplicate();
    range2.moveToElementText(element);
    range2.setEndPoint('EndToEnd', range1);
    var start = range2.text.length - range1.text.length;
    var end = start + range1.text.length;
    return { 'start': start, 'end': end };
  }
  return { 'start': element.selectionStart, 'end': element.selectionEnd };
};
Drupal.ajaxError = function (xmlhttp, uri) {
  var statusCode, statusText, pathText, responseText, readyStateText, message;
  if (xmlhttp.status) {
    statusCode = "\n" + Drupal.t("An AJAX HTTP error occurred.") + "\n" + Drupal.t("HTTP Result Code: !status", {'!status': xmlhttp.status});
  }
  else {
    statusCode = "\n" + Drupal.t("An AJAX HTTP request terminated abnormally.");
  }
  statusCode += "\n" + Drupal.t("Debugging information follows.");
  pathText = "\n" + Drupal.t("Path: !uri", {'!uri': uri} );
  statusText = '';
  try {
    statusText = "\n" + Drupal.t("StatusText: !statusText", {'!statusText': $.trim(xmlhttp.statusText)});
  }
  catch (e) {}
  responseText = '';
  try {
    responseText = "\n" + Drupal.t("ResponseText: !responseText", {'!responseText': $.trim(xmlhttp.responseText) } );
  } catch (e) {}
  responseText = responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,"");
  responseText = responseText.replace(/[\n]+\s+/g,"\n");
  readyStateText = xmlhttp.status == 0 ? ("\n" + Drupal.t("ReadyState: !readyState", {'!readyState': xmlhttp.readyState})) : "";
  message = statusCode + pathText + statusText + responseText + readyStateText;
  return message;
};
$('html').addClass('js');
document.cookie = 'has_js=1; path=/';
$(function () {
  if (jQuery.support.positionFixed === undefined) {
    var el = $('<div style="position:fixed; top:10px" />').appendTo(document.body);
    jQuery.support.positionFixed = el[0].offsetTop === 10;
    el.remove();
  }
});
$(function () {
  Drupal.attachBehaviors(document, Drupal.settings);
});
Drupal.theme.prototype = {
  placeholder: function (str) {
    return '<em class="placeholder">' + Drupal.checkPlain(str) + '</em>';
  }
};
})(jQuery);
;
window.script1381504834401=1;
(function ($) {
  Drupal.behaviors.timeWarp = {
    attach: function(context, settings) {
      $('#edit-forced-timestamp').change(function() {
        if (!isNaN($(this).val())) {
          $('#timewarp-submit').click();
        }
        else if ($(this).val() == 'C') {
          $('#block-dimg-forced-timestamp-dimg-timewarp-popup').show();
        }
      });
      $('#timewarp_popup_close').click(function() {
        $('#block-dimg-forced-timestamp-dimg-timewarp-popup').hide();
      });
    }
  };
})(jQuery);
;
window.Modernizr=function(a,b,c){function B(a){j.cssText=a}function C(a,b){return B(n.join(a+";")+(b||""))}function D(a,b){return typeof a===b}function E(a,b){return!!~(""+a).indexOf(b)}function F(a,b){for(var d in a){var e=a[d];if(!E(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function G(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:D(f,"function")?f.bind(d||b):f}return!1}function H(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return D(b,"string")||D(b,"undefined")?F(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),G(e,b,c))}function I(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)t[c[d]]=c[d]in k;return t.list&&(t.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),s[a[d]]=!!e;return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},y=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return x("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},z={}.hasOwnProperty,A;!D(z,"undefined")&&!D(z.call,"undefined")?A=function(a,b){return z.call(a,b)}:A=function(a,b){return b in a&&D(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.flexbox=function(){return H("flexWrap")},r.flexboxlegacy=function(){return H("boxDirection")},r.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:x(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},r.rgba=function(){return B("background-color:rgba(150,255,150,.5)"),E(j.backgroundColor,"rgba")},r.backgroundsize=function(){return H("backgroundSize")},r.cssanimations=function(){return H("animationName")},r.csstransforms=function(){return!!H("transform")},r.csstransforms3d=function(){var a=!!H("perspective");return a&&"webkitPerspective"in g.style&&x("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},r.csstransitions=function(){return H("transition")},r.generatedcontent=function(){var a;return x(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},r.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}};for(var J in r)A(r,J)&&(w=J.toLowerCase(),e[w]=r[J](),u.push((e[w]?"":"no-")+w));return e.input||I(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)A(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},B(""),i=k=null,e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.mq=y,e.testProp=function(a){return F([a])},e.testAllProps=H,e.testStyles=x,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document),function(a,b){function k(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function l(){var a=r.elements;return typeof a=="string"?a.split(" "):a}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b}function n(a,c,f){c||(c=b);if(j)return c.createElement(a);f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g}function o(a,c){a||(a=b);if(j)return a.createDocumentFragment();c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),j||p(a,c),a}function v(a){var b,c=a.getElementsByTagName("*"),d=c.length,e=RegExp("^(?:"+l().join("|")+")$","i"),f=[];while(d--)b=c[d],e.test(b.nodeName)&&f.push(b.applyElement(w(b)));return f}function w(a){var b,c=a.attributes,d=c.length,e=a.ownerDocument.createElement(t+":"+a.nodeName);while(d--)b=c[d],b.specified&&e.setAttribute(b.nodeName,b.nodeValue);return e.style.cssText=a.style.cssText,e}function x(a){var b,c=a.split("{"),d=c.length,e=RegExp("(^|[\\s,>+~])("+l().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),f="$1"+t+"\\:$2";while(d--)b=c[d]=c[d].split("}"),b[b.length-1]=b[b.length-1].replace(e,f),c[d]=b.join("}");return c.join("{")}function y(a){var b=a.length;while(b--)a[b].removeNode()}function z(a){function g(){clearTimeout(d._removeSheetTimer),b&&b.removeNode(!0),b=null}var b,c,d=m(a),e=a.namespaces,f=a.parentWindow;return!u||a.printShived?a:(typeof e[t]=="undefined"&&e.add(t),f.attachEvent("onbeforeprint",function(){g();var d,e,f,h=a.styleSheets,i=[],j=h.length,l=Array(j);while(j--)l[j]=h[j];while(f=l.pop())if(!f.disabled&&s.test(f.media)){try{d=f.imports,e=d.length}catch(m){e=0}for(j=0;j<e;j++)l.push(d[j]);try{i.push(f.cssText)}catch(m){}}i=x(i.reverse().join("")),c=v(a),b=k(a,i)}),f.attachEvent("onafterprint",function(){y(c),clearTimeout(d._removeSheetTimer),d._removeSheetTimer=setTimeout(g,500)}),a.printShived=!0,a)}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,f,g="_html5shiv",h=0,i={},j;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",f="hidden"in a,j=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){f=!0,j=!0}})();var r={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b);var s=/^$|\b(?:all|print)\b/,t="html5shiv",u=!j&&function(){var c=b.documentElement;return typeof b.namespaces!="undefined"&&typeof b.parentWindow!="undefined"&&typeof c.applyElement!="undefined"&&typeof c.removeNode!="undefined"&&typeof a.attachEvent!="undefined"}();r.type+=" print",r.shivPrint=z,z(b)}(this,document),Modernizr.addTest("overflowscrolling",function(){return Modernizr.testAllProps("overflowScrolling")}),Modernizr.addTest("placeholder",function(){return"placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea"))});
;
var FORMALIZE = (function($, window, document, undefined) {
  var PLACEHOLDER_SUPPORTED = 'placeholder' in document.createElement('input');
  var AUTOFOCUS_SUPPORTED = 'autofocus' in document.createElement('input');
  var IE6 = !!($.browser.msie && parseInt($.browser.version, 10) === 6);
  var IE7 = !!($.browser.msie && parseInt($.browser.version, 10) === 7);
  return {
    go: function() {
      for (var i in FORMALIZE.init) {
        FORMALIZE.init[i]();
      }
    },
    init: {
      ie6_skin_inputs: function() {
        if (!IE6 || !$('input, select, textarea').length) {
          return;
        }
        var button_regex = /button|submit|reset/;
        var type_regex = /date|datetime|datetime-local|email|month|number|password|range|search|tel|text|time|url|week/;
        $('input').each(function() {
          var el = $(this);
          if (this.getAttribute('type').match(button_regex)) {
            el.addClass('ie6-button');
            if (this.disabled) {
              el.addClass('ie6-button-disabled');
            }
          }
          else if (this.getAttribute('type').match(type_regex)) {
            el.addClass('ie6-input');
            if (this.disabled) {
              el.addClass('ie6-input-disabled');
            }
          }
        });
        $('textarea, select').each(function() {
          if (this.disabled) {
            $(this).addClass('ie6-input-disabled');
          }
        });
      },
      autofocus: function() {
        if (AUTOFOCUS_SUPPORTED || !$(':input[autofocus]').length) {
          return;
        }
        $(':input[autofocus]:visible:first').focus();
      },
      placeholder: function() {
        if (PLACEHOLDER_SUPPORTED || !$(':input[placeholder]').length) {
          return;
        }
        FORMALIZE.misc.add_placeholder();
        $(':input[placeholder]').each(function() {
          var el = $(this);
          var text = el.attr('placeholder');
          el.focus(function() {
            if (el.val() === text) {
              el.val('').removeClass('placeholder-text');
            }
          }).blur(function() {
            FORMALIZE.misc.add_placeholder();
          });
          el.closest('form').submit(function() {
            if (el.val() === text) {
              el.val('').removeClass('placeholder-text');
            }
          }).bind('reset', function() {
            setTimeout(FORMALIZE.misc.add_placeholder, 50);
          });
        });
      }
    },
    misc: {
      add_placeholder: function() {
        if (PLACEHOLDER_SUPPORTED || !$(':input[placeholder]').length) {
          return;
        }
        $(':input[placeholder]').each(function() {
          var el = $(this);
          var text = el.attr('placeholder');
          if (!el.val() || el.val() === text) {
            el.val(text).addClass('placeholder-text');
          }
        });
      }
    }
  };
})(jQuery, this, this.document);
jQuery(document).ready(function() {
  FORMALIZE.go();
});;
Drupal.omega = Drupal.omega || {};
(function($) {
  var current;
  var previous;
  var setCurrentLayout = function (index) {
    index = parseInt(index);
    previous = current;
    current = Drupal.settings.omega.layouts.order.hasOwnProperty(index) ? Drupal.settings.omega.layouts.order[index] : 'mobile';
    if (previous != current) {
      $('body').removeClass('responsive-layout-' + previous).addClass('responsive-layout-' + current);
      $.event.trigger('responsivelayout', {from: previous, to: current});
    }
  };
  Drupal.omega.getCurrentLayout = function () {
    return current;
  };
  Drupal.omega.getPreviousLayout = function () {
    return previous;
  };
  Drupal.omega.crappyBrowser = function () {
    return $.browser.msie && parseInt($.browser.version, 10) < 9;
  };
  Drupal.omega.checkLayout = function (layout) {
    if (Drupal.settings.omega.layouts.queries.hasOwnProperty(layout) && Drupal.settings.omega.layouts.queries[layout]) {
      var output = Drupal.omega.checkQuery(Drupal.settings.omega.layouts.queries[layout]);
      if (!output && layout == Drupal.settings.omega.layouts.primary) {
        var dummy = $('<div id="omega-check-query"></div>').prependTo('body');
        dummy.append('<style media="all">#omega-check-query { position: relative; z-index: -1; }</style>');
        dummy.append('<!--[if (lt IE 9)&(!IEMobile)]><style media="all">#omega-check-query { z-index: 100; }</style><![endif]-->');
        output = parseInt(dummy.css('z-index')) == 100;
        dummy.remove();
      }
      return output;
    }
    return false;
  };
  Drupal.omega.checkQuery = function (query) {
    var dummy = $('<div id="omega-check-query"></div>').prependTo('body');
    dummy.append('<style media="all">#omega-check-query { position: relative; z-index: -1; }</style>');
    dummy.append('<style media="' + query + '">#omega-check-query { z-index: 100; }</style>');
    var output = parseInt(dummy.css('z-index')) == 100;
    dummy.remove();
    return output;
  };
  Drupal.behaviors.omegaMediaQueries = {
    attach: function (context) {
      $('body', context).once('omega-mediaqueries', function () {
        var primary = $.inArray(Drupal.settings.omega.layouts.primary, Drupal.settings.omega.layouts.order);
        var dummy = $('<div id="omega-media-query-dummy"></div>').prependTo('body');
        dummy.append('<style media="all">#omega-media-query-dummy { position: relative; z-index: -1; }</style>');
        dummy.append('<!--[if (lt IE 9)&(!IEMobile)]><style media="all">#omega-media-query-dummy { z-index: ' + primary + '; }</style><![endif]-->');
        for (var i in Drupal.settings.omega.layouts.order) {
          dummy.append('<style media="' + Drupal.settings.omega.layouts.queries[Drupal.settings.omega.layouts.order[i]] + '">#omega-media-query-dummy { z-index: ' + i + '; }</style>');
        }
        $(window).bind('resize.omegamediaqueries', function () {
          setCurrentLayout(dummy.css('z-index'));
        }).load(function () {
          $(this).trigger('resize.omegamediaqueries');
        });
      });
    }
  };
})(jQuery);;
<!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"go_com","theme_token":"lyVdwy9wF-wLRRmgF_SNt7y7YmhwHLNZF_82fa4g4ew","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/disney\/dimg_forced_timestamp\/js\/dimg_forced_timestamp.js":1,"sites\/default\/themes\/go_com\/js\/modernizr.js":1,"sites\/all\/themes\/omega\/omega\/js\/jquery.formalize.js":1,"sites\/all\/themes\/omega\/omega\/js\/omega-mediaqueries.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/contrib\/date\/date_api\/date.css":1,"sites\/all\/modules\/contrib\/date\/date_popup\/themes\/datepicker.1.7.css":1,"sites\/all\/modules\/disney\/dimg_forced_timestamp\/css\/dimg_forced_timestamp.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/disney\/ers\/css\/ers.css":1,"sites\/all\/modules\/contrib\/views\/css\/views.css":1,"sites\/all\/modules\/contrib\/ctools\/css\/ctools.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-reset.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-mobile.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-alpha.css":1,"sites\/all\/themes\/omega\/omega\/css\/formalize.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-text.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-branding.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-menu.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-forms.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-visuals.css":1,"sites\/default\/themes\/go_com\/css\/global.css":1,"ie::normal::sites\/default\/themes\/go_com\/css\/go-com-alpha-default.css":1,"ie::normal::sites\/default\/themes\/go_com\/css\/go-com-alpha-default-normal.css":1,"ie::normal::sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-12.css":1,"narrow::sites\/default\/themes\/go_com\/css\/go-com-alpha-default.css":1,"narrow::sites\/default\/themes\/go_com\/css\/go-com-alpha-default-narrow.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/narrow\/alpha-default-narrow-12.css":1,"normal::sites\/default\/themes\/go_com\/css\/go-com-alpha-default.css":1,"normal::sites\/default\/themes\/go_com\/css\/go-com-alpha-default-normal.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-12.css":1,"wide::sites\/default\/themes\/go_com\/css\/go-com-alpha-default.css":1,"wide::sites\/default\/themes\/go_com\/css\/go-com-alpha-default-wide.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/wide\/alpha-default-wide-12.css":1}},"omega":{"layouts":{"primary":"normal","order":["narrow","normal","wide"],"queries":{"narrow":"all and (min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)","normal":"all and (min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)","wide":"all and (min-width: 1220px)"}}}});
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        (function() {
            var gads = document.createElement('script');
            gads.async = true;
            gads.type = 'text/javascript';
            var useSSL = 'https:' == document.location.protocol;
            gads.src = (useSSL ? 'https:' : 'http:') +
            '//www.googletagservices.com/tag/js/gpt.js';
            var node = document.getElementsByTagName('script')[0];
            node.parentNode.insertBefore(gads, node);
        })();
        (function() {
            var useSSL = 'https:' == document.location.protocol;
            var src = (useSSL ? 'https:' : 'http:') +
            '//www.googletagservices.com/tag/js/gpt_mobile.js';
            document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
        })();
(function(){var e,g=this,aa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b},k=function(a){return"array"==aa(a)},ba=function(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length},l=function(a){return"string"==typeof a},n=function(a){return"boolean"==typeof a},p=function(a){return"number"==typeof a},q=function(a){return"function"==aa(a)},ca="closure_uid_"+(1E9*Math.random()>>>0),da=0,ea=function(a,b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<
arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},ga=function(a,b,c){ga=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa;return ga.apply(null,arguments)},r=function(a,b){function c(){}c.prototype=b.prototype;a.jc=b.prototype;a.prototype=new c};var t=function(a){a=parseFloat(a);return isNaN(a)||1<a||0>a?0:a},ha=/^([\w-]+\.)*([\w-]{2,})(\:[0-9]+)?$/,u=function(a,b){if(!a)return b;var c=a.match(ha);return c?c[0]:b};var ia=t("0.02"),ja=t("1"),ka=t("1");var la=t("0.005"),ma=t("0.01"),na=t("0.001"),oa=parseInt("1500",10),pa=isNaN(oa)?1500:oa,qa=t("0.01"),ra=t("1.0"),sa=t("0.1");var ta=/^true$/.test("false")?!0:!1;var ua=function(){return u("","pagead2.googlesyndication.com")};var v=function(a){return/^[\s\xa0]*$/.test(a)};var va=function(a,b){this.width=a;this.height=b};va.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};va.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var wa="http://"+ua()+"/pagead/show_ads.js";var x=function(){return g.googletag||(g.googletag={})},y=function(a,b,c){var d=x();a in d&&!c||(d[a]=b)},xa=function(a,b){a.addEventListener?a.addEventListener("load",b,!1):a.attachEvent&&a.attachEvent("onload",b)};var z={};z[1]=ua();z[2]=u("","pubads.g.doubleclick.net");z[3]=u("","securepubads.g.doubleclick.net");z[4]=u("","partner.googleadservices.com");z[5]=wa;z[6]=ta;z[7]=ia;z[8]=ja;z[9]=ka;z[10]=ma;z[11]=na;z[12]=la;z[13]=pa;z[16]=qa;z[17]=ra;z[18]=sa;y("_vars_",z);var C=function(a,b,c,d,f){this.pa=new Date;this.m=d||null;this.oa=c||null;this.Wa=a;this.Xa=b;this.na=f||null};e=C.prototype;e.gb=function(){return this.m};e.fb=function(){return this.oa};e.eb=function(){return this.Wa};e.ab=function(){return this.pa};e.Pb=function(){return this.Xa};e.Rb=function(){return this.na};var ya=["Debug","Info","Warning","Error","Fatal"];
C.prototype.toString=function(){var a=this.pa.toTimeString()+": "+ya[this.Wa]+": "+this.Xa;this.na&&(a+=" Duration: "+(this.pa.getTime()-this.na.ab().getTime())+"ms.");return a};C.prototype.getTimestamp=C.prototype.ab;C.prototype.getService=C.prototype.fb;C.prototype.getSlot=C.prototype.gb;C.prototype.getLevel=C.prototype.eb;C.prototype.getMessage=C.prototype.Pb;C.prototype.getReference=C.prototype.Rb;var D=function(){this.G=[]};D.prototype.Eb=function(){return this.G};D.prototype.Mb=function(a){return za(this,function(b){return b.fb()===a})};D.prototype.Nb=function(a){return za(this,function(b){return b.gb()===a})};D.prototype.Lb=function(a){return za(this,function(b){return b.eb()>=a})};var za=function(a,b){for(var c=[],d=0;d<a.G.length;++d)b(a.G[d])&&c.push(a.G[d]);return c};D.prototype.log=function(a,b,c,d,f){a=new C(a,b,c,d,f);this.G.push(a);return a};
D.prototype.info=function(a,b,c,d){return this.log(1,a,b,c,d)};var F=function(a,b,c,d){a.log(2,b,c,d,void 0)};D.prototype.error=function(a,b,c,d){return this.log(3,a,b,c,d)};var G=function(){var a=x();return a.debug_log||(a.debug_log=new D)};y("getEventLog",G);D.prototype.getAllEvents=D.prototype.Eb;D.prototype.getEventsByService=D.prototype.Mb;D.prototype.getEventsBySlot=D.prototype.Nb;D.prototype.getEventsByLevel=D.prototype.Lb;var H=function(){this.bb=this.va=0};H.prototype.push=function(a){for(var b=G(),c=0;c<arguments.length;++c)try{q(arguments[c])&&(arguments[c](),this.va++)}catch(d){this.bb++,b.error("Exception invoking function: "+d.message)}b.info("Invoked queued function. Total: "+this.va+" Errors: "+this.bb);return this.va};H.prototype.push=H.prototype.push;(function(){function a(a){this.t={};this.tick=function(a,b,c){this.t[a]=[void 0!=c?c:(new Date).getTime(),b]};this.tick("start",null,a)}var b=new a;window.GPT_jstiming={Timer:a,load:b};if(window.performance&&window.performance.timing){var b=window.performance.timing,c=window.GPT_jstiming.load,d=b.navigationStart,b=b.responseStart;0<d&&b>=d&&(c.tick("_wtsrt",void 0,d),c.tick("wtsrt_","_wtsrt",b),c.tick("tbsd_","wtsrt_"))}try{b=null,window.chrome&&window.chrome.csi&&(b=Math.floor(window.chrome.csi().pageT),
c&&0<d&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",d))),null==b&&window.gtbExternal&&(b=window.gtbExternal.pageT()),null==b&&window.external&&(b=window.external.pageT,c&&0<d&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",d))),b&&(window.GPT_jstiming.pt=b)}catch(f){}})();if(window.GPT_jstiming){window.GPT_jstiming.cb={};window.GPT_jstiming.pb=1;var Aa=function(a,b,c){var d=a.t[b],f=a.t.start;if(d&&(f||c))return d=a.t[b][0],void 0!=c?f=c:f=f[0],d-f},Ba=function(a,b,c){var d="";window.GPT_jstiming.pt&&(d+="&srt="+window.GPT_jstiming.pt,delete window.GPT_jstiming.pt);try{window.external&&window.external.tran?d+="&tran="+window.external.tran:window.gtbExternal&&window.gtbExternal.tran?d+="&tran="+window.gtbExternal.tran():window.chrome&&window.chrome.csi&&(d+="&tran="+
window.chrome.csi().tran)}catch(f){}var h=window.chrome;if(h&&(h=h.loadTimes)){h().wasFetchedViaSpdy&&(d+="&p=s");if(h().wasNpnNegotiated){var d=d+"&npn=1",m=h().npnNegotiatedProtocol;m&&(d+="&npnv="+(encodeURIComponent||escape)(m))}h().wasAlternateProtocolAvailable&&(d+="&apa=1")}var s=a.t,A=s.start,h=[],m=[],w;for(w in s)if("start"!=w&&0!=w.indexOf("_")){var B=s[w][1];B?s[B]&&m.push(w+"."+Aa(a,w,s[B][0])):A&&h.push(w+"."+Aa(a,w))}delete s.start;if(b)for(var E in b)d+="&"+E+"="+b[E];(b=c)||(b="https:"==
document.location.protocol?"https://csi.gstatic.com/csi":"http://csi.gstatic.com/csi");return[b,"?v=3","&s="+(window.GPT_jstiming.sn||"gpt")+"&action=",a.name,m.length?"&it="+m.join(","):"",d,"&rt=",h.join(",")].join("")},Ca=function(a,b,c){a=Ba(a,b,c);if(!a)return"";b=new Image;var d=window.GPT_jstiming.pb++;window.GPT_jstiming.cb[d]=b;b.onload=b.onerror=function(){window.GPT_jstiming&&delete window.GPT_jstiming.cb[d]};b.src=a;b=null;return a};window.GPT_jstiming.report=function(a,b,c){if("prerender"==
document.webkitVisibilityState){var d=!1,f=function(){if(!d){b?b.prerender="1":b={prerender:"1"};var h;"prerender"==document.webkitVisibilityState?h=!1:(Ca(a,b,c),h=!0);h&&(d=!0,document.removeEventListener("webkitvisibilitychange",f,!1))}};document.addEventListener("webkitvisibilitychange",f,!1);return""}return Ca(a,b,c)}};var I=Array.prototype,Da=I.indexOf?function(a,b,c){return I.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(l(a))return l(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ea=I.forEach?function(a,b,c){I.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=l(a)?a.split(""):a,h=0;h<d;h++)h in f&&b.call(c,f[h],h,a)},Fa=I.map?function(a,b,c){return I.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),h=l(a)?a.split(""):
a,m=0;m<d;m++)m in h&&(f[m]=b.call(c,h[m],m,a));return f},Ga=I.every?function(a,b,c){return I.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=l(a)?a.split(""):a,h=0;h<d;h++)if(h in f&&!b.call(c,f[h],h,a))return!1;return!0},Ha=function(a,b){var c;t:{c=a.length;for(var d=l(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(void 0,d[f],f,a)){c=f;break t}c=-1}return 0>c?null:l(a)?a.charAt(c):a[c]},Ja=function(a,b){I.sort.call(a,b||Ia)},La=function(a){for(var b=Ka,c=0;c<a.length;c++)a[c]={index:c,
value:a[c]};var d=b||Ia;Ja(a,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<a.length;c++)a[c]=a[c].value},Ia=function(a,b){return a>b?1:a<b?-1:0};var J,Ma,Na,Oa,Pa=function(){return g.navigator?g.navigator.userAgent:null};Oa=Na=Ma=J=!1;var K;if(K=Pa()){var Qa=g.navigator;J=0==K.lastIndexOf("Opera",0);Ma=!J&&(-1!=K.indexOf("MSIE")||-1!=K.indexOf("Trident"));Na=!J&&-1!=K.indexOf("WebKit");Oa=!J&&!Na&&!Ma&&"Gecko"==Qa.product}var Ra=J,L=Ma,Sa=Oa,Ta=Na,Ua=function(){var a=g.document;return a?a.documentMode:void 0},Va;
t:{var Wa="",M;if(Ra&&g.opera)var Xa=g.opera.version,Wa="function"==typeof Xa?Xa():Xa;else if(Sa?M=/rv\:([^\);]+)(\)|;)/:L?M=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Ta&&(M=/WebKit\/(\S+)/),M)var Ya=M.exec(Pa()),Wa=Ya?Ya[1]:"";if(L){var Za=Ua();if(Za>parseFloat(Wa)){Va=String(Za);break t}}Va=Wa}
var $a=Va,ab={},bb=function(a){if(!ab[a]){for(var b=0,c=String($a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,d.length),h=0;0==b&&h<f;h++){var m=c[h]||"",s=d[h]||"",A=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var B=A.exec(m)||["","",""],E=w.exec(s)||["","",""];if(0==B[0].length&&0==E[0].length)break;b=((0==B[1].length?0:parseInt(B[1],10))<(0==E[1].length?0:parseInt(E[1],10))?-1:(0==B[1].length?0:
parseInt(B[1],10))>(0==E[1].length?0:parseInt(E[1],10))?1:0)||((0==B[2].length)<(0==E[2].length)?-1:(0==B[2].length)>(0==E[2].length)?1:0)||(B[2]<E[2]?-1:B[2]>E[2]?1:0)}while(0==b)}ab[a]=0<=b}},cb=g.document,db=cb&&L?Ua()||("CSS1Compat"==cb.compatMode?parseInt($a,10):5):void 0;if(Sa||L){var eb;if(eb=L)eb=L&&9<=db;eb||Sa&&bb("1.9.1")}L&&bb("9");var fb=function(a){return p(a)&&isFinite(a)&&0==a%1&&0<=a},gb=function(a){return a.replace(/[^a-zA-Z0-9]/g,function(a){return"&#"+a.charCodeAt()+";"})},hb=function(){var a=null,b=window,c=null;try{for(;null!=b&&b!==a;){c=b.location.protocol;if("https:"===c)break;else if("http:"===c||"file:"===c)return!1;a=b;b=b.parent}}catch(d){}return!0};var ib=function(a){return k(a)&&2==a.length&&fb(a[0])&&fb(a[1])},jb=function(a){if(!k(a))return!1;for(var b=0;b<a.length;++b){var c=a[b];if(!k(c)||2!=c.length)return!1;for(var d=0;d<c.length;++d)if(!p(c[d]))return!1}return!0},kb=function(a){return k(a)&&1<a.length&&p(a[0])&&p(a[1])};var N=function(a,b){this.tb=a;this.qb=b};N.prototype.Wb=function(){return this.tb};N.prototype.Ob=function(){return this.qb};var lb=function(a){var b=[];if(k(a))if(kb(a))b.push(new N(a[0],a[1]));else for(var c=0;c<a.length;++c){var d=a[c];kb(d)&&b.push(new N(d[0],d[1]))}return b};N.prototype.getWidth=N.prototype.Wb;N.prototype.getHeight=N.prototype.Ob;var O=function(a,b,c){this.w=a;this.Ya=p(b)?b:0;this.g=this.w+"_"+this.Ya;this.nb=c||"gpt_unit_"+this.g};e=O.prototype;e.q=function(){return this.g};e.getName=function(){return this.w};e.$a=function(){return this.Ya};e.toString=O.prototype.q;e.l=function(){return this.nb};O.prototype.getId=O.prototype.q;O.prototype.getName=O.prototype.getName;O.prototype.getDomId=O.prototype.l;O.prototype.getInstance=O.prototype.$a;var mb=function(a,b){this.rb=a;this.ob=b};mb.prototype.getKey=function(){return this.rb};var nb=function(a){this.sb=a},ob=function(a,b){var c=Ha(a.sb,function(a){a=a.getKey();return a.width<=b.width&&a.height<=b.height});return null==c?null:c.ob},pb=function(a){if(!k(a)||2!=a.length)throw Error("Each mapping entry has to be an array of size 2");var b;b=a[0];if(!ib(b))throw Error("Size has to be an array of two non-negative integers");b=new va(b[0],b[1]);a=lb(a[1]);if(0==a.length)throw Error("At least one slot size must be present");return new mb(b,a)};var P=function(a,b,c,d){this.w=a;this.jb=lb(c);this.aa=null;this.g=new O(a,b,d);this.c=[];this.h={};this.o=null;this.b=G();this.b.info("Created slot: "+this.g,null,this);this.v=this.M=null;this.La=this.Ja="";this.Y=!0;this.d={};this.$=[];this.Ma=!1;this.Ia=this.Ha=null;this.Ka=0};e=P.prototype;
e.set=function(a,b){var c=" attribute "+a+" with value "+b+" for slot "+this.getName();a&&l(a)&&b?(this.h[a]=b,this.M||this.v?F(this.b,"Setting"+c+" after its contents have been loaded",null,this):this.b.info("Setting"+c,null,this)):F(this.b,"Unable to set"+c,null,this);return this};e.get=function(a){return a in this.h?this.h[a]:null};e.B=function(){var a=[],b;for(b in this.h)q(this.h[b])||a.push(b);return a};
e.ka=function(a){for(var b=0;b<this.c.length;++b)if(a==this.c[b])return F(this.b,"Service "+a.getName()+" is already associated with slot "+this.g,a,this),this;this.c.push(a);a.da(this);return this};e.getName=function(){return this.w};e.i=function(){return this.g};e.Sb=function(){return this.c};e.Tb=function(a){return a&&this.aa?ob(this.aa,a):this.jb};
e.xb=function(a){try{if(!k(a))throw Error("Size mapping has to be an array");var b=Fa(a,pb);this.aa=new nb(b)}catch(c){F(this.b,"Error processing size mapping: "+c.message,null,this)}return this};e.A=function(){return!!document.getElementById(this.g.l())};e.R=function(a){this.o=a};e.F=function(a){this.La=a;return this};e.ba=function(){return this.La};
e.ya=function(a){if(l(a)&&!v(null==a?"":String(a))){var b=this.$;0<=Da(b,a)||b.push(a);this.b.info("Setting slot level ad category exclusion: "+a,null,this)}else F(this.b,"Invalid slot level ad category exclusion label supplied",null,this);return this};e.wa=function(){this.b.info("Clearing all slot level ad category exclusions",null,this);this.$=[];return this};e.Gb=function(){var a;a=this.$;var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];a=c}else a=[];return a};
e.s=function(a,b){var c=[];k(b)?c=b:b&&c.push(b.toString());var d=" targeting attribute "+a+" with value "+c.join()+" for slot "+this.getName();if(a&&l(a)){this.b.info("Setting"+d,null,this);t:{var d=this.d[a],f=c;if(ba(d)&&ba(f)&&d.length==f.length){for(var h=d.length,m=0;m<h;m++)if(d[m]!==f[m]){d=!1;break t}d=!0}else d=!1}this.d[a]=c;if(!d&&(this.M||this.v))for(d=0;d<this.c.length;++d)f=this.c[d],f.isEnabled()&&f.Na(this,a,c)}else F(this.b,"Unable to set"+d,null,this);return this};
e.xa=function(){this.b.info("Clearing slot targeting.",null,this);var a;t:{a=this.d;for(var b in a){a=!1;break t}a=!0}this.d={};if(!a)for(a=0;a<this.c.length;++a)b=this.c[a],b.isEnabled()&&b.clearSlotTargeting(this);return this};e.Ub=function(){var a=this.d,b={},c;for(c in a)b[c]=a[c];return b};e.Qb=function(){return this.Ma};e.ra=function(a){fb(a)&&(this.Ka=a)};e.Fb=function(){return this.Ka};
e.dc=function(a,b){this.Ia=(this.Ha=a)&&Boolean(b);b&&!a&&F(this.b,"Ignoring a call to setCollapseEmptyDiv(false, true). Slots that start out collapsed should also collapse when empty. Slot "+this.g,null,this);return this};e.Hb=function(){return this.Ha};e.Kb=function(){return this.Ia};
var qb=function(a){if(!a.A())return a.b.error("Unable to write to slot "+a.g+". It has not yet been rendered.",null,a),!1;var b=g.document,c=a.g.l(),b=b&&b.getElementById(c);if(!b)return a.b.error("Unable to find the div container with id "+c+" for slot "+a.g,null,a),!1;c=a.o;return l(c)&&0<c.length?(a.Ra(),b.innerHTML=c,a.Qa(),!0):!1};e=P.prototype;e.Cb=function(a){this.M=this.b.info("Fetching ad for slot "+this.getName(),null,this);this.Ja=a};e.Ib=function(){return this.Ja};
e.Bb=function(){this.b.info("Receiving ad for slot "+this.getName(),null,this,this.M)};e.Ra=function(){this.v=this.b.info("Rendering ad for slot "+this.getName(),null,this)};e.Qa=function(){this.b.info("Completed rendering ad for slot "+this.getName(),null,this,this.v)};P.prototype.set=P.prototype.set;P.prototype.get=P.prototype.get;P.prototype.getName=P.prototype.getName;P.prototype.getSlotId=P.prototype.i;P.prototype.getSizes=P.prototype.Tb;P.prototype.defineSizeMapping=P.prototype.xb;
P.prototype.addService=P.prototype.ka;P.prototype.getOutOfPage=P.prototype.Qb;P.prototype.getAudExtId=P.prototype.Fb;P.prototype.getServices=P.prototype.Sb;P.prototype.getAttributeKeys=P.prototype.B;P.prototype.fetchStarted=P.prototype.Cb;P.prototype.fetchEnded=P.prototype.Bb;P.prototype.renderStarted=P.prototype.Ra;P.prototype.renderEnded=P.prototype.Qa;P.prototype.hasWrapperDiv=P.prototype.A;P.prototype.getContentUrl=P.prototype.Ib;P.prototype.setClickUrl=P.prototype.F;P.prototype.getClickUrl=P.prototype.ba;
P.prototype.clearTargeting=P.prototype.xa;P.prototype.getTargetingMap=P.prototype.Ub;P.prototype.setTargeting=P.prototype.s;P.prototype.setCategoryExclusion=P.prototype.ya;P.prototype.clearCategoryExclusions=P.prototype.wa;P.prototype.getCategoryExclusions=P.prototype.Gb;P.prototype.getCollapseEmptyDiv=P.prototype.Hb;P.prototype.setCollapseEmptyDiv=P.prototype.dc;P.prototype.getDivStartsCollapsed=P.prototype.Kb;var Q=function(){this.D={};this.N={};this.b=G()};Q.prototype.add=function(a,b,c){if(!l(a)||0>=a.length||!b)return null;a in this.D||(this.D[a]=[]);b=new P(a,this.D[a].length,b,c);c=b.i().l();if(this.N[c])return this.b.error("Div element "+c+" is already associated with another slot"),null;this.D[a].push(b);return this.N[b.i().l()]=b};Q.prototype.find=function(a,b){var c=b||0,d=l(a)&&this.D[a]||[];return 0<=c&&c<d.length&&(d=d[c],d.i().$a()==c)?d:null};
var rb=function(){var a=x();return a.slot_manager_instance||(a.slot_manager_instance=new Q)},sb=function(a,b,c){var d=rb();return d&&d.add(a,b,c)};y("defineOutOfPageSlot",function(a,b){var c=rb();return c?(c=c.add(a,[1,1],b))?(c.Ma=!0,c):null:null});y("defineSlot",sb);y("defineUnit",sb);Q.prototype.find=Q.prototype.find;Q.getInstance=rb;var tb=function(a){var b=G();if(l(a)){var c;c=rb();c.N[a]?c=c.N[a]:(F(c.b,"Ad unit lookup for div "+a+" failed."),c=null);if(c)if(a=c,a.Y&&!a.A())F(a.b,"Slot "+a.w+" does not have a container div with id: "+a.g.l()+".",null,a);else for(b=0;b<a.c.length;++b)a.c[b].isEnabled()&&a.c[b].H(a);else b.error("Div "+a+" is not mapped to a known ad unit.")}else b.error("Unknown div id in display(): "+a.toString())};y("display",tb,!0);var R=function(){this.Ua=[];this.Va={};this.qa=!1;this.h={};this.log=G();this.log.info("Created service: "+this.getName(),this)};e=R.prototype;e.getName=function(){return"unknown"};e.getVersion=function(){return"unversioned"};e.set=function(a,b){var c="attribute "+a+" with value "+b+" for service "+this.getName();l(a)&&0<a.length?(this.h[a]=b,this.log.info("Setting "+c,this,null)):F(this.log,"Unable to set "+c,this,null);return this};e.get=function(a){return this.h[a]};
e.B=function(){var a=[],b;for(b in this.h)"function"!=typeof this.h[b]&&a.push(b);return a};e.j=function(){return this.Ua};e.hb=function(){return this.Va};e.isEnabled=function(){return this.qa};e.enable=function(){if(this.qa)this.log.info("Service is already enabled.",this);else{this.qa=!0;try{this.ua()}catch(a){this.log.error("Failed to enable service: "+a,this)}}};e.display=function(a,b,c,d){this.enable();a=c?sb(a,b,c):sb(a,b);a.ka(this);d&&a.F(d);tb(a.i().l())};
e.da=function(a){this.Ua.push(a);this.Va[a.i().q()]=a;this.log.info("Associated "+this.getName()+" service with slot "+a.getName(),this,a)};e.clearSlotTargeting=function(){};e.Na=function(){};R.prototype.getSlots=R.prototype.j;R.prototype.getSlotIdMap=R.prototype.hb;R.prototype.enable=R.prototype.enable;R.prototype.set=R.prototype.set;R.prototype.get=R.prototype.get;R.prototype.getAttributeKeys=R.prototype.B;R.prototype.display=R.prototype.display;var ub=function(a,b){this.name=a;this.ta=b?b:new g.GPT_jstiming.Timer;this.ta.name=a;this.sa=[]};e=ub.prototype;e.getName=function(){return this.name};e.tick=function(a,b){this.ta.tick(a,b)};e.Za=function(a){a&&this.sa.push(a)};e.report=function(){var a="https:"==g.location.protocol?"https://www.google.com/csi":"http://csi.gstatic.com/csi",b={};this.sa.length&&(b.e=this.sa.join());return g.GPT_jstiming.report(this.ta,b,a)};e.ib=function(a){xa(window,function(){setTimeout(a,10)})};
var S=function(a){this.name=a};r(S,ub);S.prototype.tick=function(){};S.prototype.Za=function(){};S.prototype.report=function(){return null};S.prototype.ib=function(){};var vb=function(){var a=g.GPT_jstiming.load,b=0.01;void 0==b&&(b=0.01);return g.GPT_jstiming&&g.GPT_jstiming.load&&("http:"==g.location.protocol||"https:"==g.location.protocol)&&Math.random()<b?new ub("global",a):new S("global")};
(function(){if(!x()._gpt_timer_&&g.GPT_jstiming){var a=vb();a.ib(function(){a.tick("load");a.report()});y("_gpt_timer_",a)}return x()._gpt_timer_})();var T=function(){this.c={};this.Z=!1;this.b=G();this.lb=this.b.info("Google service JS loaded");xa(window,ga(T.prototype.mb,this))};T.prototype.add=function(a){this.c[a.getName()]=a};T.prototype.find=function(a){var b=null;a in this.c&&(b=this.c[a]);return b};T.prototype.mb=function(){this.Z=!0;this.b.info("Page load complete",null,null,this.lb)};var U=function(){var a=x();return a.service_manager_instance||(a.service_manager_instance=new T)};
y("enableServices",function(){var a=U(),b;for(b in a.c){var c=a.c[b];if(!q(c)){c.enable();var c=b,d=x()._gpt_timer_;d&&d.Za(c)}}});var V=function(){R.call(this);this.Oa=!0;this.ha=this.ja=!1;this.P=0;this.Q="";this.ga=this.fa=this.ea=this.C=void 0;this.Pa=this.ia=!1;this.ca={};this.O=!1};r(V,R);e=V.prototype;
e.ua=function(){if(this.Oa){if(!this.Pa){var a=document,b=document.createElement("script");b.async=!0;b.type="text/javascript";b.src=this.p();try{var c=a.getElementsByTagName("script")[0];this.log.info("Fetching companion ads implementation",this);this.Pa=!0;c.parentNode&&c.parentNode.insertBefore(b,c)}catch(d){this.log.error("Unable to fetch companion ads implementation",this)}}}else this.ia||(g.document.write('<script type="text/javascript" src="'+gb(this.p())+'">\x3c/script>'),this.ia=!0)};
e.yb=function(){this.Oa=!1};e.ec=function(a){n(a)&&(this.ja=a)};e.cc=function(a){n(a)&&(this.ha=a)};e.Yb=function(a){if(this.ja)wb(this,xb(this,a));else if(this.ha){a=xb(this,a);var b=googletag.pubads();b.isEnabled()?b.clear(a):this.log.error("Pubads service is not enabled, cannot use clear feature.")}};
e.Sa=function(){var a=googletag.pubads();if(!a.isEnabled())return!1;var a=a.j(),b=this.j();if(a.length!=b.length)return!1;for(var c=0;c<b.length;++c){for(var d=!1,f=0;f<a.length;++f)if(b[c]===a[f]){d=!0;break}if(!d)return!1}return!0};e.ac=function(){this.ja&&wb(this,null)};
e.gc=function(a,b,c,d,f,h,m){this.O=!1;this.P=0;this.Q="";this.ga=this.fa=this.ea=this.C=void 0;this.P=a;this.Q=b;this.C=c;0==this.C.length&&(this.C=void 0);t:{a=d.split(",");b=[];for(c=0;c<a.length;++c){d=a[c].split("x");if(2!=d.length){this.log.error("The master ad size specified is invalid.");a=void 0;break t}d=[Number(d[0]),Number(d[1])];if(!k(d)||2!=d.length||isNaN(d[0])||isNaN(d[1])){this.log.error("The master ad size specified is invalid.");a=void 0;break t}b.push(d)}a=b}this.ea=a;void 0!==
f&&(this.fa=f);void 0!==h&&(this.ga=h);void 0!==m&&(this.O=m)};e.Jb=function(){return googletag.pubads().getCorrelator()};e.getVideoStreamCorrelator=function(){return googletag.pubads().getVideoStreamCorrelator()};e.hc=function(a){this.P=a};e.ic=function(a){this.Q=a};
var wb=function(a,b){var c=googletag.pubads();if(c.isEnabled()){if(a.O){if(!a.Sa()){F(a.log,"Persistent roadblock requested, but ad slots are incorrectly configured. All ad slots on page must have both pubads and companionAds services attached. Skipping refresh.");return}c.clearNoRefreshState();c.clear()}c.Ta(b,a.P,a.Q,a.C,a.ea,a.fa,a.ga,a.O,a.ha)}else a.log.error("Pubads service is not enabled, cannot use refresh feature.")};
V.prototype.isSlotAPersistentRoadblock=function(a){var b=googletag.pubads();if(b.isEnabled())return b.isSlotAPersistentRoadblock(a);this.log.error("Pubads service is not enabled, cannot check whether slot is a persistent roadblock.  Content writing allowed.");return!1};var xb=function(a,b){for(var c=a.hb(),d=[],f=0;f<b.length;++f){var h=b[f];h in c?d.push(c[h]):F(a.log,"Cannot find slot with id "+h+".",a)}return d};e=V.prototype;e.getName=function(){return"companion_ads"};
e.p=function(){var a=document,b=null;try{b=a.location.protocol}catch(c){}return("https:"==b?"https:":"http:")+"//pagead2.googlesyndication.com/pagead/show_companion_ad.js"};e.$b=function(){this.log.info("Companion ads implementation fetched.",this);this.ia=!0};e.r=function(a){var b=a&&a.i().q();return b&&b in this.ca&&a.A()&&this.isEnabled()&&!this.isSlotAPersistentRoadblock(a)?(a.R(this.ca[b]),qb(a)):!1};e.H=function(a){this.r(a)};
e.fillSlot=function(a,b){return a&&l(b)&&0<b.length?(this.ca[a.i().toString()]=b,this.r(a)):!1};y("companionAds",function(){var a=U(),b=a.find("companion_ads");b||(b=new V,a.add(b));return b});V.prototype.fillSlot=V.prototype.fillSlot;V.prototype.enableSyncLoading=V.prototype.yb;V.prototype.isSlotAPersistentRoadblock=V.prototype.isSlotAPersistentRoadblock;V.prototype.isRoadblockingSupported=V.prototype.Sa;V.prototype.onImplementationLoaded=V.prototype.$b;V.prototype.notifyUnfilledSlots=V.prototype.Yb;
V.prototype.refreshAllSlots=V.prototype.ac;V.prototype.setRefreshUnfilledSlots=V.prototype.ec;V.prototype.setClearUnfilledSlots=V.prototype.cc;V.prototype.setXfpCorrelator=V.prototype.hc;V.prototype.setXfpPreviousAdsToken=V.prototype.ic;V.prototype.setVideoSessionInfo=V.prototype.gc;V.prototype.getDisplayAdsCorrelator=V.prototype.Jb;V.prototype.getVideoStreamCorrelator=V.prototype.getVideoStreamCorrelator;var W=function(){R.call(this);this.o={}};r(W,R);e=W.prototype;e.getName=function(){return"content"};e.r=function(a){var b=a&&a.i().q();return b in this.o&&this.isEnabled()&&a.A()&&!a.v?(a.R(this.o[b]),qb(a)):!1};e.ua=function(){for(var a=this.j(),b=0;b<a.length;++b)this.r(a[b])};e.H=function(a){this.r(a)};e.R=function(a,b){a&&l(b)&&0<b.length&&(this.o[a.i().q()]=b,this.r(a))};y("content",function(){var a=U(),b=a.find("content");b||(b=new W,a.add(b));return b});W.prototype.setContent=W.prototype.R;var yb=null,zb=Sa||Ta||Ra||"function"==typeof g.atob;var X=function(a,b,c){!l(a)||0>=a.length||!Boolean(b)||!c?G().error("Illegal slot name or size in PassbackSlot(). Name: "+a+"; size: "+b+"; service: "+c):(this.m=new P(a,this[ca]||(this[ca]=++da),b),this.m.ka(c),this.oa=c)};X.prototype.F=function(a){this.m.F(a);return this};X.prototype.s=function(a,b){this.m.s(a,b);return this};X.prototype.ra=function(a){this.m.ra(a);return this};X.prototype.display=function(){Ab(this.oa,this.m)};X.prototype.setClickUrl=X.prototype.F;X.prototype.setTargeting=X.prototype.s;
X.prototype.setAudExtId=X.prototype.ra;X.prototype.display=X.prototype.display;var Y=function(){R.call(this);this.u=!1;this.a=null;this.za=0;this.d={};this.T=[];this.Ea=this.V="";this.Da=!1;this.Ba=!0;this.n=this.Aa=!1;this.f=!0;this.S=this.I=this.Ca=!1;this.k=[];this.J=[];this.K=[];this.U=!1;this.W={};this.X=!1;this.Fa=this.Ga="";this.L=[]};r(Y,R);
var Bb={adsense_ad_format:"google_ad_format",adsense_ad_types:"google_ad_type",adsense_allow_expandable_ads:"google_allow_expandable_ads",adsense_background_color:"google_color_bg",adsense_bid:"google_bid",adsense_border_color:"google_color_border",adsense_channel_ids:"google_ad_channel",adsense_content_section:"google_ad_section",adsense_cpm:"google_cpm",adsense_ed:"google_ed",adsense_encoding:"google_encoding",adsense_family_safe:"google_safe",adsense_feedback:"google_feedback",adsense_flash_version:"google_flash_version",
adsense_font_face:"google_font_face",adsense_font_size:"google_font_size",adsense_hints:"google_hints",adsense_host:"google_ad_host",adsense_host_channel:"google_ad_host_channel",adsense_host_tier_id:"google_ad_host_tier_id",adsense_keyword_type:"google_kw_type",adsense_keywords:"google_kw",adsense_line_color:"google_line_color",adsense_link_color:"google_color_link",adsense_relevant_content:"google_contents",adsense_reuse_colors:"google_reuse_colors",adsense_targeting:"google_targeting",adsense_targeting_types:"google_targeting",
adsense_test_mode:"google_adtest",adsense_text_color:"google_color_text",adsense_ui_features:"google_ui_features",adsense_ui_version:"google_ui_version",adsense_url_color:"google_color_url",alternate_ad_iframe_color:"google_alternate_color",alternate_ad_url:"google_alternate_ad_url",demographic_age:"google_cust_age",demographic_ch:"google_cust_ch",demographic_gender:"google_cust_gender",demographic_interests:"google_cust_interests",demographic_job:"google_cust_job",demographic_l:"google_cust_l",demographic_lh:"google_cust_lh",
demographic_u_url:"google_cust_u_url",demographic_unique_id:"google_cust_id",document_language:"google_language",geography_override_city:"google_city",geography_override_country:"google_country",geography_override_region:"google_region",page_url:"google_page_url"};
Y.prototype.ua=function(){if(this.f){if(!this.u){var a=document,b=a.createElement("script");U();b.async=!0;b.type="text/javascript";b.src=this.p();(a=a.getElementsByTagName("head")[0]||a.getElementsByTagName("body")[0])?(this.log.info("Fetching GPT implementation",this),a.appendChild(b),this.u=!0):this.log.error("Unable to fetch GPT implementation",this)}}else Cb(this)};Y.prototype.getName=function(){return"publisher_ads"};Y.prototype.p=function(){return(hb()?"https:":"http:")+"//partner.googleadservices.com/gpt/pubads_impl_27.js"};
var Cb=function(a){var b=U();a.u||b.Z||(b=document,a.u=!0,b.write('<script type="text/javascript" src="'+gb(a.p())+'">\x3c/script>'))};
Y.prototype.fillSlot=function(a){this.log.info("Calling fillslot");this.a.fillSlot(a);this.W[a.getName()]=!0;if(this.a)if(this.U)(a=this.j()[0])&&a.getName()in this.W&&(this.refresh(),this.U=!1);else for(a=0;a<this.K.length;a++){var b=this.K[a];b[0].getName()in this.W&&(this.refresh(b),I.splice.call(this.K,a,1),a--)}else this.log.error("Bad call to check refreshes before impl is loaded",this)};
Y.prototype.Zb=function(){U();var a=x().impl;if(a&&a.pubads){this.a=a.pubads;this.log.info("GPT implementation fetched.",this);q(this.a.setCookieOptions)&&this.a.setCookieOptions(this.za);this.Ba||this.a.disableFetch();this.I&&this.a.collapseEmptyDivs(this.S);if(this.n){this.f?this.a.enableAsyncSingleRequest():this.a.enableSingleRequest();Db(this);for(var a=this.j(),b=0;b<a.length;++b)Eb(this,a[b])}else this.f&&this.a.enableAsyncRendering();this.Aa&&this.a.disableInitialLoad();Fb(this);if(0<this.k.length)for(b=
0;b<this.k.length;++b)this.H(this.k[b]);if(0<this.J.length)for(b=0;b<this.J.length;++b)Ab(this,this.J[b])}else this.log.error("Unable to fetch pubads service implementation from "+this.p(),this)};Y.prototype.da=function(a){this.f||(a.Y=!1);R.prototype.da.call(this,a)};
Y.prototype.H=function(a){if(U().Z&&!this.f)this.log.error("Attempting to display ad in sync mode after page load is complete.",this);else if(this.a)Db(this),(this.n||Eb(this,a))&&this.fillSlot(a);else if(this.f||this.u&&0==this.k.length){for(var b=!1,c=0;c<this.k.length;++c)a===this.k[c]&&(b=!0);b||(this.log.info("Delaying rendering of ad slot "+a.getName()+" pending loading of the GPT implementation",this,a),this.k.push(a))}else this.log.error("Skipping rendering of slot "+a.getName()+" due to missing GPT implementaition",
this,a)};
var Eb=function(a,b){if(a.a&&null==a.a.addSlot(b))return a.log.error("Unable to process name for slot "+b.getName(),a,b),!1;for(var c=b.B(),d=0;d<c.length;++d)c[d]in Bb?a.a.addAdSenseSlotAttribute(b,Bb[c[d]],b.get(c[d])):F(a.log,"Ignoring unknown pubads attribute "+c[d]+" with value "+b.get(c[d])+" for slot "+b.getName(),a,b);if(q(a.a.addSlotTargeting)){var c=[],f;for(f in b.d)q(b.d[f])||c.push(f);for(f=0;f<c.length;++f)a.a.addSlotTargeting(b,c[f],c[f]in b.d?b.d[c[f]]:[])}b.ba()&&q(a.a.kb)&&a.a.kb(b,
b.ba());return!0},Db=function(a){if(!a.Da){a.Da=!0;for(var b=a.B(),c=0;c<b.length;++c)b[c]in Bb?a.a.addAdSensePageAttribute(Bb[b[c]],a.get(b[c])):F(a.log,"Ignoring unknown pubads attribute "+b[c]+" with value "+a.get(b[c]),a);a.a.addAdSensePageAttribute("google_tag_info","v2");for(var d in a.d)if(b=a.d[d],k(b))for(c=0;c<b.length;++c)a.a.addAttribute(d,b[c]);q(a.a.addPageCategoryExclusion)&&Ea(a.T,function(a){this.a.addPageCategoryExclusion(a)},a);q(a.a.setPublisherProvidedId)&&a.a.setPublisherProvidedId(a.Ea);
a.V&&a.a.setLocation(a.V);void 0!==a.a.setCenterAds&&a.a.setCenterAds(a.Ca);void 0!==a.a.setApiExperiment?Ea(a.L,function(a){this.a.setApiExperiment(a)},a):0==a.L.length||F(a.log,"Ignoring forced experiments due to lack of support in the Pubads implementation. Experiments: "+a.L.join())}};e=Y.prototype;
e.setCookieOptions=function(a){if(!fb(a))return F(this.log,"Cookie options must be an integer number, 0 or greater. Ignoring value: "+a,this),this;this.za=a;this.a&&q(this.a.setCookieOptions)&&this.a.setCookieOptions(a);return this};
e.s=function(a,b){var c=[];l(b)?c.push(b):c=b;var d=" targeting attribute "+a+" with value "+c.join()+" for service "+this.getName();if(!l(a)||v(null==a?"":String(a)))return F(this.log,"Unable to set"+d,this),this;this.d[a]=c;this.log.info("Setting"+d,this);if(this.a&&q(this.a.clearAttribute))for(this.a.clearAttribute(a),d=0;d<c.length;++d)this.a.addAttribute(a,c[d]);return this};
e.xa=function(a){var b=" targeting attribute "+a+" for service "+this.getName();if(!l(a)||v(null==a?"":String(a)))return F(this.log,"Unable to clear"+b,this),this;if(!this.d[a])return F(this.log,"Cannot find"+b,this),this;delete this.d[a];this.log.info("Clearing"+b,this);this.a&&q(this.a.clearAttribute)&&this.a.clearAttribute(a);return this};
e.ya=function(a){if(!l(a)||v(null==a?"":String(a)))return F(this.log,"Invalid page level ad category exclusion label supplied",this),this;var b=this.T;0<=Da(b,a)||b.push(a);this.log.info("Setting page level ad category exclusion: "+a,this);this.a&&q(this.a.clearPageCategoryExclusions)&&this.a.addPageCategoryExclusion(a);return this};
e.wa=function(){this.T=[];this.log.info("Clearing all page level ad category exclusions",this);this.a&&q(this.a.clearPageCategoryExclusions)&&this.a.clearPageCategoryExclusions();return this};e.Xb=function(){this.a?F(this.log,"Ignoring noFetch since the pubads service is already enabled",this):this.Ba=!1};e.disableInitialLoad=function(){this.a?F(this.log,"Ignoring disableInitialLoad since the pubads service is already enabled",this):this.Aa=!0};
e.enableSingleRequest=function(){this.isEnabled()&&!this.n?F(this.log,"Ignoring change to single request mode since the service is already enabled",this):(this.log.info("Using single request mode to fetch ads",this),this.n=!0);return this.n};e.enableAsyncRendering=function(){this.isEnabled()&&!this.f?F(this.log,"Ignoring change to async-rendering mode since the service is already enabled",this):(this.log.info("Using async-rendering mode to fetch ads",this),this.f=!0);return this.f};
e.zb=function(){if(this.isEnabled()&&this.f)F(this.log,"Ignoring change to async-rendering mode since the service is already enabled",this);else{this.log.info("Using sync-rendering mode to fetch ads",this);this.f=!1;for(var a=this.j(),b=0;b<a.length;++b)a[b].Y=!1}return!this.f};e.bc=function(a){this.log.info("Setting centering to "+a,this);this.Ca=a};
e.setPublisherProvidedId=function(a){this.isEnabled()?F(this.log,"Ignoring change to PPID since the service is already enabled. Not setting: "+a,this):(this.log.info("Setting PPID to "+a,this),this.Ea=a);return this};e.wb=function(a,b){return new X(a,b,this)};var Ab=function(a,b){Cb(a);a.a?q(a.a.passback)?a.a.passback(b):a.log.error("The GPT impl does not yet support passbacks.",a,b):(a.log.info("Delaying passback of ad slot "+b.getName()+" pending loading of the GPT implementation",a,b),a.J.push(b))};
e=Y.prototype;
e.refresh=function(a){if(a&&!k(a))F(this.log,"Slots to refresh must be an array.",this);else{var b=null;if(a&&(b=Gb(this,a),!b.length)){this.log.error("Slots specified, but no valid slots found. Refresh aborted.",this);return}this.a?(this.log.info("Refreshing ads",this),this.a.refresh(b)):this.n?(this.log.info("Refresh pushed on pending list until GPT implementation Javascript loads.",this),b?(a=this.K,0<=Da(a,b)||a.push(b)):this.U=!0):F(this.log,"The ads cannot be refreshed because the GPT implementation Javascript is not yet loaded.",this)}};
e.Ta=function(a,b,c,d,f,h,m,s,A){if(a&&!k(a))F(this.log,"Slots to refresh must be an array.",this);else if(b&&!p(b))F(this.log,"Correlator must be a number.",this);else if(c&&!l(c))F(this.log,"Pstok must be a string.",this);else if(d&&!l(d))F(this.log,"Video IU must be a string.",this);else if(f&&!k(f))F(this.log,"Video IU sizes must be an array.",this);else if(h&&!p(h))F(this.log,"Pod number must be a number.",this);else if(m&&!p(m))F(this.log,"Pod position must be a number.",this);else if(s&&!n(s))F(this.log,
"Persistent roadblocks only must be a boolean.",this);else if(A&&!n(A))F(this.log,"Clear unfilled slots must be a boolean.",this);else if(this.a){var w=null;if(a&&(w=Gb(this,a),!w.length)){this.log.error("No valid slot ids found, refresh aborted.",this);return}f&&!jb(f)?this.log.error("Video size array must have only two values, both numeric. Refresh aborted.",this):(this.log.info("Refreshing ads",this),this.a.refresh(w,b,c,d,f,h,m,s,A))}else F(this.log,"The ads cannot be refreshed because the GPT implementation Javascript is not yet loaded.",
this)};e.Ab=function(){this.X=!0;Fb(this)};e.fc=function(a,b){this.X=!0;this.Ga=a;this.Fa=b;Fb(this)};e.Vb=function(){return this.a&&null!=this.a.getVideoContentInformation?this.a.getVideoContentInformation():null};var Fb=function(a){a.X&&a.a&&a.a.setVideoContentInformation&&a.a.setVideoContentInformation(a.Ga,a.Fa)};e=Y.prototype;e.getCorrelator=function(){return 0==this.j().length?"not_available":this.a?null!=this.a.getCorrelator?this.a.getCorrelator():"not_available":"not_loaded"};
e.getVideoStreamCorrelator=function(){if(!this.a||null==this.a.getVideoStreamCorrelator)return 0;var a=this.a.getVideoStreamCorrelator();return isNaN(a)?0:a};e.isAdRequestFinished=function(){return this.a?null!=this.a.isAdRequestFinished?this.a.isAdRequestFinished():null:!1};e.isSlotAPersistentRoadblock=function(a){return this.a&&null!=this.a.isSlotAPersistentRoadblock?this.a.isSlotAPersistentRoadblock(a):!1};
e.collapseEmptyDivs=function(a){this.I?F(this.log,"Ignoring subsequent call to set div collapse mode (already set)",this):this.isEnabled()?F(this.log,"Ignoring change to div collapse mode since the service is already enabled",this):(this.S=Boolean(a),this.log.info("Enabling collapsing of containers when there is no ad content. Collapse before ad fetch = "+this.S,this),this.I=!0);return this.I};
e.clear=function(a){if(!this.a)return F(this.log,"The slot contents cannot be cleared because the GPT implementation Javascript is not yet loaded.",this),!1;if(null!=this.a.clearSlotContents){var b=null;if(a&&(b=Gb(this,a),0==b.length))return this.log.error("Slots specified, but no valid slots found. Clear aborted.",this),!1;this.log.info("Clearing slot contents.",this);return this.a.clearSlotContents(b)}F(this.log,"The GPT implementation does not yet support clearing slots.");return!1};
e.clearNoRefreshState=function(){this.a?null!=this.a.clearNoRefreshState?(this.log.info("Clearing no_refresh state.",this),this.a.clearNoRefreshState()):F(this.log,"The GPT implementation does not yet support clearNoRefreshState"):F(this.log,"The no_refresh state cannot be cleared because the GPT implementation Javascript is not yet loaded.",this)};e.clearSlotTargeting=function(a){this.a&&q(this.a.clearSlotTargeting)&&this.a.clearSlotTargeting(a)};
e.Na=function(a,b,c){this.a&&q(this.a.addSlotTargeting)&&this.a.addSlotTargeting(a,b,c)};
e.setLocation=function(a,b,c){var d="role:1 producer:12";if(void 0!==b){if(!p(a)||!p(b))return F(this.log,"Latitude and longitude are expected to be numbers"),this;d+=" latlng{ latitude_e7: "+Math.round(1E7*a)+" longitude_e7: "+Math.round(1E7*b)+"}";if(void 0!==c){if(isNaN(c))return F(this.log,"Radius is expected to be a number"),this;d+=" radius:"+Math.round(c)}}else 50<a.length&&(b=a.substring(0,50),F(this.log,"Location: "+a+" is longer than 50. Truncating it to"+b+"."),a=b),d+=' loc:"'+a+'"';if(zb)d=
g.btoa(d);else{a=d;d=[];for(c=b=0;c<a.length;c++){for(var f=a.charCodeAt(c);255<f;)d[b++]=f&255,f>>=8;d[b++]=f}if(!ba(d))throw Error("encodeByteArray takes an array as a parameter");if(!yb)for(yb={},a=0;65>a;a++)yb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a);a=yb;b=[];for(c=0;c<d.length;c+=3){var h=d[c],m=(f=c+1<d.length)?d[c+1]:0,s=c+2<d.length,A=s?d[c+2]:0,w=h>>2,h=(h&3)<<4|m>>4,m=(m&15)<<2|A>>6,A=A&63;s||(A=64,f||(m=64));b.push(a[w],a[h],a[m],a[A])}d=b.join("")}this.V=
"a "+d;return this};e.getVersion=function(){return this.a?null!=this.a.getVersion?this.a.getVersion():"unversioned":void 0};e.Db=function(a){this.isEnabled()?F(this.log,"Ignoring experiment since the service is already enabled. Not setting: "+a,this):this.L.push(a)};var Gb=function(a,b){for(var c=[],d=0;d<b.length;++d){var f=b[d];f instanceof P?c.push(f):F(a.log,"Slot object at position "+d+" is of incorrect type.",a)}return c};
y("pubads",function(){var a=U(),b=a.find("publisher_ads");b||(b=new Y,a.add(b));return b});Y.prototype.clear=Y.prototype.clear;Y.prototype.clearNoRefreshState=Y.prototype.clearNoRefreshState;Y.prototype.collapseEmptyDivs=Y.prototype.collapseEmptyDivs;Y.prototype.definePassback=Y.prototype.wb;Y.prototype.enableAsyncRendering=Y.prototype.enableAsyncRendering;Y.prototype.enableSingleRequest=Y.prototype.enableSingleRequest;Y.prototype.enableSyncRendering=Y.prototype.zb;Y.prototype.enableVideoAds=Y.prototype.Ab;
Y.prototype.forceExperiment=Y.prototype.Db;Y.prototype.getCorrelator=Y.prototype.getCorrelator;Y.prototype.getVideoContent=Y.prototype.Vb;Y.prototype.getVideoStreamCorrelator=Y.prototype.getVideoStreamCorrelator;Y.prototype.isAdRequestFinished=Y.prototype.isAdRequestFinished;Y.prototype.isSlotAPersistentRoadblock=Y.prototype.isSlotAPersistentRoadblock;Y.prototype.noFetch=Y.prototype.Xb;Y.prototype.onGoogleAdsJsLoad=Y.prototype.Zb;Y.prototype.refresh=Y.prototype.refresh;Y.prototype.setLocation=Y.prototype.setLocation;
Y.prototype.setTargeting=Y.prototype.s;Y.prototype.clearTargeting=Y.prototype.xa;Y.prototype.setCategoryExclusion=Y.prototype.ya;Y.prototype.clearCategoryExclusions=Y.prototype.wa;Y.prototype.setVideoContent=Y.prototype.fc;Y.prototype.getVersion=Y.prototype.getVersion;Y.prototype.videoRefresh=Y.prototype.Ta;Y.prototype.setCentering=Y.prototype.bc;Y.prototype.setPublisherProvidedId=Y.prototype.setPublisherProvidedId;Y.prototype.setCookieOptions=Y.prototype.setCookieOptions;var Hb=/#|$/,Ib=function(a,b){var c=a.search(Hb),d;t:{d=0;for(var f=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var h=a.charCodeAt(d-1);if(38==h||63==h)if(h=a.charCodeAt(d+f),!h||61==h||38==h||35==h)break t;d+=f+1}d=-1}if(0>d)return null;f=a.indexOf("&",d);if(0>f||f>c)f=c;d+=b.length+1;return decodeURIComponent(a.substr(d,f-d).replace(/\+/g," "))};var Jb=function(){var a=window,b=document;if(x()._pubconsole_disable_)return!1;var c;c=document.cookie.split("google_pubconsole=");if(c=2==c.length?c[1].split(";")[0]:"")if(c=c.split("|"),0<c.length&&("1"==c[0]||"0"==c[0]))return!0;U();c=!1;try{c=a.top.document.URL===b.URL}catch(d){}a=c?b.URL:b.referrer;return null!==Ib(a,"google_debug")||null!==Ib(a,"google_console")||null!==Ib(a,"google_force_console")||null!==Ib(a,"googfc")},Kb=function(){if(Jb()){var a=document,b=a.createElement("script");b.type=
"text/javascript";b.src=(hb()?"https:":"http:")+"//publisherconsole.appspot.com/js/loader.js";b.async=!0;(a=a.getElementsByTagName("script")[0])&&a.parentNode&&a.parentNode.insertBefore(b,a)}};"complete"===document.readyState?Kb():xa(window,Kb);y("disablePublisherConsole",function(){x()._pubconsole_disable_=!0});var Z=function(){this.ma=[];this.la=!1;this.b=G()};Z.prototype.ub=function(a,b){if(!ib(a))return this.la=!0,F(this.b,"Cannot add size mapping due to invalid viewport size: "+a),this;if(!(ib(b)||k(b)&&Ga(b,ib)))return this.la=!0,F(this.b,"Cannot add size mapping due to invalid slot size: "+b),this;this.ma.push([a,b]);return this};Z.prototype.vb=function(){if(this.la)return F(this.b,"Size mapping is null because invalid mappings were added"),null;La(this.ma);return this.ma};
var Ka=function(a,b){var c;t:{c=b[0];for(var d=a[0],f=Ia,h=Math.min(c.length,d.length),m=0;m<h;m++){var s=f(c[m],d[m]);if(0!=s){c=s;break t}}c=Ia(c.length,d.length)}return c};y("sizeMapping",function(){return new Z});Z.prototype.addSize=Z.prototype.ub;Z.prototype.build=Z.prototype.vb;y("getVersion",function(){return"27"});var $=x().cmd;if(!$||k($)){var Lb=x().cmd=new H;$&&0<$.length&&Lb.push.apply(Lb,$)}(function(){var a=document.getElementsByTagName("script");0<a.length&&(a=a[a.length-1],a.src&&0<=a.src.indexOf("/tag/js/gpt.js")&&a.innerHTML&&!a.googletag_executed&&(a.googletag_executed=!0,eval(a.innerHTML)))})();})()
(function(){var e,g=this,aa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b},k=function(a){return"array"==aa(a)},ba=function(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length},l=function(a){return"string"==typeof a},n=function(a){return"boolean"==typeof a},p=function(a){return"number"==typeof a},q=function(a){return"function"==aa(a)},ca="closure_uid_"+(1E9*Math.random()>>>0),da=0,ea=function(a,b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<
arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},ga=function(a,b,c){ga=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa;return ga.apply(null,arguments)},r=function(a,b){function c(){}c.prototype=b.prototype;a.jc=b.prototype;a.prototype=new c};var t=function(a){a=parseFloat(a);return isNaN(a)||1<a||0>a?0:a},ha=/^([\w-]+\.)*([\w-]{2,})(\:[0-9]+)?$/,u=function(a,b){if(!a)return b;var c=a.match(ha);return c?c[0]:b};var ia=t("0.02"),ja=t("1"),ka=t("1");var la=t("0.005"),ma=t("0.01"),na=t("0.001"),oa=parseInt("1500",10),pa=isNaN(oa)?1500:oa,qa=t("0.01"),ra=t("1.0"),sa=t("0.1");var ta=/^true$/.test("false")?!0:!1;var ua=function(){return u("","pagead2.googlesyndication.com")};var v=function(a){return/^[\s\xa0]*$/.test(a)};var va=function(a,b){this.width=a;this.height=b};va.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};va.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var wa="http://"+ua()+"/pagead/show_ads.js";var x=function(){return g.googletag||(g.googletag={})},y=function(a,b,c){var d=x();a in d&&!c||(d[a]=b)},xa=function(a,b){a.addEventListener?a.addEventListener("load",b,!1):a.attachEvent&&a.attachEvent("onload",b)};var z={};z[1]=ua();z[2]=u("","pubads.g.doubleclick.net");z[3]=u("","securepubads.g.doubleclick.net");z[4]=u("","partner.googleadservices.com");z[5]=wa;z[6]=ta;z[7]=ia;z[8]=ja;z[9]=ka;z[10]=ma;z[11]=na;z[12]=la;z[13]=pa;z[16]=qa;z[17]=ra;z[18]=sa;y("_vars_",z);var C=function(a,b,c,d,f){this.pa=new Date;this.n=d||null;this.oa=c||null;this.Wa=a;this.Xa=b;this.na=f||null};e=C.prototype;e.gb=function(){return this.n};e.fb=function(){return this.oa};e.eb=function(){return this.Wa};e.ab=function(){return this.pa};e.Pb=function(){return this.Xa};e.Rb=function(){return this.na};var ya=["Debug","Info","Warning","Error","Fatal"];
C.prototype.toString=function(){var a=this.pa.toTimeString()+": "+ya[this.Wa]+": "+this.Xa;this.na&&(a+=" Duration: "+(this.pa.getTime()-this.na.ab().getTime())+"ms.");return a};C.prototype.getTimestamp=C.prototype.ab;C.prototype.getService=C.prototype.fb;C.prototype.getSlot=C.prototype.gb;C.prototype.getLevel=C.prototype.eb;C.prototype.getMessage=C.prototype.Pb;C.prototype.getReference=C.prototype.Rb;var D=function(){this.G=[]};D.prototype.Eb=function(){return this.G};D.prototype.Mb=function(a){return za(this,function(b){return b.fb()===a})};D.prototype.Nb=function(a){return za(this,function(b){return b.gb()===a})};D.prototype.Lb=function(a){return za(this,function(b){return b.eb()>=a})};var za=function(a,b){for(var c=[],d=0;d<a.G.length;++d)b(a.G[d])&&c.push(a.G[d]);return c};D.prototype.log=function(a,b,c,d,f){a=new C(a,b,c,d,f);this.G.push(a);return a};
D.prototype.info=function(a,b,c,d){return this.log(1,a,b,c,d)};var F=function(a,b,c,d){a.log(2,b,c,d,void 0)};D.prototype.error=function(a,b,c,d){return this.log(3,a,b,c,d)};var G=function(){var a=x();return a.debug_log||(a.debug_log=new D)};y("getEventLog",G);D.prototype.getAllEvents=D.prototype.Eb;D.prototype.getEventsByService=D.prototype.Mb;D.prototype.getEventsBySlot=D.prototype.Nb;D.prototype.getEventsByLevel=D.prototype.Lb;var H=function(){this.bb=this.va=0};H.prototype.push=function(a){for(var b=G(),c=0;c<arguments.length;++c)try{q(arguments[c])&&(arguments[c](),this.va++)}catch(d){this.bb++,b.error("Exception invoking function: "+d.message)}b.info("Invoked queued function. Total: "+this.va+" Errors: "+this.bb);return this.va};H.prototype.push=H.prototype.push;(function(){function a(a){this.t={};this.tick=function(a,b,c){this.t[a]=[void 0!=c?c:(new Date).getTime(),b]};this.tick("start",null,a)}var b=new a;window.GPT_jstiming={Timer:a,load:b};if(window.performance&&window.performance.timing){var b=window.performance.timing,c=window.GPT_jstiming.load,d=b.navigationStart,b=b.responseStart;0<d&&b>=d&&(c.tick("_wtsrt",void 0,d),c.tick("wtsrt_","_wtsrt",b),c.tick("tbsd_","wtsrt_"))}try{b=null,window.chrome&&window.chrome.csi&&(b=Math.floor(window.chrome.csi().pageT),
c&&0<d&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",d))),null==b&&window.gtbExternal&&(b=window.gtbExternal.pageT()),null==b&&window.external&&(b=window.external.pageT,c&&0<d&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",d))),b&&(window.GPT_jstiming.pt=b)}catch(f){}})();if(window.GPT_jstiming){window.GPT_jstiming.cb={};window.GPT_jstiming.pb=1;var Aa=function(a,b,c){var d=a.t[b],f=a.t.start;if(d&&(f||c))return d=a.t[b][0],void 0!=c?f=c:f=f[0],d-f},Ba=function(a,b,c){var d="";window.GPT_jstiming.pt&&(d+="&srt="+window.GPT_jstiming.pt,delete window.GPT_jstiming.pt);try{window.external&&window.external.tran?d+="&tran="+window.external.tran:window.gtbExternal&&window.gtbExternal.tran?d+="&tran="+window.gtbExternal.tran():window.chrome&&window.chrome.csi&&(d+="&tran="+
window.chrome.csi().tran)}catch(f){}var h=window.chrome;if(h&&(h=h.loadTimes)){h().wasFetchedViaSpdy&&(d+="&p=s");if(h().wasNpnNegotiated){var d=d+"&npn=1",m=h().npnNegotiatedProtocol;m&&(d+="&npnv="+(encodeURIComponent||escape)(m))}h().wasAlternateProtocolAvailable&&(d+="&apa=1")}var s=a.t,A=s.start,h=[],m=[],w;for(w in s)if("start"!=w&&0!=w.indexOf("_")){var B=s[w][1];B?s[B]&&m.push(w+"."+Aa(a,w,s[B][0])):A&&h.push(w+"."+Aa(a,w))}delete s.start;if(b)for(var E in b)d+="&"+E+"="+b[E];(b=c)||(b="https:"==
document.location.protocol?"https://csi.gstatic.com/csi":"http://csi.gstatic.com/csi");return[b,"?v=3","&s="+(window.GPT_jstiming.sn||"gpt")+"&action=",a.name,m.length?"&it="+m.join(","):"",d,"&rt=",h.join(",")].join("")},Ca=function(a,b,c){a=Ba(a,b,c);if(!a)return"";b=new Image;var d=window.GPT_jstiming.pb++;window.GPT_jstiming.cb[d]=b;b.onload=b.onerror=function(){window.GPT_jstiming&&delete window.GPT_jstiming.cb[d]};b.src=a;b=null;return a};window.GPT_jstiming.report=function(a,b,c){if("prerender"==
document.webkitVisibilityState){var d=!1,f=function(){if(!d){b?b.prerender="1":b={prerender:"1"};var h;"prerender"==document.webkitVisibilityState?h=!1:(Ca(a,b,c),h=!0);h&&(d=!0,document.removeEventListener("webkitvisibilitychange",f,!1))}};document.addEventListener("webkitvisibilitychange",f,!1);return""}return Ca(a,b,c)}};var I=Array.prototype,Da=I.indexOf?function(a,b,c){return I.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(l(a))return l(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ea=I.forEach?function(a,b,c){I.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=l(a)?a.split(""):a,h=0;h<d;h++)h in f&&b.call(c,f[h],h,a)},Fa=I.map?function(a,b,c){return I.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),h=l(a)?a.split(""):
a,m=0;m<d;m++)m in h&&(f[m]=b.call(c,h[m],m,a));return f},Ga=I.every?function(a,b,c){return I.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=l(a)?a.split(""):a,h=0;h<d;h++)if(h in f&&!b.call(c,f[h],h,a))return!1;return!0},Ha=function(a,b){var c;t:{c=a.length;for(var d=l(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(void 0,d[f],f,a)){c=f;break t}c=-1}return 0>c?null:l(a)?a.charAt(c):a[c]},Ja=function(a,b){I.sort.call(a,b||Ia)},La=function(a){for(var b=Ka,c=0;c<a.length;c++)a[c]={index:c,
value:a[c]};var d=b||Ia;Ja(a,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<a.length;c++)a[c]=a[c].value},Ia=function(a,b){return a>b?1:a<b?-1:0};var J,Ma,Na,Oa,Pa=function(){return g.navigator?g.navigator.userAgent:null};Oa=Na=Ma=J=!1;var K;if(K=Pa()){var Qa=g.navigator;J=0==K.lastIndexOf("Opera",0);Ma=!J&&(-1!=K.indexOf("MSIE")||-1!=K.indexOf("Trident"));Na=!J&&-1!=K.indexOf("WebKit");Oa=!J&&!Na&&!Ma&&"Gecko"==Qa.product}var Ra=J,L=Ma,Sa=Oa,Ta=Na,Ua=function(){var a=g.document;return a?a.documentMode:void 0},Va;
t:{var Wa="",M;if(Ra&&g.opera)var Xa=g.opera.version,Wa="function"==typeof Xa?Xa():Xa;else if(Sa?M=/rv\:([^\);]+)(\)|;)/:L?M=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Ta&&(M=/WebKit\/(\S+)/),M)var Ya=M.exec(Pa()),Wa=Ya?Ya[1]:"";if(L){var Za=Ua();if(Za>parseFloat(Wa)){Va=String(Za);break t}}Va=Wa}
var $a=Va,ab={},bb=function(a){if(!ab[a]){for(var b=0,c=String($a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,d.length),h=0;0==b&&h<f;h++){var m=c[h]||"",s=d[h]||"",A=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var B=A.exec(m)||["","",""],E=w.exec(s)||["","",""];if(0==B[0].length&&0==E[0].length)break;b=((0==B[1].length?0:parseInt(B[1],10))<(0==E[1].length?0:parseInt(E[1],10))?-1:(0==B[1].length?0:
parseInt(B[1],10))>(0==E[1].length?0:parseInt(E[1],10))?1:0)||((0==B[2].length)<(0==E[2].length)?-1:(0==B[2].length)>(0==E[2].length)?1:0)||(B[2]<E[2]?-1:B[2]>E[2]?1:0)}while(0==b)}ab[a]=0<=b}},cb=g.document,db=cb&&L?Ua()||("CSS1Compat"==cb.compatMode?parseInt($a,10):5):void 0;if(Sa||L){var eb;if(eb=L)eb=L&&9<=db;eb||Sa&&bb("1.9.1")}L&&bb("9");var fb=function(a){return p(a)&&isFinite(a)&&0==a%1&&0<=a},gb=function(a){return a.replace(/[^a-zA-Z0-9]/g,function(a){return"&#"+a.charCodeAt()+";"})},hb=function(){var a=null,b=window,c=null;try{for(;null!=b&&b!==a;){c=b.location.protocol;if("https:"===c)break;else if("http:"===c||"file:"===c)return!1;a=b;b=b.parent}}catch(d){}return!0};var ib=function(a){return k(a)&&2==a.length&&fb(a[0])&&fb(a[1])},jb=function(a){if(!k(a))return!1;for(var b=0;b<a.length;++b){var c=a[b];if(!k(c)||2!=c.length)return!1;for(var d=0;d<c.length;++d)if(!p(c[d]))return!1}return!0},kb=function(a){return k(a)&&1<a.length&&p(a[0])&&p(a[1])};var N=function(a,b){this.tb=a;this.qb=b};N.prototype.Wb=function(){return this.tb};N.prototype.Ob=function(){return this.qb};var lb=function(a){var b=[];if(k(a))if(kb(a))b.push(new N(a[0],a[1]));else for(var c=0;c<a.length;++c){var d=a[c];kb(d)&&b.push(new N(d[0],d[1]))}return b};N.prototype.getWidth=N.prototype.Wb;N.prototype.getHeight=N.prototype.Ob;var O=function(a,b,c){this.w=a;this.Ya=p(b)?b:0;this.g=this.w+"_"+this.Ya;this.nb=c||"gpt_unit_"+this.g};e=O.prototype;e.q=function(){return this.g};e.getName=function(){return this.w};e.$a=function(){return this.Ya};e.toString=O.prototype.q;e.m=function(){return this.nb};O.prototype.getId=O.prototype.q;O.prototype.getName=O.prototype.getName;O.prototype.getDomId=O.prototype.m;O.prototype.getInstance=O.prototype.$a;var mb=function(a,b){this.rb=a;this.ob=b};mb.prototype.getKey=function(){return this.rb};var nb=function(a){this.sb=a},ob=function(a,b){var c=Ha(a.sb,function(a){a=a.getKey();return a.width<=b.width&&a.height<=b.height});return null==c?null:c.ob},pb=function(a){if(!k(a)||2!=a.length)throw Error("Each mapping entry has to be an array of size 2");var b;b=a[0];if(!ib(b))throw Error("Size has to be an array of two non-negative integers");b=new va(b[0],b[1]);a=lb(a[1]);if(0==a.length)throw Error("At least one slot size must be present");return new mb(b,a)};var P=function(a,b,c,d){this.w=a;this.jb=lb(c);this.aa=null;this.g=new O(a,b,d);this.c=[];this.h={};this.o=null;this.b=G();this.b.info("Created slot: "+this.g,null,this);this.v=this.M=null;this.La=this.Ja="";this.Y=!0;this.d={};this.$=[];this.Ma=!1;this.Ia=this.Ha=null;this.Ka=0};e=P.prototype;
e.set=function(a,b){var c=" attribute "+a+" with value "+b+" for slot "+this.getName();a&&l(a)&&b?(this.h[a]=b,this.M||this.v?F(this.b,"Setting"+c+" after its contents have been loaded",null,this):this.b.info("Setting"+c,null,this)):F(this.b,"Unable to set"+c,null,this);return this};e.get=function(a){return a in this.h?this.h[a]:null};e.B=function(){var a=[],b;for(b in this.h)q(this.h[b])||a.push(b);return a};
e.ka=function(a){for(var b=0;b<this.c.length;++b)if(a==this.c[b])return F(this.b,"Service "+a.getName()+" is already associated with slot "+this.g,a,this),this;this.c.push(a);a.da(this);return this};e.getName=function(){return this.w};e.i=function(){return this.g};e.Sb=function(){return this.c};e.Tb=function(a){return a&&this.aa?ob(this.aa,a):this.jb};
e.xb=function(a){try{if(!k(a))throw Error("Size mapping has to be an array");var b=Fa(a,pb);this.aa=new nb(b)}catch(c){F(this.b,"Error processing size mapping: "+c.message,null,this)}return this};e.A=function(){return!!document.getElementById(this.g.m())};e.R=function(a){this.o=a};e.F=function(a){this.La=a;return this};e.ba=function(){return this.La};
e.ya=function(a){if(l(a)&&!v(null==a?"":String(a))){var b=this.$;0<=Da(b,a)||b.push(a);this.b.info("Setting slot level ad category exclusion: "+a,null,this)}else F(this.b,"Invalid slot level ad category exclusion label supplied",null,this);return this};e.wa=function(){this.b.info("Clearing all slot level ad category exclusions",null,this);this.$=[];return this};e.Gb=function(){var a;a=this.$;var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];a=c}else a=[];return a};
e.s=function(a,b){var c=[];k(b)?c=b:b&&c.push(b.toString());var d=" targeting attribute "+a+" with value "+c.join()+" for slot "+this.getName();if(a&&l(a)){this.b.info("Setting"+d,null,this);t:{var d=this.d[a],f=c;if(ba(d)&&ba(f)&&d.length==f.length){for(var h=d.length,m=0;m<h;m++)if(d[m]!==f[m]){d=!1;break t}d=!0}else d=!1}this.d[a]=c;if(!d&&(this.M||this.v))for(d=0;d<this.c.length;++d)f=this.c[d],f.isEnabled()&&f.Na(this,a,c)}else F(this.b,"Unable to set"+d,null,this);return this};
e.xa=function(){this.b.info("Clearing slot targeting.",null,this);var a;t:{a=this.d;for(var b in a){a=!1;break t}a=!0}this.d={};if(!a)for(a=0;a<this.c.length;++a)b=this.c[a],b.isEnabled()&&b.clearSlotTargeting(this);return this};e.Ub=function(){var a=this.d,b={},c;for(c in a)b[c]=a[c];return b};e.Qb=function(){return this.Ma};e.ra=function(a){fb(a)&&(this.Ka=a)};e.Fb=function(){return this.Ka};
e.dc=function(a,b){this.Ia=(this.Ha=a)&&Boolean(b);b&&!a&&F(this.b,"Ignoring a call to setCollapseEmptyDiv(false, true). Slots that start out collapsed should also collapse when empty. Slot "+this.g,null,this);return this};e.Hb=function(){return this.Ha};e.Kb=function(){return this.Ia};
var qb=function(a){if(!a.A())return a.b.error("Unable to write to slot "+a.g+". It has not yet been rendered.",null,a),!1;var b=g.document,c=a.g.m(),b=b&&b.getElementById(c);if(!b)return a.b.error("Unable to find the div container with id "+c+" for slot "+a.g,null,a),!1;c=a.o;return l(c)&&0<c.length?(a.Ra(),b.innerHTML=c,a.Qa(),!0):!1};e=P.prototype;e.Cb=function(a){this.M=this.b.info("Fetching ad for slot "+this.getName(),null,this);this.Ja=a};e.Ib=function(){return this.Ja};
e.Bb=function(){this.b.info("Receiving ad for slot "+this.getName(),null,this,this.M)};e.Ra=function(){this.v=this.b.info("Rendering ad for slot "+this.getName(),null,this)};e.Qa=function(){this.b.info("Completed rendering ad for slot "+this.getName(),null,this,this.v)};P.prototype.set=P.prototype.set;P.prototype.get=P.prototype.get;P.prototype.getName=P.prototype.getName;P.prototype.getSlotId=P.prototype.i;P.prototype.getSizes=P.prototype.Tb;P.prototype.defineSizeMapping=P.prototype.xb;
P.prototype.addService=P.prototype.ka;P.prototype.getOutOfPage=P.prototype.Qb;P.prototype.getAudExtId=P.prototype.Fb;P.prototype.getServices=P.prototype.Sb;P.prototype.getAttributeKeys=P.prototype.B;P.prototype.fetchStarted=P.prototype.Cb;P.prototype.fetchEnded=P.prototype.Bb;P.prototype.renderStarted=P.prototype.Ra;P.prototype.renderEnded=P.prototype.Qa;P.prototype.hasWrapperDiv=P.prototype.A;P.prototype.getContentUrl=P.prototype.Ib;P.prototype.setClickUrl=P.prototype.F;P.prototype.getClickUrl=P.prototype.ba;
P.prototype.clearTargeting=P.prototype.xa;P.prototype.getTargetingMap=P.prototype.Ub;P.prototype.setTargeting=P.prototype.s;P.prototype.setCategoryExclusion=P.prototype.ya;P.prototype.clearCategoryExclusions=P.prototype.wa;P.prototype.getCategoryExclusions=P.prototype.Gb;P.prototype.getCollapseEmptyDiv=P.prototype.Hb;P.prototype.setCollapseEmptyDiv=P.prototype.dc;P.prototype.getDivStartsCollapsed=P.prototype.Kb;var Q=function(){this.D={};this.N={};this.b=G()};Q.prototype.add=function(a,b,c){if(!l(a)||0>=a.length||!b)return null;a in this.D||(this.D[a]=[]);b=new P(a,this.D[a].length,b,c);c=b.i().m();if(this.N[c])return this.b.error("Div element "+c+" is already associated with another slot"),null;this.D[a].push(b);return this.N[b.i().m()]=b};Q.prototype.find=function(a,b){var c=b||0,d=l(a)&&this.D[a]||[];return 0<=c&&c<d.length&&(d=d[c],d.i().$a()==c)?d:null};
var rb=function(){var a=x();return a.slot_manager_instance||(a.slot_manager_instance=new Q)},sb=function(a,b,c){var d=rb();return d&&d.add(a,b,c)};y("defineOutOfPageSlot",function(a,b){var c=rb();return c?(c=c.add(a,[1,1],b))?(c.Ma=!0,c):null:null});y("defineSlot",sb);y("defineUnit",sb);Q.prototype.find=Q.prototype.find;Q.getInstance=rb;var tb=function(a){var b=G();if(l(a)){var c;c=rb();c.N[a]?c=c.N[a]:(F(c.b,"Ad unit lookup for div "+a+" failed."),c=null);if(c)if(a=c,a.Y&&!a.A())F(a.b,"Slot "+a.w+" does not have a container div with id: "+a.g.m()+".",null,a);else for(b=0;b<a.c.length;++b)a.c[b].isEnabled()&&a.c[b].H(a);else b.error("Div "+a+" is not mapped to a known ad unit.")}else b.error("Unknown div id in display(): "+a.toString())};y("display",tb,!0);var R=function(){this.Ua=[];this.Va={};this.qa=!1;this.h={};this.log=G();this.log.info("Created service: "+this.getName(),this)};e=R.prototype;e.getName=function(){return"unknown"};e.getVersion=function(){return"unversioned"};e.set=function(a,b){var c="attribute "+a+" with value "+b+" for service "+this.getName();l(a)&&0<a.length?(this.h[a]=b,this.log.info("Setting "+c,this,null)):F(this.log,"Unable to set "+c,this,null);return this};e.get=function(a){return this.h[a]};
e.B=function(){var a=[],b;for(b in this.h)"function"!=typeof this.h[b]&&a.push(b);return a};e.j=function(){return this.Ua};e.hb=function(){return this.Va};e.isEnabled=function(){return this.qa};e.enable=function(){if(this.qa)this.log.info("Service is already enabled.",this);else{this.qa=!0;try{this.ua()}catch(a){this.log.error("Failed to enable service: "+a,this)}}};e.display=function(a,b,c,d){this.enable();a=c?sb(a,b,c):sb(a,b);a.ka(this);d&&a.F(d);tb(a.i().m())};
e.da=function(a){this.Ua.push(a);this.Va[a.i().q()]=a;this.log.info("Associated "+this.getName()+" service with slot "+a.getName(),this,a)};e.clearSlotTargeting=function(){};e.Na=function(){};R.prototype.getSlots=R.prototype.j;R.prototype.getSlotIdMap=R.prototype.hb;R.prototype.enable=R.prototype.enable;R.prototype.set=R.prototype.set;R.prototype.get=R.prototype.get;R.prototype.getAttributeKeys=R.prototype.B;R.prototype.display=R.prototype.display;var ub=function(a,b){this.name=a;this.ta=b?b:new g.GPT_jstiming.Timer;this.ta.name=a;this.sa=[]};e=ub.prototype;e.getName=function(){return this.name};e.tick=function(a,b){this.ta.tick(a,b)};e.Za=function(a){a&&this.sa.push(a)};e.report=function(){var a="https:"==g.location.protocol?"https://www.google.com/csi":"http://csi.gstatic.com/csi",b={};this.sa.length&&(b.e=this.sa.join());return g.GPT_jstiming.report(this.ta,b,a)};e.ib=function(a){xa(window,function(){setTimeout(a,10)})};
var S=function(a){this.name=a};r(S,ub);S.prototype.tick=function(){};S.prototype.Za=function(){};S.prototype.report=function(){return null};S.prototype.ib=function(){};var vb=function(){var a=g.GPT_jstiming.load,b=0.01;void 0==b&&(b=0.01);return g.GPT_jstiming&&g.GPT_jstiming.load&&("http:"==g.location.protocol||"https:"==g.location.protocol)&&Math.random()<b?new ub("global",a):new S("global")};
(function(){if(!x()._gpt_timer_&&g.GPT_jstiming){var a=vb();a.ib(function(){a.tick("load");a.report()});y("_gpt_timer_",a)}return x()._gpt_timer_})();var T=function(){this.c={};this.Z=!1;this.b=G();this.lb=this.b.info("Google service JS loaded");xa(window,ga(T.prototype.mb,this))};T.prototype.add=function(a){this.c[a.getName()]=a};T.prototype.find=function(a){var b=null;a in this.c&&(b=this.c[a]);return b};T.prototype.mb=function(){this.Z=!0;this.b.info("Page load complete",null,null,this.lb)};var U=function(){var a=x();return a.service_manager_instance||(a.service_manager_instance=new T)};
y("enableServices",function(){var a=U(),b;for(b in a.c){var c=a.c[b];if(!q(c)){c.enable();var c=b,d=x()._gpt_timer_;d&&d.Za(c)}}});var V=function(){R.call(this);this.Oa=!0;this.ha=this.ja=!1;this.P=0;this.Q="";this.ga=this.fa=this.ea=this.C=void 0;this.Pa=this.ia=!1;this.ca={};this.O=!1};r(V,R);e=V.prototype;
e.ua=function(){if(this.Oa){if(!this.Pa){var a=document,b=document.createElement("script");b.async=!0;b.type="text/javascript";b.src=this.p();try{var c=a.getElementsByTagName("script")[0];this.log.info("Fetching companion ads implementation",this);this.Pa=!0;c.parentNode&&c.parentNode.insertBefore(b,c)}catch(d){this.log.error("Unable to fetch companion ads implementation",this)}}}else this.ia||(g.document.write('<script type="text/javascript" src="'+gb(this.p())+'">\x3c/script>'),this.ia=!0)};
e.yb=function(){this.Oa=!1};e.ec=function(a){n(a)&&(this.ja=a)};e.cc=function(a){n(a)&&(this.ha=a)};e.Yb=function(a){if(this.ja)wb(this,xb(this,a));else if(this.ha){a=xb(this,a);var b=googletag.pubads();b.isEnabled()?b.clear(a):this.log.error("Pubads service is not enabled, cannot use clear feature.")}};
e.Sa=function(){var a=googletag.pubads();if(!a.isEnabled())return!1;var a=a.j(),b=this.j();if(a.length!=b.length)return!1;for(var c=0;c<b.length;++c){for(var d=!1,f=0;f<a.length;++f)if(b[c]===a[f]){d=!0;break}if(!d)return!1}return!0};e.ac=function(){this.ja&&wb(this,null)};
e.gc=function(a,b,c,d,f,h,m){this.O=!1;this.P=0;this.Q="";this.ga=this.fa=this.ea=this.C=void 0;this.P=a;this.Q=b;this.C=c;0==this.C.length&&(this.C=void 0);t:{a=d.split(",");b=[];for(c=0;c<a.length;++c){d=a[c].split("x");if(2!=d.length){this.log.error("The master ad size specified is invalid.");a=void 0;break t}d=[Number(d[0]),Number(d[1])];if(!k(d)||2!=d.length||isNaN(d[0])||isNaN(d[1])){this.log.error("The master ad size specified is invalid.");a=void 0;break t}b.push(d)}a=b}this.ea=a;void 0!==
f&&(this.fa=f);void 0!==h&&(this.ga=h);void 0!==m&&(this.O=m)};e.Jb=function(){return googletag.pubads().getCorrelator()};e.getVideoStreamCorrelator=function(){return googletag.pubads().getVideoStreamCorrelator()};e.hc=function(a){this.P=a};e.ic=function(a){this.Q=a};
var wb=function(a,b){var c=googletag.pubads();if(c.isEnabled()){if(a.O){if(!a.Sa()){F(a.log,"Persistent roadblock requested, but ad slots are incorrectly configured. All ad slots on page must have both pubads and companionAds services attached. Skipping refresh.");return}c.clearNoRefreshState();c.clear()}c.Ta(b,a.P,a.Q,a.C,a.ea,a.fa,a.ga,a.O,a.ha)}else a.log.error("Pubads service is not enabled, cannot use refresh feature.")};
V.prototype.isSlotAPersistentRoadblock=function(a){var b=googletag.pubads();if(b.isEnabled())return b.isSlotAPersistentRoadblock(a);this.log.error("Pubads service is not enabled, cannot check whether slot is a persistent roadblock.  Content writing allowed.");return!1};var xb=function(a,b){for(var c=a.hb(),d=[],f=0;f<b.length;++f){var h=b[f];h in c?d.push(c[h]):F(a.log,"Cannot find slot with id "+h+".",a)}return d};e=V.prototype;e.getName=function(){return"companion_ads"};
e.p=function(){var a=document,b=null;try{b=a.location.protocol}catch(c){}return("https:"==b?"https:":"http:")+"//pagead2.googlesyndication.com/pagead/show_companion_ad.js"};e.$b=function(){this.log.info("Companion ads implementation fetched.",this);this.ia=!0};e.r=function(a){var b=a&&a.i().q();return b&&b in this.ca&&a.A()&&this.isEnabled()&&!this.isSlotAPersistentRoadblock(a)?(a.R(this.ca[b]),qb(a)):!1};e.H=function(a){this.r(a)};
e.fillSlot=function(a,b){return a&&l(b)&&0<b.length?(this.ca[a.i().toString()]=b,this.r(a)):!1};y("companionAds",function(){var a=U(),b=a.find("companion_ads");b||(b=new V,a.add(b));return b});V.prototype.fillSlot=V.prototype.fillSlot;V.prototype.enableSyncLoading=V.prototype.yb;V.prototype.isSlotAPersistentRoadblock=V.prototype.isSlotAPersistentRoadblock;V.prototype.isRoadblockingSupported=V.prototype.Sa;V.prototype.onImplementationLoaded=V.prototype.$b;V.prototype.notifyUnfilledSlots=V.prototype.Yb;
V.prototype.refreshAllSlots=V.prototype.ac;V.prototype.setRefreshUnfilledSlots=V.prototype.ec;V.prototype.setClearUnfilledSlots=V.prototype.cc;V.prototype.setXfpCorrelator=V.prototype.hc;V.prototype.setXfpPreviousAdsToken=V.prototype.ic;V.prototype.setVideoSessionInfo=V.prototype.gc;V.prototype.getDisplayAdsCorrelator=V.prototype.Jb;V.prototype.getVideoStreamCorrelator=V.prototype.getVideoStreamCorrelator;var W=function(){R.call(this);this.o={}};r(W,R);e=W.prototype;e.getName=function(){return"content"};e.r=function(a){var b=a&&a.i().q();return b in this.o&&this.isEnabled()&&a.A()&&!a.v?(a.R(this.o[b]),qb(a)):!1};e.ua=function(){for(var a=this.j(),b=0;b<a.length;++b)this.r(a[b])};e.H=function(a){this.r(a)};e.R=function(a,b){a&&l(b)&&0<b.length&&(this.o[a.i().q()]=b,this.r(a))};y("content",function(){var a=U(),b=a.find("content");b||(b=new W,a.add(b));return b});W.prototype.setContent=W.prototype.R;var yb=null,zb=Sa||Ta||Ra||"function"==typeof g.atob;var X=function(a,b,c){!l(a)||0>=a.length||!Boolean(b)||!c?G().error("Illegal slot name or size in PassbackSlot(). Name: "+a+"; size: "+b+"; service: "+c):(this.n=new P(a,this[ca]||(this[ca]=++da),b),this.n.ka(c),this.oa=c)};X.prototype.F=function(a){this.n.F(a);return this};X.prototype.s=function(a,b){this.n.s(a,b);return this};X.prototype.ra=function(a){this.n.ra(a);return this};X.prototype.display=function(){Ab(this.oa,this.n)};X.prototype.setClickUrl=X.prototype.F;X.prototype.setTargeting=X.prototype.s;
X.prototype.setAudExtId=X.prototype.ra;X.prototype.display=X.prototype.display;var Y=function(){R.call(this);this.u=!1;this.a=null;this.za=0;this.d={};this.T=[];this.Ea=this.V="";this.Da=!1;this.Ba=!0;this.f=this.k=this.Aa=!1;this.Ca=!0;this.S=this.I=!1;this.l=[];this.J=[];this.K=[];this.U=!1;this.W={};this.X=!1;this.Fa=this.Ga="";this.L=[]};r(Y,R);
var Bb={adsense_ad_format:"google_ad_format",adsense_ad_types:"google_ad_type",adsense_allow_expandable_ads:"google_allow_expandable_ads",adsense_background_color:"google_color_bg",adsense_bid:"google_bid",adsense_border_color:"google_color_border",adsense_channel_ids:"google_ad_channel",adsense_content_section:"google_ad_section",adsense_cpm:"google_cpm",adsense_ed:"google_ed",adsense_encoding:"google_encoding",adsense_family_safe:"google_safe",adsense_feedback:"google_feedback",adsense_flash_version:"google_flash_version",
adsense_font_face:"google_font_face",adsense_font_size:"google_font_size",adsense_hints:"google_hints",adsense_host:"google_ad_host",adsense_host_channel:"google_ad_host_channel",adsense_host_tier_id:"google_ad_host_tier_id",adsense_keyword_type:"google_kw_type",adsense_keywords:"google_kw",adsense_line_color:"google_line_color",adsense_link_color:"google_color_link",adsense_relevant_content:"google_contents",adsense_reuse_colors:"google_reuse_colors",adsense_targeting:"google_targeting",adsense_targeting_types:"google_targeting",
adsense_test_mode:"google_adtest",adsense_text_color:"google_color_text",adsense_ui_features:"google_ui_features",adsense_ui_version:"google_ui_version",adsense_url_color:"google_color_url",alternate_ad_iframe_color:"google_alternate_color",alternate_ad_url:"google_alternate_ad_url",demographic_age:"google_cust_age",demographic_ch:"google_cust_ch",demographic_gender:"google_cust_gender",demographic_interests:"google_cust_interests",demographic_job:"google_cust_job",demographic_l:"google_cust_l",demographic_lh:"google_cust_lh",
demographic_u_url:"google_cust_u_url",demographic_unique_id:"google_cust_id",document_language:"google_language",geography_override_city:"google_city",geography_override_country:"google_country",geography_override_region:"google_region",page_url:"google_page_url"};
Y.prototype.ua=function(){if(this.f){if(!this.u){var a=document,b=a.createElement("script");U();b.async=!0;b.type="text/javascript";b.src=this.p();(a=a.getElementsByTagName("head")[0]||a.getElementsByTagName("body")[0])?(this.log.info("Fetching GPT implementation",this),a.appendChild(b),this.u=!0):this.log.error("Unable to fetch GPT implementation",this)}}else Cb(this)};Y.prototype.getName=function(){return"publisher_ads"};Y.prototype.p=function(){return(hb()?"https:":"http:")+"//partner.googleadservices.com/gpt/pubads_impl_27.js"};
var Cb=function(a){var b=U();a.u||b.Z||(b=document,a.u=!0,b.write('<script type="text/javascript" src="'+gb(a.p())+'">\x3c/script>'))};
Y.prototype.fillSlot=function(a){this.log.info("Calling fillslot");this.a.fillSlot(a);this.W[a.getName()]=!0;if(this.a)if(this.U)(a=this.j()[0])&&a.getName()in this.W&&(this.refresh(),this.U=!1);else for(a=0;a<this.K.length;a++){var b=this.K[a];b[0].getName()in this.W&&(this.refresh(b),I.splice.call(this.K,a,1),a--)}else this.log.error("Bad call to check refreshes before impl is loaded",this)};
Y.prototype.Zb=function(){U();var a=x().impl;if(a&&a.pubads){this.a=a.pubads;this.log.info("GPT implementation fetched.",this);q(this.a.setCookieOptions)&&this.a.setCookieOptions(this.za);this.k=!1;this.a.setMobilePlatform();this.Ba||this.a.disableFetch();this.I&&this.a.collapseEmptyDivs(this.S);if(this.k){this.f?this.a.enableAsyncSingleRequest():this.a.enableSingleRequest();Db(this);for(var a=this.j(),b=0;b<a.length;++b)Eb(this,a[b])}else this.f&&this.a.enableAsyncRendering();this.Aa&&this.a.disableInitialLoad();
Fb(this);if(0<this.l.length)for(b=0;b<this.l.length;++b)this.H(this.l[b]);if(0<this.J.length)for(b=0;b<this.J.length;++b)Ab(this,this.J[b])}else this.log.error("Unable to fetch pubads service implementation from "+this.p(),this)};Y.prototype.da=function(a){this.f||(a.Y=!1);R.prototype.da.call(this,a)};
Y.prototype.H=function(a){if(U().Z&&!this.f)this.log.error("Attempting to display ad in sync mode after page load is complete.",this);else if(this.a)Db(this),(this.k||Eb(this,a))&&this.fillSlot(a);else if(this.f||this.u&&0==this.l.length){for(var b=!1,c=0;c<this.l.length;++c)a===this.l[c]&&(b=!0);b||(this.log.info("Delaying rendering of ad slot "+a.getName()+" pending loading of the GPT implementation",this,a),this.l.push(a))}else this.log.error("Skipping rendering of slot "+a.getName()+" due to missing GPT implementaition",
this,a)};
var Eb=function(a,b){if(a.a&&null==a.a.addSlot(b))return a.log.error("Unable to process name for slot "+b.getName(),a,b),!1;for(var c=b.B(),d=0;d<c.length;++d)c[d]in Bb?a.a.addAdSenseSlotAttribute(b,Bb[c[d]],b.get(c[d])):F(a.log,"Ignoring unknown pubads attribute "+c[d]+" with value "+b.get(c[d])+" for slot "+b.getName(),a,b);if(q(a.a.addSlotTargeting)){var c=[],f;for(f in b.d)q(b.d[f])||c.push(f);for(f=0;f<c.length;++f)a.a.addSlotTargeting(b,c[f],c[f]in b.d?b.d[c[f]]:[])}b.ba()&&q(a.a.kb)&&a.a.kb(b,
b.ba());return!0},Db=function(a){if(!a.Da){a.Da=!0;for(var b=a.B(),c=0;c<b.length;++c)b[c]in Bb?a.a.addAdSensePageAttribute(Bb[b[c]],a.get(b[c])):F(a.log,"Ignoring unknown pubads attribute "+b[c]+" with value "+a.get(b[c]),a);a.a.addAdSensePageAttribute("google_tag_info","v2");for(var d in a.d)if(b=a.d[d],k(b))for(c=0;c<b.length;++c)a.a.addAttribute(d,b[c]);q(a.a.addPageCategoryExclusion)&&Ea(a.T,function(a){this.a.addPageCategoryExclusion(a)},a);q(a.a.setPublisherProvidedId)&&a.a.setPublisherProvidedId(a.Ea);
a.V&&a.a.setLocation(a.V);void 0!==a.a.setCenterAds&&a.a.setCenterAds(a.Ca);void 0!==a.a.setApiExperiment?Ea(a.L,function(a){this.a.setApiExperiment(a)},a):0==a.L.length||F(a.log,"Ignoring forced experiments due to lack of support in the Pubads implementation. Experiments: "+a.L.join())}};e=Y.prototype;
e.setCookieOptions=function(a){if(!fb(a))return F(this.log,"Cookie options must be an integer number, 0 or greater. Ignoring value: "+a,this),this;this.za=a;this.a&&q(this.a.setCookieOptions)&&this.a.setCookieOptions(a);return this};
e.s=function(a,b){var c=[];l(b)?c.push(b):c=b;var d=" targeting attribute "+a+" with value "+c.join()+" for service "+this.getName();if(!l(a)||v(null==a?"":String(a)))return F(this.log,"Unable to set"+d,this),this;this.d[a]=c;this.log.info("Setting"+d,this);if(this.a&&q(this.a.clearAttribute))for(this.a.clearAttribute(a),d=0;d<c.length;++d)this.a.addAttribute(a,c[d]);return this};
e.xa=function(a){var b=" targeting attribute "+a+" for service "+this.getName();if(!l(a)||v(null==a?"":String(a)))return F(this.log,"Unable to clear"+b,this),this;if(!this.d[a])return F(this.log,"Cannot find"+b,this),this;delete this.d[a];this.log.info("Clearing"+b,this);this.a&&q(this.a.clearAttribute)&&this.a.clearAttribute(a);return this};
e.ya=function(a){if(!l(a)||v(null==a?"":String(a)))return F(this.log,"Invalid page level ad category exclusion label supplied",this),this;var b=this.T;0<=Da(b,a)||b.push(a);this.log.info("Setting page level ad category exclusion: "+a,this);this.a&&q(this.a.clearPageCategoryExclusions)&&this.a.addPageCategoryExclusion(a);return this};
e.wa=function(){this.T=[];this.log.info("Clearing all page level ad category exclusions",this);this.a&&q(this.a.clearPageCategoryExclusions)&&this.a.clearPageCategoryExclusions();return this};e.Xb=function(){this.a?F(this.log,"Ignoring noFetch since the pubads service is already enabled",this):this.Ba=!1};e.disableInitialLoad=function(){this.a?F(this.log,"Ignoring disableInitialLoad since the pubads service is already enabled",this):this.Aa=!0};
e.enableSingleRequest=function(){this.isEnabled()&&!this.k?F(this.log,"Ignoring change to single request mode since the service is already enabled",this):(this.log.info("Using single request mode to fetch ads",this),this.k=!0);return this.k};e.enableAsyncRendering=function(){this.isEnabled()&&!this.f?F(this.log,"Ignoring change to async-rendering mode since the service is already enabled",this):(this.log.info("Using async-rendering mode to fetch ads",this),this.f=!0);return this.f};
e.zb=function(){if(this.isEnabled()&&this.f)F(this.log,"Ignoring change to async-rendering mode since the service is already enabled",this);else{this.log.info("Using sync-rendering mode to fetch ads",this);this.f=!1;for(var a=this.j(),b=0;b<a.length;++b)a[b].Y=!1}return!this.f};e.bc=function(a){this.log.info("Setting centering to "+a,this);this.Ca=a};
e.setPublisherProvidedId=function(a){this.isEnabled()?F(this.log,"Ignoring change to PPID since the service is already enabled. Not setting: "+a,this):(this.log.info("Setting PPID to "+a,this),this.Ea=a);return this};e.wb=function(a,b){return new X(a,b,this)};var Ab=function(a,b){Cb(a);a.a?q(a.a.passback)?a.a.passback(b):a.log.error("The GPT impl does not yet support passbacks.",a,b):(a.log.info("Delaying passback of ad slot "+b.getName()+" pending loading of the GPT implementation",a,b),a.J.push(b))};
e=Y.prototype;
e.refresh=function(a){if(a&&!k(a))F(this.log,"Slots to refresh must be an array.",this);else{var b=null;if(a&&(b=Gb(this,a),!b.length)){this.log.error("Slots specified, but no valid slots found. Refresh aborted.",this);return}this.a?(this.log.info("Refreshing ads",this),this.a.refresh(b)):this.k?(this.log.info("Refresh pushed on pending list until GPT implementation Javascript loads.",this),b?(a=this.K,0<=Da(a,b)||a.push(b)):this.U=!0):F(this.log,"The ads cannot be refreshed because the GPT implementation Javascript is not yet loaded.",this)}};
e.Ta=function(a,b,c,d,f,h,m,s,A){if(a&&!k(a))F(this.log,"Slots to refresh must be an array.",this);else if(b&&!p(b))F(this.log,"Correlator must be a number.",this);else if(c&&!l(c))F(this.log,"Pstok must be a string.",this);else if(d&&!l(d))F(this.log,"Video IU must be a string.",this);else if(f&&!k(f))F(this.log,"Video IU sizes must be an array.",this);else if(h&&!p(h))F(this.log,"Pod number must be a number.",this);else if(m&&!p(m))F(this.log,"Pod position must be a number.",this);else if(s&&!n(s))F(this.log,
"Persistent roadblocks only must be a boolean.",this);else if(A&&!n(A))F(this.log,"Clear unfilled slots must be a boolean.",this);else if(this.a){var w=null;if(a&&(w=Gb(this,a),!w.length)){this.log.error("No valid slot ids found, refresh aborted.",this);return}f&&!jb(f)?this.log.error("Video size array must have only two values, both numeric. Refresh aborted.",this):(this.log.info("Refreshing ads",this),this.a.refresh(w,b,c,d,f,h,m,s,A))}else F(this.log,"The ads cannot be refreshed because the GPT implementation Javascript is not yet loaded.",
this)};e.Ab=function(){this.X=!0;Fb(this)};e.fc=function(a,b){this.X=!0;this.Ga=a;this.Fa=b;Fb(this)};e.Vb=function(){return this.a&&null!=this.a.getVideoContentInformation?this.a.getVideoContentInformation():null};var Fb=function(a){a.X&&a.a&&a.a.setVideoContentInformation&&a.a.setVideoContentInformation(a.Ga,a.Fa)};e=Y.prototype;e.getCorrelator=function(){return 0==this.j().length?"not_available":this.a?null!=this.a.getCorrelator?this.a.getCorrelator():"not_available":"not_loaded"};
e.getVideoStreamCorrelator=function(){if(!this.a||null==this.a.getVideoStreamCorrelator)return 0;var a=this.a.getVideoStreamCorrelator();return isNaN(a)?0:a};e.isAdRequestFinished=function(){return this.a?null!=this.a.isAdRequestFinished?this.a.isAdRequestFinished():null:!1};e.isSlotAPersistentRoadblock=function(a){return this.a&&null!=this.a.isSlotAPersistentRoadblock?this.a.isSlotAPersistentRoadblock(a):!1};
e.collapseEmptyDivs=function(a){this.I?F(this.log,"Ignoring subsequent call to set div collapse mode (already set)",this):this.isEnabled()?F(this.log,"Ignoring change to div collapse mode since the service is already enabled",this):(this.S=Boolean(a),this.log.info("Enabling collapsing of containers when there is no ad content. Collapse before ad fetch = "+this.S,this),this.I=!0);return this.I};
e.clear=function(a){if(!this.a)return F(this.log,"The slot contents cannot be cleared because the GPT implementation Javascript is not yet loaded.",this),!1;if(null!=this.a.clearSlotContents){var b=null;if(a&&(b=Gb(this,a),0==b.length))return this.log.error("Slots specified, but no valid slots found. Clear aborted.",this),!1;this.log.info("Clearing slot contents.",this);return this.a.clearSlotContents(b)}F(this.log,"The GPT implementation does not yet support clearing slots.");return!1};
e.clearNoRefreshState=function(){this.a?null!=this.a.clearNoRefreshState?(this.log.info("Clearing no_refresh state.",this),this.a.clearNoRefreshState()):F(this.log,"The GPT implementation does not yet support clearNoRefreshState"):F(this.log,"The no_refresh state cannot be cleared because the GPT implementation Javascript is not yet loaded.",this)};e.clearSlotTargeting=function(a){this.a&&q(this.a.clearSlotTargeting)&&this.a.clearSlotTargeting(a)};
e.Na=function(a,b,c){this.a&&q(this.a.addSlotTargeting)&&this.a.addSlotTargeting(a,b,c)};
e.setLocation=function(a,b,c){var d="role:1 producer:12";if(void 0!==b){if(!p(a)||!p(b))return F(this.log,"Latitude and longitude are expected to be numbers"),this;d+=" latlng{ latitude_e7: "+Math.round(1E7*a)+" longitude_e7: "+Math.round(1E7*b)+"}";if(void 0!==c){if(isNaN(c))return F(this.log,"Radius is expected to be a number"),this;d+=" radius:"+Math.round(c)}}else 50<a.length&&(b=a.substring(0,50),F(this.log,"Location: "+a+" is longer than 50. Truncating it to"+b+"."),a=b),d+=' loc:"'+a+'"';if(zb)d=
g.btoa(d);else{a=d;d=[];for(c=b=0;c<a.length;c++){for(var f=a.charCodeAt(c);255<f;)d[b++]=f&255,f>>=8;d[b++]=f}if(!ba(d))throw Error("encodeByteArray takes an array as a parameter");if(!yb)for(yb={},a=0;65>a;a++)yb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a);a=yb;b=[];for(c=0;c<d.length;c+=3){var h=d[c],m=(f=c+1<d.length)?d[c+1]:0,s=c+2<d.length,A=s?d[c+2]:0,w=h>>2,h=(h&3)<<4|m>>4,m=(m&15)<<2|A>>6,A=A&63;s||(A=64,f||(m=64));b.push(a[w],a[h],a[m],a[A])}d=b.join("")}this.V=
"a "+d;return this};e.getVersion=function(){return this.a?null!=this.a.getVersion?this.a.getVersion():"unversioned":void 0};e.Db=function(a){this.isEnabled()?F(this.log,"Ignoring experiment since the service is already enabled. Not setting: "+a,this):this.L.push(a)};var Gb=function(a,b){for(var c=[],d=0;d<b.length;++d){var f=b[d];f instanceof P?c.push(f):F(a.log,"Slot object at position "+d+" is of incorrect type.",a)}return c};
y("pubads",function(){var a=U(),b=a.find("publisher_ads");b||(b=new Y,a.add(b));return b});Y.prototype.clear=Y.prototype.clear;Y.prototype.clearNoRefreshState=Y.prototype.clearNoRefreshState;Y.prototype.collapseEmptyDivs=Y.prototype.collapseEmptyDivs;Y.prototype.definePassback=Y.prototype.wb;Y.prototype.enableAsyncRendering=Y.prototype.enableAsyncRendering;Y.prototype.enableSingleRequest=Y.prototype.enableSingleRequest;Y.prototype.enableSyncRendering=Y.prototype.zb;Y.prototype.enableVideoAds=Y.prototype.Ab;
Y.prototype.forceExperiment=Y.prototype.Db;Y.prototype.getCorrelator=Y.prototype.getCorrelator;Y.prototype.getVideoContent=Y.prototype.Vb;Y.prototype.getVideoStreamCorrelator=Y.prototype.getVideoStreamCorrelator;Y.prototype.isAdRequestFinished=Y.prototype.isAdRequestFinished;Y.prototype.isSlotAPersistentRoadblock=Y.prototype.isSlotAPersistentRoadblock;Y.prototype.noFetch=Y.prototype.Xb;Y.prototype.onGoogleAdsJsLoad=Y.prototype.Zb;Y.prototype.refresh=Y.prototype.refresh;Y.prototype.setLocation=Y.prototype.setLocation;
Y.prototype.setTargeting=Y.prototype.s;Y.prototype.clearTargeting=Y.prototype.xa;Y.prototype.setCategoryExclusion=Y.prototype.ya;Y.prototype.clearCategoryExclusions=Y.prototype.wa;Y.prototype.setVideoContent=Y.prototype.fc;Y.prototype.getVersion=Y.prototype.getVersion;Y.prototype.videoRefresh=Y.prototype.Ta;Y.prototype.setCentering=Y.prototype.bc;Y.prototype.setPublisherProvidedId=Y.prototype.setPublisherProvidedId;Y.prototype.setCookieOptions=Y.prototype.setCookieOptions;var Hb=/#|$/,Ib=function(a,b){var c=a.search(Hb),d;t:{d=0;for(var f=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var h=a.charCodeAt(d-1);if(38==h||63==h)if(h=a.charCodeAt(d+f),!h||61==h||38==h||35==h)break t;d+=f+1}d=-1}if(0>d)return null;f=a.indexOf("&",d);if(0>f||f>c)f=c;d+=b.length+1;return decodeURIComponent(a.substr(d,f-d).replace(/\+/g," "))};var Jb=function(){var a=window,b=document;if(x()._pubconsole_disable_)return!1;var c;c=document.cookie.split("google_pubconsole=");if(c=2==c.length?c[1].split(";")[0]:"")if(c=c.split("|"),0<c.length&&("1"==c[0]||"0"==c[0]))return!0;U();c=!1;try{c=a.top.document.URL===b.URL}catch(d){}a=c?b.URL:b.referrer;return null!==Ib(a,"google_debug")||null!==Ib(a,"google_console")||null!==Ib(a,"google_force_console")||null!==Ib(a,"googfc")},Kb=function(){if(Jb()){var a=document,b=a.createElement("script");b.type=
"text/javascript";b.src=(hb()?"https:":"http:")+"//publisherconsole.appspot.com/js/loader.js";b.async=!0;(a=a.getElementsByTagName("script")[0])&&a.parentNode&&a.parentNode.insertBefore(b,a)}};"complete"===document.readyState?Kb():xa(window,Kb);y("disablePublisherConsole",function(){x()._pubconsole_disable_=!0});var Z=function(){this.ma=[];this.la=!1;this.b=G()};Z.prototype.ub=function(a,b){if(!ib(a))return this.la=!0,F(this.b,"Cannot add size mapping due to invalid viewport size: "+a),this;if(!(ib(b)||k(b)&&Ga(b,ib)))return this.la=!0,F(this.b,"Cannot add size mapping due to invalid slot size: "+b),this;this.ma.push([a,b]);return this};Z.prototype.vb=function(){if(this.la)return F(this.b,"Size mapping is null because invalid mappings were added"),null;La(this.ma);return this.ma};
var Ka=function(a,b){var c;t:{c=b[0];for(var d=a[0],f=Ia,h=Math.min(c.length,d.length),m=0;m<h;m++){var s=f(c[m],d[m]);if(0!=s){c=s;break t}}c=Ia(c.length,d.length)}return c};y("sizeMapping",function(){return new Z});Z.prototype.addSize=Z.prototype.ub;Z.prototype.build=Z.prototype.vb;y("getVersion",function(){return"27"});var $=x().cmd;if(!$||k($)){var Lb=x().cmd=new H;$&&0<$.length&&Lb.push.apply(Lb,$)}(function(){var a=document.getElementsByTagName("script");0<a.length&&(a=a[a.length-1],a.src&&0<=a.src.indexOf("/tag/js/gpt_mobile.js")&&a.innerHTML&&!a.googletag_executed&&(a.googletag_executed=!0,eval(a.innerHTML)))})();})()
        googletag.cmd.push(function() {
            if( Modernizr.touch && Modernizr.mq( '(max-width:599px )' ) ) {
                googletag.defineSlot('/7046/goc-mobile/homepage', [320, 50], 'div-gpt-ad-mobile-leaderboard1').addService(googletag.pubads());
                googletag.defineSlot('/7046/goc-mobile/homepage', [320, 51], 'div-gpt-ad-mobile-leaderboard2').addService(googletag.pubads());
            } else {
                googletag.defineSlot('/7046/goc/homepage', [728, 90], 'div-gpt-ad-leaderboard1').addService(googletag.pubads()).setTargeting('position', ['atf']).addService(googletag.companionAds());
                googletag.defineSlot('/7046/goc/homepage', [160, 600], 'div-gpt-ad-skyscraper1').addService(googletag.pubads()).setTargeting('position', ['atf']).addService(googletag.companionAds());
            }
            googletag.pubads().setTargeting('contentType', ['homepage']);
            googletag.pubads().setTargeting('pageName', ['home']);
            googletag.pubads().setTargeting('siteSection', ['homepage']);
            googletag.pubads().setTargeting('unit', ['goc']);
            if (typeof kalturaVideo != 'undefined' && kalturaVideo.videoExists)
            {
                googletag.pubads().disableInitialLoad();
                googletag.pubads().enableAsyncRendering();
                googletag.companionAds().setRefreshUnfilledSlots(true);
                googletag.pubads().collapseEmptyDivs();
                googletag.enableServices();
            }
            else
            {
                googletag.pubads().collapseEmptyDivs();
                googletag.enableServices();
            }
        });
<!--
   googletag.cmd.push(function() { googletag.display('div-gpt-ad-leaderboard1'); });
<!--
   googletag.cmd.push(function() { googletag.display('div-gpt-ad-mobile-leaderboard1'); });
var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t!="string"?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function v(e){var t,n;for(t=0;e[t];t+=1){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===1&&(e[2]===".."||e[0]===".."))break;t>0&&(e.splice(t-1,2),t-=2)}}}function m(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,m=t&&t.split("/"),g=m,y=o.map,b=y&&y["*"];e&&e.charAt(0)==="."&&(t?(getOwn(o.pkgs,t)?g=m=[t]:g=m.slice(0,m.length-1),e=g.concat(e.split("/")),v(e),i=getOwn(o.pkgs,r=e[0]),e=e.join("/"),i&&e===r+"/"+i.main&&(e=r)):e.indexOf("./")===0&&(e=e.substring(2)));if(n&&y&&(m||b)){u=e.split("/");for(a=u.length;a>0;a-=1){l=u.slice(0,a).join("/");if(m)for(f=m.length;f>0;f-=1){s=getOwn(y,m.slice(0,f).join("/"));if(s){s=getOwn(s,l);if(s){c=s,h=a;break}}}if(c)break;!p&&b&&getOwn(b,l)&&(p=getOwn(b,l),d=a)}!c&&p&&(c=p,h=d),c&&(u.splice(0,h,c),e=u.join("/"))}return e}function g(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function y(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return g(e),t.shift(),r.require.undef(e),r.require([e]),!0}function b(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function w(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,v=!0,g="";return e||(v=!1,e="_@r"+(p+=1)),a=b(e),f=a[0],e=a[1],f&&(f=m(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?g=o.normalize(e,function(e){return m(e,l,i)}):g=m(e,l,i):(g=m(e,l,i),a=b(g),f=a[0],g=a[1],n=!0,s=r.nameToUrl(g))),u=f&&!o&&!n?"_unnormalized"+(d+=1):"",{prefix:f,name:g,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:v,id:(f?f+"!"+g:g)+u}}function E(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function S(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=E(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function x(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function T(){globalDefQueue.length&&(apsp.apply(l,[l.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function N(e){delete u[e],delete a[e]}function C(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):C(o,t,n))}),n[r]=!0)}function k(){var e,n,i,u,f=o.waitSeconds*1e3,l=f&&r.startTime+f<(new Date).getTime(),c=[],h=[],p=!1,d=!0;if(t)return;t=!0,eachProp(a,function(t){e=t.map,n=e.id;if(!t.enabled)return;e.isDefine||h.push(t);if(!t.error)if(!t.inited&&l)y(n)?(u=!0,p=!0):(c.push(n),g(n));else if(!t.inited&&t.fetched&&e.isDefine){p=!0;if(!e.prefix)return d=!1}});if(l&&c.length)return i=makeError("timeout","Load timeout for modules: "+c,null,c),i.contextName=r.contextName,x(i);d&&each(h,function(e){C(e,{},{})}),(!l||u)&&p&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,k()},50)),t=!1}function L(e){hasProp(c,e[0])||E(w(e[0],null,!0)).init(e[1],e[2])}function A(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function O(e){var t=e.currentTarget||e.srcElement;return A(t,r.onScriptLoad,"load","onreadystatechange"),A(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function M(){var e;T();while(l.length){e=l.shift();if(e[0]===null)return x(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));L(e)}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p=1,d=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(o.pkgs,e.map.id);return t=n?getOwn(o.config,e.map.id+"/"+n.main):getOwn(o.config,e.map.id),t||{}},exports:c[e.map.id]}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=r.execCb(n,o,i,s)}catch(u){e=u}else s=r.execCb(n,o,i,s);this.map.isDefine&&(t=this.module,t&&t.exports!==undefined&&t.exports!==this.exports?s=t.exports:s===undefined&&this.usingExports&&(s=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",x(this.error=e)}else s=o;this.exports=s,this.map.isDefine&&!this.ignore&&(c[n]=s,req.onResourceLoad&&req.onResourceLoad(r,this.map,this.depMaps)),N(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=w(e.prefix);this.depMaps.push(n),S(n,"defined",bind(this,function(n){var i,s,a,f=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,c=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(f=n.normalize(f,function(e){return m(e,l,!0)})||""),s=w(e.prefix+"!"+f,this.map.parentMap),S(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&N(e.map.id)}),x(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=w(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),E(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return x(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),c([u],i)}),n.load(e.name,c,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=w(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,S(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&S(e,"error",bind(this,this.errback))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,Module:n,makeModuleMap:w,nextTick:req.nextTick,onError:x,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.pkgs,n=o.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?t==="map"?(o.map||(o.map={}),mixin(o[t],e,!0,!0)):mixin(o[t],e,!0):o[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),n[t]=e}),o.shim=n),e.packages&&(each(e.packages,function(e){var n;e=typeof e=="string"?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),o.pkgs=t),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=w(t))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?x(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=w(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:x(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(M(),r.nextTick(function(){M(),p=E(w(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),k()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(m(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,w(e,t,!1,!0).id)},specified:function(e){return e=w(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){T();var n=w(e,t,!0),r=getOwn(u,e);delete c[e],delete h[n.url],delete f[e],r&&(r.events.defined&&(f[e]=r.events),N(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&E(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(o.shim,e)||{},s=i.exports;T();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);L(n)}r=getOwn(u,e);if(!t&&!hasProp(c,e)&&r&&!r.inited){if(o.enforceDefine&&(!s||!getGlobal(s))){if(y(e))return;return x(makeError("nodefine","No define call for "+e,null,[e]))}L([e,i.deps||[],i.exportsFn])}k()},nameToUrl:function(e,t,n){var r,i,s,u,a,f,l,c,h;if(req.jsExtRegExp.test(e))c=e+(t||"");else{r=o.paths,i=o.pkgs,a=e.split("/");for(f=a.length;f>0;f-=1){l=a.slice(0,f).join("/"),s=getOwn(i,l),h=getOwn(r,l);if(h){isArray(h)&&(h=h[0]),a.splice(0,f,h);break}if(s){e===s.name?u=s.location+"/"+s.main:u=s.location,a.splice(0,f,u);break}}c=a.join("/"),c+=t||(/\?/.test(c)||n?"":".js"),c=(c.charAt(0)==="/"||c.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+c}return o.urlArgs?c+((c.indexOf("?")===-1?"?":"&")+o.urlArgs):c},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=O(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=O(e);if(!y(t.id))return x(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=typeof window!="undefined"&&!!navigator&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("requireLib",function(){}),function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():typeof define=="function"&&define.amd?define("bean",n):t[e]=n()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n=window,r=t[e],i=/[^\.]*(?=\..*)\.|.*/,s=/\..*/,o="addEventListener",u="removeEventListener",a=document||{},f=a.documentElement||{},l=f[o],c=l?o:"attachEvent",h={},p=Array.prototype.slice,d=function(e,t){return e.split(t||" ")},v=function(e){return typeof e=="string"},m=function(e){return typeof e=="function"},g="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",y="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",b=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},d(g+(l?y:""))),w=function(){var e="compareDocumentPosition"in f?function(e,t){return t.compareDocumentPosition&&(t.compareDocumentPosition(e)&16)===16}:"contains"in f?function(e,t){return t=t.nodeType===9||t===window?f:t,t!==e&&t.contains(e)}:function(e,t){while(e=e.parentNode)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&n.prefix!=="xul"&&!/document/.test(this.toString())&&!e(n,this):n==null};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),E=function(){var e=d("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(d("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),r=t.concat(d("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),i=e.concat(d("char charCode key keyCode keyIdentifier keyLocation location")),s=e.concat(d("data")),o=e.concat(d("touches targetTouches changedTouches scale rotation")),u=e.concat(d("data origin source")),l=e.concat(d("state")),c=/over|out/,h=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,i}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){n.rightClick=e.which===3||e.button===2,n.pos={x:0,y:0};if(e.pageX||e.pageY)n.clientX=e.pageX,n.clientY=e.pageY;else if(e.clientX||e.clientY)n.clientX=e.clientX+a.body.scrollLeft+f.scrollLeft,n.clientY=e.clientY+a.body.scrollTop+f.scrollTop;return c.test(r)&&(n.relatedTarget=e.relatedTarget||e[(r=="mouseover"?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return r}},{reg:/^text/i,fix:function(){return s}},{reg:/^touch|^gesture/i,fix:function(){return o}},{reg:/^message$/i,fix:function(){return u}},{reg:/^popstate$/i,fix:function(){return l}},{reg:/.*/,fix:function(){return e}}],p={},v=function(e,t,r){if(!arguments.length)return;e=e||((t.ownerDocument||t.document||t).parentWindow||n).event,this.originalEvent=e,this.isNative=r,this.isBean=!0;if(!e)return;var i=e.type,s=e.target||e.srcElement,o,u,a,f,l;this.target=s&&s.nodeType===3?s.parentNode:s;if(r){l=p[i];if(!l)for(o=0,u=h.length;o<u;o++)if(h[o].reg.test(i)){p[i]=l=h[o].fix;break}f=l(e,this,i);for(o=f.length;o--;)!((a=f[o])in this)&&a in e&&(this[a]=e[a])}};return v.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},v.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},v.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},v.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},v.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},v.prototype.clone=function(e){var t=new v(this,this.element,this.isNative);return t.currentTarget=e,t},v}(),S=function(e,t){return!l&&!t&&(e===a||e===n)?f:e},x=function(){var e=function(e,t,n,r){var i=function(n,i){return t.apply(e,r?p.call(i,n?0:1).concat(r):i)},s=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},o=n?function(e){var t=s(e,this);if(n.apply(t,arguments))return e&&(e.currentTarget=t),i(e,arguments)}:function(e){return t.__beanDel&&(e=e.clone(s(e))),i(e,arguments)};return o.__beanDel=t.__beanDel,o},t=function(t,n,r,i,s,o,u){var a=w[n],f;n=="unload"&&(r=A(O,t,n,r,i)),a&&(a.condition&&(r=e(t,r,a.condition,o)),n=a.base||n),this.isNative=f=b[n]&&!!t[c],this.customType=!l&&!f&&n,this.element=t,this.type=n,this.original=i,this.namespaces=s,this.eventType=l||f?n:"propertychange",this.target=S(t,f),this[c]=!!this.target[c],this.root=u,this.handler=e(t,r,null,o)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return this.element===e&&(!t||this.original===t)&&(!n||this.handler===n)},t}(),T=function(){var e={},t=function(n,r,i,s,o,u){var a=o?"r":"$";if(!r||r=="*")for(var f in e)f.charAt(0)==a&&t(n,f.substr(1),i,s,o,u);else{var l=0,c,h=e[a+r],p=n=="*";if(!h)return;for(c=h.length;l<c;l++)if((p||h[l].matches(n,i,s))&&!u(h[l],h,l,r))return}},n=function(t,n,r,i){var s,o=e[(i?"r":"$")+n];if(o)for(s=o.length;s--;)if(!o[s].root&&o[s].matches(t,r,null))return!0;return!1},r=function(e,n,r,i){var s=[];return t(e,n,r,null,i,function(e){return s.push(e)}),s},i=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},s=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,n.length===0&&delete e[(t.root?"r":"$")+t.type],!1})},o=function(){var t,n=[];for(t in e)t.charAt(0)=="$"&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:i,del:s,entries:o}}(),N,C=function(e){arguments.length?N=e:N=a.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},k=function(e,t){if(!l&&t&&e&&e.propertyName!="_on"+t)return;var n=T.get(this,t||e.type,null,!1),r=n.length,i=0;e=new E(e,this,!0),t&&(e.type=t);for(;i<r&&!e.isImmediatePropagationStopped();i++)n[i].removed||n[i].handler.call(this,e)},L=l?function(e,t,n){e[n?o:u](t,k,!1)}:function(e,t,n,r){var i;n?(T.put(i=new x(e,r||t,function(t){k.call(e,t,r)},k,null,null,!0)),r&&e["_on"+r]==null&&(e["_on"+r]=0),i.target.attachEvent("on"+i.eventType,i.handler)):(i=T.get(e,r||t,k,!0)[0],i&&(i.target.detachEvent("on"+i.eventType,i.handler),T.del(i)))},A=function(e,t,n,r,i){return function(){r.apply(this,arguments),e(t,n,i)}},O=function(e,t,n,r){var i=t&&t.replace(s,""),o=T.get(e,i,null,!1),u={},a,f;for(a=0,f=o.length;a<f;a++)(!n||o[a].original===n)&&o[a].inNamespaces(r)&&(T.del(o[a]),!u[o[a].eventType]&&o[a][c]&&(u[o[a].eventType]={t:o[a].eventType,c:o[a].type}));for(a in u)T.has(e,u[a].t,null,!1)||L(e,u[a].t,!1,u[a].c)},M=function(e,t){var n=function(t,n){var r,i=v(e)?N(e,n):e;for(;t&&t!==n;t=t.parentNode)for(r=i.length;r--;)if(i[r]===t)return t},r=function(e){var r=n(e.target,this);r&&t.apply(r,arguments)};return r.__beanDel={ft:n,selector:e},r},_=l?function(e,t,r){var i=a.createEvent(e?"HTMLEvents":"UIEvents");i[e?"initEvent":"initUIEvent"](t,!0,!0,n,1),r.dispatchEvent(i)}:function(e,t,n){n=S(n,e),e?n.fireEvent("on"+t,a.createEventObject()):n["_on"+t]++},D=function(e,t,n){var r=v(t),o,u,a,f;if(r&&t.indexOf(" ")>0){t=d(t);for(f=t.length;f--;)D(e,t[f],n);return e}u=r&&t.replace(s,""),u&&w[u]&&(u=w[u].base);if(!t||r){if(a=r&&t.replace(i,""))a=d(a,".");O(e,u,n,a)}else if(m(t))O(e,null,t);else for(o in t)t.hasOwnProperty(o)&&D(e,o,t[o]);return e},P=function(e,t,n,r){var o,u,a,f,l,v,g;if(n===undefined&&typeof t=="object"){for(u in t)t.hasOwnProperty(u)&&P.call(this,e,u,t[u]);return}m(n)?(l=p.call(arguments,3),r=o=n):(o=r,l=p.call(arguments,4),r=M(n,o,N)),a=d(t),this===h&&(r=A(D,e,t,r,o));for(f=a.length;f--;)g=T.put(v=new x(e,a[f].replace(s,""),r,o,d(a[f].replace(i,""),"."),l,!1)),v[c]&&g&&L(e,v.eventType,!0,v.customType);return e},H=function(e,t,n,r){return P.apply(null,v(n)?[e,n,t,r].concat(arguments.length>3?p.call(arguments,5):[]):p.call(arguments))},B=function(){return P.apply(h,arguments)},j=function(e,t,n){var r=d(t),o,u,a,f,l;for(o=r.length;o--;){t=r[o].replace(s,"");if(f=r[o].replace(i,""))f=d(f,".");if(!f&&!n&&e[c])_(b[t],t,e);else{l=T.get(e,t,null,!1),n=[!1].concat(n);for(u=0,a=l.length;u<a;u++)l[u].inNamespaces(f)&&l[u].handler.apply(e,n)}}return e},F=function(e,t,n){var r=T.get(t,n,null,!1),i=r.length,s=0,o,u;for(;s<i;s++)r[s].original&&(o=[e,r[s].type],(u=r[s].handler.__beanDel)&&o.push(u.selector),o.push(r[s].original),P.apply(null,o));return e},I={on:P,add:H,one:B,off:D,remove:D,clone:F,fire:j,Event:E,setSelectorEngine:C,noConflict:function(){return t[e]=r,this}};if(n.attachEvent){var q=function(){var e,t=T.entries();for(e in t)t[e].type&&t[e].type!=="unload"&&D(t[e].element,t[e].type);n.detachEvent("onunload",q),n.CollectGarbage&&n.CollectGarbage()};n.attachEvent("onunload",q)}return C(),I}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.5.1";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?void 0:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t==null?x.identity:t);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,0,t):e[0]},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date,o=null,s=e.apply(r,i)};return function(){var f=new Date;!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i=null;return function(){var s=this,o=arguments,u=function(){i=null,n||(r=e.apply(s,o))},a=n&&!i;return clearTimeout(i),i=setTimeout(u,t),a&&(r=e.apply(s,o)),r}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u))return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n"," ":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}.call(this),define("models/API/CTO",["underscore","bean"],function(e,t){var n,r=function(){return n?n.convertLegacy(n):n={h:{},track:function(e){this.copyProperties(e),this.__startTrack=!0,!this.__appData&&window.ctoAppData?(this.copyProperties({__appData:window.ctoAppData}),t.fire(window,"ctoProducerInfoAdded"),this.trackPage()):t.fire(window,"trackCTO")},trackPage:function(n){if(this.__appData.configs.disableTrackPage)return;n=this.convertLegacy(n),this.copyProperties(n),delete this.__startTrack,this.__appData.configs.trackedVendors?e.each(this.__appData.configs.trackedVendors,function(e){var n="trackPage"+e;t.fire(window,n)}):(t.fire(window,"trackPageCTO"),t.fire(window,"trackPageNielsen"),t.fire(window,"trackPageOmniture"),t.fire(window,"trackPageComScore")),t.fire(window,"trackPageComplete")},trackLink:function(n,r,i,s,o){if(this.__appData.configs.disableTrackLink)return;var u={};u.linkName=n,u.linkPosition=r,u.linkType=i,u.linkUrl=s,u.dontTrackWithOmni=o,this.__appData.configs.trackedVendors?e.each(this.__appData.configs.trackedVendors,function(e){t.fire(window,"trackLink"+e,u)}):(t.fire(window,"trackLinkCTO",u),t.fire(window,"trackLinkNielsen",u),t.fire(window,"trackLinkOmniture",u),t.fire(window,"trackLinkComScore",u)),t.fire(window,"trackLinkComplete")},trackEvent:function(n){if(this.__appData.configs.disableTrackEvent)return;n=n||{},n=this.convertLegacy(n),this.__appData.configs.trackedVendors?e.each(this.__appData.configs.trackedVendors,function(e){t.fire(window,"trackEvent"+e,n)}):(t.fire(window,"trackEventCTO",n),t.fire(window,"trackEventNielsen",n),t.fire(window,"trackEventOmniture",n),t.fire(window,"trackEventComScore",n)),t.fire(window,"trackEventComplete")},trackVideo:function(n){if(this.__appData.configs.disableTrackVideo)return;n=n||{},n=this.convertLegacy(n),this.__appData.configs.trackedVendors?e.each(this.__appData.configs.trackedVendors,function(e){var r="trackVideo"+e;try{t.fire(window,r,n)}catch(i){console.error(i.stack)}}):(t.fire(window,"trackVideoCTO",n),t.fire(window,"trackVideoNielsen",n),t.fire(window,"trackVideoOmniture",n),t.fire(window,"trackVideoComScore",n)),t.fire(window,"trackVideoComplete")},trackGame:function(n){if(this.__appData.configs.disableTrackGame)return;n=n||{},n=this.convertLegacy(n),this.__appData.configs.trackedVendors?e.each(this.__appData.configs.trackedVendors,function(e){t.fire(window,"trackGame"+e,n)}):(t.fire(window,"trackGameCTO",n),t.fire(window,"trackGameNielsen",n),t.fire(window,"trackGameOmniture",n),t.fire(window,"trackGameComScore",n)),t.fire(window,"trackGameComplete")},trackApp:function(n){if(this.__appData.configs.disableTrackApp)return;n=n||{},n=this.convertLegacy(n),this.__appData.configs.trackedVendors?e.each(this.__appData.configs.trackedVendors,function(e){t.fire(window,"trackApp"+e,n)}):(t.fire(window,"trackAppCTO",n),t.fire(window,"trackAppNielsen",n),t.fire(window,"trackAppOmniture",n),t.fire(window,"trackAppComScore",n)),t.fire(window,"trackAppComplete")},trackPrint:function(n){if(this.__appData.configs.disableTrackPrint)return;n=n||{},n=this.convertLegacy(n),this.__appData.configs.trackedVendors?e.each(this.__appData.configs.trackedVendors,function(e){t.fire(window,"trackPrint"+e,n)}):(t.fire(window,"trackPrintCTO",n),t.fire(window,"trackPrintNielsen",n),t.fire(window,"trackPrintOmniture",n),t.fire(window,"trackPrintComScore",n)),t.fire(window,"trackPrintComplete")},trackLoad:function(){if(this.__appData.configs.disableTrackLoad)return;this.__appData.configs.trackedVendors?e.each(this.__appData.configs.trackedVendors,function(e){t.fire(window,"trackLoad"+e)}):(t.fire(window,"trackLoadCTO"),t.fire(window,"trackLoadNielsen"),t.fire(window,"trackLoadOmniture"),t.fire(window,"trackLoadComScore"))},trackError:function(e){},trackPagination:function(e){this.trackPage({pageNumber:e})},update:function(e){t.fire(window,"updateCTO",e)},resetObj:function(){var n=this;e.each(this,function(t,r){e.isFunction(t)||delete n[r]}),t.fire(window,"resetObj")},setProducerInfo:function(e){this.copyProperties(e),t.fire(window,"ctoProducerInfoAdded")},setCTOConfigs:function(n){e.extend(this.__appData.configs,n),t.fire(window,"ctoConfigsUpdated")},copyProperties:function(t){var n=this;e.each(t,function(t,r){e.isFunction(t)||(n[r]=t)})},convertLegacy:function(t){return n.__appData&&e.each(n.__appData.variableMap,function(n,r){e.each(n.l,function(n){e.each(t,function(e,i){i===n&&(t[r]=e,delete t[i])})})}),t}},e.each(window.cto,function(t,r){e.isFunction(t)||(n[r]=t)}),n};return window.CTO=r,r}),define("controller/events/APIReadyCTO",["underscore","bean","models/API/CTO"],function(e,t,n){var r=!1;t.on(window,"trackCTO",function(){r=!0,s.loadMainDependencies()}),t.on(window,"configLoadedCTO",function(){s.loadMainDependencies()}),t.on(window,"variableMapLoadedCTO",function(e){s.loadMainDependencies()}),t.on(window,"cookiesReadyCTO",function(){s.loadMainDependencies()}),t.on(window,"modulesLoadedCTO",function(){s.loadMainDependencies()}),t.on(window,"vendorDependenciesLoaded",function(e){s.checkIfAllVendorsReady(e)});var i=[],s={loadMainDependencies:function(e){var i=new n(e);if((!i.__configs||!i.__variableMap||!i.__cookies||!i.__modulesLoaded)&&!i.__appData)return!1;if(i.__appData&&(r||i.__startTrack)){t.fire(window,"ctoProducerInfoAdded"),i.trackPage();return}return i.__appData={configs:i.__configs,variableMap:i.__variableMap,cookies:i.__cookies},this.__appData=i.__appData,delete i.__configs,delete i.__variableMap,delete i.__cookies,delete i.__modulesLoaded,window.cto=new n,window.ctoAppData=i.__appData,window.CTO=n,window.s_gi=!0,t.fire(window,"mainDependenciesLoaded"),!0},checkIfAllVendorsReady:function(e){i.push(e);var s=new n;if(s.__appData.configs.trackedVendors&&i.length!==s.__appData.configs.trackedVendors.length)return;if(!s.__appData.configs.trackedVendors&&i.length!==4)return;s.html5gpl==="load"&&(s.__appData.configs.disableTrackPage=!0),s.disableTrack==="y"&&(s.__appData.configs.disableTrackPage=!0),t.fire(window,"APIReadyCTO");if(s.__startTrack||r)delete s.__startTrack,t.fire(window,"ctoProducerInfoAdded"),s.trackPage();(s.html5gpl==="load"||s.gameParams)&&s.trackGame(s.gameParams)}}}),function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():typeof define=="function"&&define.amd?define("bonzo",n):t[e]=n()}("bonzo",this,function(){function D(e){return e&&e.nodeName&&(e.nodeType==1||e.nodeType==11)}function P(e,t,n){var r,i,s;if(typeof e=="string")return et.create(e);D(e)&&(e=[e]);if(n){s=[];for(r=0,i=e.length;r<i;r++)s[r]=Q(t,e[r]);return s}return e}function H(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function B(e,t,n,r){var i,s=0,o=e.length;for(;s<o;s++)i=r?e.length-s-1:s,t.call(n||e[i],e[i],i,e);return e}function j(e,t,n){for(var r=0,i=e.length;r<i;r++)D(e[r])&&(j(e[r].childNodes,t,n),t.call(n||e[r],e[r],r,e));return e}function F(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function I(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function q(e){e[x]("data-node-uid")||e[S]("data-node-uid",++y);var t=e[x]("data-node-uid");return g[t]||(g[t]={})}function R(e){var t=e[x]("data-node-uid");t&&delete g[t]}function U(e){var t;try{return e===null||e===undefined?undefined:e==="true"?!0:e==="false"?!1:e==="null"?null:(t=parseFloat(e))==e?t:e}catch(n){}return undefined}function z(e,t,n){for(var r=0,i=e.length;r<i;++r)if(t.call(n||null,e[r],r,e))return!0;return!1}function W(e){return e=="transform"&&(e=N.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=N.transform+"Origin")||e=="float"&&(e=N.cssFloat),e?F(e):null}function X(e,t,n,r){var i=0,s=t||this,o=[],u=O&&typeof e=="string"&&e.charAt(0)!="<"?O(e):e;return B(P(u),function(e,t){B(s,function(r){n(e,o[i++]=t>0?Q(s,r):r)},null,r)},this,r),s.length=i,B(o,function(e){s[--i]=e},null,!r),s}function V(e,t,n){var r=et(e),i=r.css("position"),s=r.offset(),o="relative",u=i==o,a=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];i=="static"&&(r.css("position",o),i=o),isNaN(a[0])&&(a[0]=u?0:e.offsetLeft),isNaN(a[1])&&(a[1]=u?0:e.offsetTop),t!=null&&(e.style.left=t-s.left+a[0]+E),n!=null&&(e.style.top=n-s.top+a[1]+E)}function $(e,t){return typeof t=="function"?t(e):t}function J(t,n,r){var i=this[0];return i?t==null&&n==null?(G(i)?Y():{x:i.scrollLeft,y:i.scrollTop})[r]:(G(i)?e.scrollTo(t,n):(t!=null&&(i.scrollLeft=t),n!=null&&(i.scrollTop=n)),this):this}function K(e){this.length=0;if(e){e=typeof e!="string"&&!e.nodeType&&typeof e.length!="undefined"?e:[e],this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function Q(e,t){var n=t.cloneNode(!0),r,i,s;if(e.$&&typeof e.cloneEvents=="function"){e.$(n).cloneEvents(t),r=e.$(n).find("*"),i=e.$(t).find("*");for(s=0;s<i.length;s++)e.$(r[s]).cloneEvents(i[s])}return n}function G(t){return t===e||/^(?:body|html)$/i.test(t.tagName)}function Y(){return{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop}}function Z(e){var t=document.createElement("script"),n=e.match(o);return t.src=n[1],t}function et(e){return new K(e)}var e=window,t=e.document,n=t.documentElement,r="parentNode",i=/^(checked|value|selected|disabled)$/i,s=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,o=/\s*<script +src=['"]([^'"]+)['"]>/,u=["<table>","</table>",1],a=["<table><tbody><tr>","</tr></tbody></table>",3],f=["<select>","</select>",1],l=["_","",0,1],c={thead:u,tbody:u,tfoot:u,colgroup:u,caption:u,tr:["<table><tbody>","</tbody></table>",2],th:a,td:a,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:f,optgroup:f,script:l,style:l,link:l,param:l,base:l},h=/^(checked|selected|disabled)$/,p=/msie/i.test(navigator.userAgent),d,v,m,g={},y=0,b=/^-?[\d\.]+$/,w=/^data-(.+)$/,E="px",S="setAttribute",x="getAttribute",T="getElementsByTagName",N=function(){var e=t.createElement("p");return e.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:e[T]("a")[0][x]("href")!="#x",autoTbody:e[T]("tbody").length!==0,computedStyle:t.defaultView&&t.defaultView.getComputedStyle,cssFloat:e[T]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var t=["transform","webkitTransform","MozTransform","OTransform","msTransform"],n;for(n=0;n<t.length;n++)if(t[n]in e.style)return t[n]}(),classList:"classList"in e,opasity:function(){return typeof t.createElement("a").style.opacity!="undefined"}()}}(),C=/(^\s*|\s*$)/g,k=/\s+/,L=String.prototype.toString,A={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},O=t.querySelectorAll&&function(e){return t.querySelectorAll(e)},M=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(C,"")},_=N.computedStyle?function(e,n){var r=null,i=t.defaultView.getComputedStyle(e,"");return i&&(r=i[n]),e.style[n]||r}:!p||!n.currentStyle?function(e,t){return e.style[t]}:function(e,t){var n,r;if(t=="opacity"&&!N.opasity){n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{n=e.filters("alpha").opacity}catch(s){}}return n/100}return r=e.currentStyle?e.currentStyle[t]:null,e.style[t]||r};return N.classList?(d=function(e,t){return e.classList.contains(t)},v=function(e,t){e.classList.add(t)},m=function(e,t){e.classList.remove(t)}):(d=function(e,t){return H(t).test(e.className)},v=function(e,t){e.className=M(e.className+" "+t)},m=function(e,t){e.className=M(e.className.replace(H(t)," "))}),K.prototype={get:function(e){return this[e]||null},each:function(e,t){return B(this,e,t)},deepEach:function(e,t){return j(this,e,t)},map:function(e,t){var n=[],r,i;for(i=0;i<this.length;i++)r=e.call(this,this[i],i),t?t(r)&&n.push(r):n.push(r);return n},html:function(e,t){var r=t?n.textContent===undefined?"innerText":"textContent":"innerHTML",i=this,o=function(t,n){B(P(e,i,n),function(e){t.appendChild(e)})},u=function(n,i){try{if(t||typeof e=="string"&&!s.test(n.tagName))return n[r]=e}catch(u){}o(n,i)};return typeof e!="undefined"?this.empty().each(u):this[0]?this[0][r]:""},text:function(e){return this.html(e,!0)},append:function(e){var t=this;return this.each(function(n,r){B(P(e,t,r),function(e){n.appendChild(e)})})},prepend:function(e){var t=this;return this.each(function(n,r){var i=n.firstChild;B(P(e,t,r),function(e){n.insertBefore(e,i)})})},appendTo:function(e,t){return X.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return X.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var t=this;return this.each(function(n,i){B(P(e,t,i),function(e){n[r].insertBefore(e,n)})})},after:function(e){var t=this;return this.each(function(n,i){B(P(e,t,i),function(e){n[r].insertBefore(e,n.nextSibling)},null,1)})},insertBefore:function(e,t){return X.call(this,e,t,function(e,t){e[r].insertBefore(t,e)})},insertAfter:function(e,t){return X.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[r].insertBefore(t,n):e[r].appendChild(t)},1)},replaceWith:function(e){return et(P(e)).insertAfter(this),this.remove()},clone:function(e){var t=[],n,r;for(r=0,n=this.length;r<n;r++)t[r]=Q(e||this,this[r]);return et(t)},addClass:function(e){return e=L.call(e).split(k),this.each(function(t){B(e,function(e){e&&!d(t,$(t,e))&&v(t,$(t,e))})})},removeClass:function(e){return e=L.call(e).split(k),this.each(function(t){B(e,function(e){e&&d(t,$(t,e))&&m(t,$(t,e))})})},hasClass:function(e){return e=L.call(e).split(k),z(this,function(t){return z(e,function(e){return e&&d(t,e)})})},toggleClass:function(e,t){return e=L.call(e).split(k),this.each(function(n){B(e,function(e){e&&(typeof t!="undefined"?t?!d(n,e)&&v(n,e):m(n,e):d(n,e)?m(n,e):v(n,e))})})},show:function(e){return e=typeof e=="string"?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t=typeof t=="string"?t:"",typeof e!="function"&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return et(this.length?this[0]:[])},last:function(){return et(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(r)},related:function(e){return et(this.map(function(t){t=t[e];while(t&&t.nodeType!==1)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(n,r){function o(e,t,n){for(var r in s)if(s.hasOwnProperty(r)){n=s[r],(t=W(r))&&b.test(n)&&!(t in A)&&(n+=E);try{e.style[t]=$(e,n)}catch(i){}}}var i,s=n;return r===undefined&&typeof n=="string"?(r=this[0],r?r===t||r===e?(i=r===t?et.doc():et.viewport(),n=="width"?i.width:n=="height"?i.height:""):(n=W(n))?_(r,n):null:null):(typeof n=="string"&&(s={},s[n]=r),p&&s.opacity&&(s.filter="alpha(opacity="+s.opacity*100+")",s.zoom=n.zoom||1,delete s.opacity),this.each(o))},offset:function(e,n){if(!e||typeof e!="object"||typeof e.top!="number"&&typeof e.left!="number"){if(typeof e=="number"||typeof n=="number")return this.each(function(t){V(t,e,n)});if(!this[0])return{top:0,left:0,height:0,width:0};var r=this[0],i=r.ownerDocument.documentElement,s=r.getBoundingClientRect(),o=Y(),u=r.offsetWidth,a=r.offsetHeight,f=s.top+o.y-Math.max(0,i&&i.clientTop,t.body.clientTop),l=s.left+o.x-Math.max(0,i&&i.clientLeft,t.body.clientLeft);return{top:f,left:l,height:a,width:u}}return this.each(function(t){V(t,e.left,e.top)})},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=e.nodeType==9&&e.documentElement,n=!t&&!!e.style&&!e.offsetWidth&&!e.offsetHeight?function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this):null,r=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,i=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:i,width:r}},attr:function(e,t){var n=this[0],r;if(typeof e=="string"||e instanceof String)return typeof t=="undefined"?n?i.test(e)?h.test(e)&&typeof n[e]=="string"?!0:n[e]:e!="href"&&e!="src"||!N.hrefExtended?n[x](e):n[x](e,2):null:this.each(function(n){i.test(e)?n[e]=$(n,t):n[S](e,$(n,t))});for(r in e)e.hasOwnProperty(r)&&this.attr(r,e[r]);return this},removeAttr:function(e){return this.each(function(t){h.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return typeof e=="string"?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n=this[0],r,i;return typeof t=="undefined"?n?(r=q(n),typeof e=="undefined"?(B(n.attributes,function(e){(i=(""+e.name).match(w))&&(r[F(i[1])]=U(e.value))}),r):(typeof r[e]=="undefined"&&(r[e]=U(this.attr("data-"+I(e)))),r[e])):null:this.each(function(n){q(n)[e]=t})},remove:function(){return this.deepEach(R),this.detach()},empty:function(){return this.each(function(e){j(e.childNodes,R);while(e.firstChild)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[r]&&e[r].removeChild(e)})},scrollTop:function(e){return J.call(this,null,e,"y")},scrollLeft:function(e){return J.call(this,e,null,"x")}},et.setQueryEngine=function(e){O=e,delete et.setQueryEngine},et.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||K.prototype)[n]=e[n])},et.create=function(e){return typeof e=="string"&&e!==""?function(){if(o.test(e))return[Z(e)];var n=e.match(/^\s*<([^\s>]+)/),i=t.createElement("div"),s=[],u=n?c[n[1].toLowerCase()]:null,a=u?u[2]+1:1,f=u&&u[3],l=r,h=N.autoTbody&&u&&u[0]=="<table>"&&!/<tbody/i.test(e);i.innerHTML=u?u[0]+e+u[1]:e;while(a--)i=i.firstChild;f&&i&&i.nodeType!==1&&(i=i.nextSibling);do(!n||i.nodeType==1)&&(!h||i.tagName&&i.tagName!="TBODY")&&s.push(i);while(i=i.nextSibling);return B(s,function(e){e[l]&&e[l].removeChild(e)}),s}():D(e)?[e.cloneNode(!0)]:[]},et.doc=function(){var e=et.viewport();return{width:Math.max(t.body.scrollWidth,n.scrollWidth,e.width),height:Math.max(t.body.scrollHeight,n.scrollHeight,e.height)}},et.firstChild=function(e){for(var t=e.childNodes,n=0,r=t&&t.length||0,i;n<r;n++)t[n].nodeType===1&&(i=t[r=n]);return i},et.viewport=function(){return{width:p?n.clientWidth:self.innerWidth,height:p?n.clientHeight:self.innerHeight}},et.isAncestor="compareDocumentPosition"in n?function(e,t){return(e.compareDocumentPosition(t)&16)==16}:"contains"in n?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t=t[r])if(t===e)return!0;return!1},et}),define("controller/events/trackLinkCTO",["bean","bonzo","underscore","models/API/CTO"],function(e,t,n,r){var i=!1,s=[];e.on(window,"APIReadyCTO",function(){i=!0}),e.on(window,"click",function(e){var t="",n=e.target||e.srcElement;n.nodeType==3&&(n=n.parentNode);var r=o.getLevel();r>=3&&(n.getAttribute("src")?t=n.getAttribute("src"):n.firstChild&&n.firstChild.data!=""&&typeof n.firstChild.data=="string"&&(t=n.firstChild.data));if(e.button==0)do{if(r>=1&&n.nodeName&&(n.getAttribute("data-linkname")||n.getAttribute("data-linkposition")))return o.getDataAttr(n),!0;if(r>=2&&n.nodeName=="A"&&n.getAttribute("name")&&(n.getAttribute("name").indexOf("&lid")!=-1||n.getAttribute("name").indexOf("&lpos")!=-1))return o.getLinkNameAttr(n),!0;if(r>=3&&n.nodeName=="A"&&n.getAttribute("href"))return o.getLinkNoAttr(n,t),!0;n=n.parentNode}while(n.parentNode);return});var o={getLinkNoAttr:function(e,t){var n=e.getAttribute("href"),i=t.match(/\S/g)?t:n,s="",o=new r;o.trackLink(i,s,"3",n,!0)},getLinkNameAttr:function(e){var t=e.getAttribute("name"),n=t.indexOf("&lid"),i=t.indexOf("&lpos"),s="",o="";n!=-1&&i!=-1&&n<i?(s=t.substring(n+5,i),o=t.substring(i+6)):n!=-1&&i==-1?s=t.substring(n+5):n!=-1&&i!=-1&&i<n?(o=t.substring(i+6,n),s=t.substring(n+5)):i!=-1&&n==-1&&(s=t.substring(i+6));var u=e.getAttribute("href")?e.getAttribute("href"):"",a=new r;a.trackLink(s,o,"2",u)},getDataAttr:function(e){var t=e.getAttribute("data-linkname")?e.getAttribute("data-linkname"):"",n=e.getAttribute("data-linkposition")?e.getAttribute("data-linkposition"):"",i=e.getAttribute("href")?e.getAttribute("href"):"",s=new r;s.trackLink(t,n,"1",i)},getLevel:function(){var e=new r,t={};t[0]=["clubpenguin","princess","disneyvideo2","disneygames2","disneyshows","disneycharacters2","disneymovies","disneymusic","disneysitesearch","disneyhomepage","monstersuniversity2","matterhorn"],t[1]=[],t[2]=["disneymovierewards"];var n=3;if(typeof e.account=="string"&&e.account!="")for(var i=0;i<3;i++)for(var s=0;s<t[i].length;s++)if(e.account.indexOf(t[i][s])!=-1)return i;return n}}}),function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define("q",e);else if(typeof ses!="undefined"){if(!ses.ok())return;ses.makeQ=e}else Q=e()}(function(){function o(e){var t=Function.call;return function(){return t.apply(e,arguments)}}function v(e){return e===Object(e)}function m(e){return d(e)==="[object StopIteration]"||e instanceof g}function w(t,n){if(e&&n.stack&&typeof t=="object"&&t!==null&&t.stack&&t.stack.indexOf(b)===-1){var r=[];for(var i=n;!!i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(t.stack);var s=r.join("\n"+b+"\n");t.stack=E(s)}}function E(e){var t=e.split("\n"),n=[];for(var r=0;r<t.length;++r){var i=t[r];!T(i)&&!S(i)&&i&&n.push(i)}return n.join("\n")}function S(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function x(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);if(r)return[r[1],Number(r[2])]}function T(e){var t=x(e);if(!t)return!1;var i=t[0],s=t[1];return i===r&&s>=n&&s<=Ct}function N(){if(!e)return;try{throw new Error}catch(t){var n=t.stack.split("\n"),i=n[0].indexOf("@")>0?n[1]:n[2],s=x(i);if(!s)return;return r=s[0],s[1]}}function C(e,t,n){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(t+" is deprecated, use "+n+" instead.",(new Error("")).stack),e.apply(e,arguments)}}function k(e){return J(e)}function L(){function l(e){r=e,o.source=e,a(t,function(t,n){s(function(){e.promiseDispatch.apply(e,n)})},void 0),t=void 0,n=void 0}var t=[],n=[],r,i=c(L.prototype),o=c(O.prototype);o.promiseDispatch=function(e,i,o){var a=u(arguments);t?(t.push(a),i==="when"&&o[1]&&n.push(o[1])):s(function(){r.promiseDispatch.apply(r,a)})},o.valueOf=C(function(){if(t)return o;var e=M(r);return _(e)&&(r=e),e},"valueOf","inspect"),o.inspect=function(){return r?r.inspect():{state:"pending"}};if(k.longStackSupport&&e)try{throw new Error}catch(f){o.stack=f.stack.substring(f.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(e){if(r)return;l(J(e))},i.fulfill=function(e){if(r)return;l($(e))},i.reject=function(e){if(r)return;l(V(e))},i.notify=function(e){if(r)return;a(n,function(t,n){s(function(){n(e)})},void 0)},i}function A(e){if(typeof e!="function")throw new TypeError("resolver must be a function.");var t=L();return at(e,t.resolve,t.reject,t.notify).fail(t.reject),t.promise}function O(e,t,n){t===void 0&&(t=function(e){return V(new Error("Promise does not support operation: "+e))}),n===void 0&&(n=function(){return{state:"unknown"}});var r=c(O.prototype);r.promiseDispatch=function(n,i,s){var o;try{e[i]?o=e[i].apply(r,s):o=t.call(r,i,s)}catch(u){o=V(u)}n&&n(o)},r.inspect=n;if(n){var i=n();i.state==="rejected"&&(r.exception=i.reason),r.valueOf=C(function(){var e=n();return e.state==="pending"||e.state==="rejected"?r:e.value})}return r}function M(e){if(_(e)){var t=e.inspect();if(t.state==="fulfilled")return t.value}return e}function _(e){return v(e)&&typeof e.promiseDispatch=="function"&&typeof e.inspect=="function"}function D(e){return v(e)&&typeof e.then=="function"}function P(e){return _(e)&&e.inspect().state==="pending"}function H(e){return!_(e)||e.inspect().state==="fulfilled"}function B(e){return _(e)&&e.inspect().state==="rejected"}function R(){!I&&typeof window!="undefined"&&!window.Touch&&window.console&&console.warn("[Q] Unhandled rejection reasons (should be empty):",j),I=!0}function U(){for(var e=0;e<j.length;e++){var t=j[e];t&&typeof t.stack!="undefined"?console.warn("Unhandled rejection reason:",t.stack):console.warn("Unhandled rejection reason (no stack):",t)}}function z(){j.length=0,F.length=0,I=!1,q||(q=!0,typeof process!="undefined"&&process.on&&process.on("exit",U))}function W(e,t){if(!q)return;F.push(e),j.push(t),R()}function X(e){if(!q)return;var t=f(F,e);t!==-1&&(F.splice(t,1),j.splice(t,1))}function V(e){var t=O({when:function(t){return t&&X(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return W(t,e),t}function $(e){return O({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return t===null||t===void 0?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return p(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function J(e){return _(e)?e:D(e)?K(e):$(e)}function K(e){var t=L();return s(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function Q(e){return O({isDef:function(){}},function(n,r){return rt(e,n,r)},function(){return J(e).inspect()})}function G(e,t,n,r){return k(e).then(t,n,r)}function Y(e,t,n){return G(e,function(e){return lt(e).then(function(e){return t.apply(void 0,e)},n)},n)}function Z(e){return function(){function t(e,t){var s;if(y){try{s=n[e](t)}catch(o){return V(o)}return s.done?s.value:G(s.value,r,i)}try{s=n[e](t)}catch(o){return m(o)?o.value:V(o)}return G(s,r,i)}var n=e.apply(this,arguments),r=t.bind(t,"send"),i=t.bind(t,"throw");return r()}}function et(e){k.done(k.async(e)())}function tt(e){throw new g(e)}function nt(e){return function(){return Y([this,lt(arguments)],function(t,n){return e.apply(t,n)})}}function rt(e,t,n){var r=L();return s(function(){J(e).promiseDispatch(r.resolve,t,n)}),r.promise}function it(e){return function(t){var n=u(arguments,1);return rt(t,e,n)}}function ot(e,t){var n=u(arguments,2);return st(e,t,n)}function ut(e,t){return rt(e,"apply",[void 0,t])}function at(e){var t=u(arguments,1);return ut(e,t)}function ft(e){var t=u(arguments,1);return function(){var r=t.concat(u(arguments));return rt(e,"apply",[this,r])}}function lt(e){return G(e,function(e){var t=0,n=L();return a(e,function(r,i,s){var o;_(i)&&(o=i.inspect()).state==="fulfilled"?e[s]=o.value:(++t,G(i,function(r){e[s]=r,--t===0&&n.resolve(e)},n.reject))},void 0),t===0&&n.resolve(e),n.promise})}function ct(e){return G(e,function(e){return e=l(e,J),G(lt(l(e,function(e){return G(e,i,i)})),function(){return e})})}function ht(e){return G(e,function(e){return lt(l(e,function(t,n){return G(t,function(t){return e[n]={state:"fulfilled",value:t},e[n]},function(t){return e[n]={state:"rejected",reason:t},e[n]})})).thenResolve(e)})}function pt(e,t){return G(e,void 0,t)}function dt(e,t){return G(e,void 0,void 0,t)}function vt(e,t){return G(e,function(e){return G(t(),function(){return e})},function(e){return G(t(),function(){return V(e)})})}function mt(e,t,n,r){var i=function(t){s(function(){w(t,e);if(!k.onerror)throw t;k.onerror(t)})},o=t||n||r?G(e,t,n,r):e;typeof process=="object"&&process&&process.domain&&(i=process.domain.bind(i)),pt(o,i)}function gt(e,t,n){var r=L(),i=setTimeout(function(){r.reject(new Error(n||"Timed out after "+t+" ms"))},t);return G(e,function(e){clearTimeout(i),r.resolve(e)},function(e){clearTimeout(i),r.reject(e)},r.notify),r.promise}function yt(e,t){t===void 0&&(t=e,e=void 0);var n=L();return G(e,undefined,undefined,n.notify),setTimeout(function(){n.resolve(e)},t),n.promise}function bt(e,t){var n=u(t),r=L();return n.push(r.makeNodeResolver()),ut(e,n).fail(r.reject),r.promise}function wt(e){var t=u(arguments,1),n=L();return t.push(n.makeNodeResolver()),ut(e,t).fail(n.reject),n.promise}function Et(e){var t=u(arguments,1);return function(){var n=t.concat(u(arguments)),r=L();return n.push(r.makeNodeResolver()),ut(e,n).fail(r.reject),r.promise}}function St(e,t){var n=u(arguments,2);return function(){function s(){return e.apply(t,arguments)}var r=n.concat(u(arguments)),i=L();return r.push(i.makeNodeResolver()),ut(s,r).fail(i.reject),i.promise}}function xt(e,t,n){var r=u(n||[]),i=L();return r.push(i.makeNodeResolver()),st(e,t,r).fail(i.reject),i.promise}function Tt(e,t){var n=u(arguments,2),r=L();return n.push(r.makeNodeResolver()),st(e,t,n).fail(r.reject),r.promise}function Nt(e,t){if(!t)return e;e.then(function(e){s(function(){t(null,e)})},function(e){s(function(){t(e)})})}var e=!1;try{throw new Error}catch(t){e=!!t.stack}var n=N(),r,i=function(){},s=function(){function o(){while(e.next){e=e.next;var t=e.task;e.task=void 0;var r=e.domain;r&&(e.domain=void 0,r.enter());try{t()}catch(s){if(i)throw r&&r.exit(),setTimeout(o,0),r&&r.enter(),s;setTimeout(function(){throw s},0)}r&&r.exit()}n=!1}var e={task:void 0,next:null},t=e,n=!1,r=void 0,i=!1;s=function(e){t=t.next={task:e,domain:i&&process.domain,next:null},n||(n=!0,r())};if(typeof process!="undefined"&&process.nextTick)i=!0,r=function(){process.nextTick(o)};else if(typeof setImmediate=="function")typeof window!="undefined"?r=setImmediate.bind(window,o):r=function(){setImmediate(o)};else if(typeof MessageChannel!="undefined"){var u=new MessageChannel;u.port1.onmessage=o,r=function(){u.port2.postMessage(0)}}else r=function(){setTimeout(o,0)};return s}(),u=o(Array.prototype.slice),a=o(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(arguments.length===1)do{if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}while(1);for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),f=o(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),l=o(Array.prototype.map||function(e,t){var n=this,r=[];return a(n,function(i,s,o){r.push(e.call(t,s,o,n))},void 0),r}),c=Object.create||function(e){function t(){}return t.prototype=e,new t},h=o(Object.prototype.hasOwnProperty),p=Object.keys||function(e){var t=[];for(var n in e)h(e,n)&&t.push(n);return t},d=o(Object.prototype.toString),g;typeof ReturnValue!="undefined"?g=ReturnValue:g=function(e){this.value=e};var y;try{new Function("(function* (){ yield 1; })"),y=!0}catch(t){y=!1}var b="From previous event:";k.nextTick=s,k.longStackSupport=!1,k.defer=L,L.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(u(arguments,1)):e.resolve(n)}},k.promise=A,k.makePromise=O,O.prototype.then=function(e,t,n){function u(t){try{return typeof e=="function"?e(t):t}catch(n){return V(n)}}function a(e){if(typeof t=="function"){w(e,r);try{return t(e)}catch(n){return V(n)}}return V(e)}function f(e){return typeof n=="function"?n(e):e}var r=this,i=L(),o=!1;return s(function(){r.promiseDispatch(function(e){if(o)return;o=!0,i.resolve(u(e))},"when",[function(e){if(o)return;o=!0,i.resolve(a(e))}])}),r.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=f(e)}catch(r){n=!0;if(!k.onerror)throw r;k.onerror(r)}n||i.notify(t)}]),i.promise},O.prototype.thenResolve=function(e){return G(this,function(){return e})},O.prototype.thenReject=function(e){return G(this,function(){throw e})},a(["isFulfilled","isRejected","isPending","dispatch","when","spread","get","set","del","delete","post","send","mapply","invoke","mcall","keys","fapply","fcall","fbind","all","allResolved","timeout","delay","catch","finally","fail","fin","progress","done","nfcall","nfapply","nfbind","denodeify","nbind","npost","nsend","nmapply","ninvoke","nmcall","nodeify"],function(e,t){O.prototype[t]=function(){return k[t].apply(k,[this].concat(u(arguments)))}},void 0),O.prototype.toSource=function(){return this.toString()},O.prototype.toString=function(){return"[object Promise]"},k.nearer=M,k.isPromise=_,k.isPromiseAlike=D,k.isPending=P,k.isFulfilled=H,k.isRejected=B;var j=[],F=[],I=!1,q=!0;k.resetUnhandledRejections=z,k.getUnhandledReasons=function(){return j.slice()},k.stopUnhandledRejectionTracking=function(){z(),typeof process!="undefined"&&process.on&&process.removeListener("exit",U),q=!1},z(),k.reject=V,k.fulfill=$,k.resolve=J,k.master=Q,k.when=G,k.spread=Y,k.async=Z,k.spawn=et,k["return"]=tt,k.promised=nt,k.dispatch=rt,k.dispatcher=it,k.get=it("get"),k.set=it("set"),k["delete"]=k.del=it("delete");var st=k.post=it("post");k.mapply=st,k.send=ot,k.invoke=ot,k.mcall=ot,k.fapply=ut,k["try"]=at,k.fcall=at,k.fbind=ft,k.keys=it("keys"),k.all=lt,k.allResolved=C(ct,"allResolved","allSettled"),k.allSettled=ht,k["catch"]=k.fail=pt,k.progress=dt,k["finally"]=k.fin=vt,k.done=mt,k.timeout=gt,k.delay=yt,k.nfapply=bt,k.nfcall=wt,k.nfbind=Et,k.denodeify=k.nfbind,k.nbind=St,k.npost=xt,k.nmapply=xt,k.nsend=Tt,k.ninvoke=k.nsend,k.nmcall=k.nsend,k.nodeify=Nt;var Ct=N();return k}),!function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():typeof define=="function"&&define.amd?define("reqwest",n):t[e]=n()}("reqwest",this,function(){function handleReadyState(e,t,n){return function(){if(e._aborted)return n(e.request);e.request&&e.request[readyState]==4&&(e.request.onreadystatechange=noop,twoHundo.test(e.request.status)?t(e.request):n(e.request))}}function setHeaders(e,t){var n=t.headers||{},r;n.Accept=n.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"],!t.crossOrigin&&!n[requestedWith]&&(n[requestedWith]=defaultHeaders.requestedWith),n[contentType]||(n[contentType]=t.contentType||defaultHeaders.contentType);for(r in n)n.hasOwnProperty(r)&&"setRequestHeader"in e&&e.setRequestHeader(r,n[r])}function setCredentials(e,t){typeof t.withCredentials!="undefined"&&typeof e.withCredentials!="undefined"&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,s=e.jsonpCallback||"callback",o=e.jsonpCallbackName||reqwest.getcallbackPrefix(i),u=new RegExp("((^|\\?|&)"+s+")=([^&]+)"),a=r.match(u),f=doc.createElement("script"),l=0,c=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return a?a[3]==="?"?r=r.replace(u,"$1="+o):o=a[3]:r=urlappend(r,s+"="+o),win[o]=generalCallback,f.type="text/javascript",f.src=r,f.async=!0,typeof f.onreadystatechange!="undefined"&&!c&&(f.event="onclick",f.htmlFor=f.id="_reqwest_"+i),f.onload=f.onreadystatechange=function(){if(f[readyState]&&f[readyState]!=="complete"&&f[readyState]!=="loaded"||l)return!1;f.onload=f.onreadystatechange=null,f.onclick&&f.onclick(),t(lastValue),lastValue=undefined,head.removeChild(f),l=1},head.appendChild(f),{abort:function(){f.onload=f.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=undefined,head.removeChild(f),l=1}}}function getRequest(e,t){var n=this.o,r=(n.method||"GET").toUpperCase(),i=typeof n=="string"?n:n.url,s=n.processData!==!1&&n.data&&typeof n.data!="string"?reqwest.toQueryString(n.data):n.data||null,o,u=!1;return(n.type=="jsonp"||r=="GET")&&s&&(i=urlappend(i,s),s=null),n.type=="jsonp"?handleJsonp(n,e,t,i):(o=xhr(n),o.open(r,i,n.async===!1?!1:!0),setHeaders(o,n),setCredentials(o,n),win[xDomainRequest]&&o instanceof win[xDomainRequest]?(o.onload=e,o.onerror=t,o.onprogress=function(){},u=!0):o.onreadystatechange=handleReadyState(this,e,t),n.before&&n.before(o),u?setTimeout(function(){o.send(s)},200):o.send(s),o)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){var t=e.match(/\.(json|jsonp|html|xml)(\?|$)/);return t?t[1]:"js"}function init(o,fn){function complete(e){o.timeout&&clearTimeout(self.timeout),self.timeout=null;while(self._completeHandlers.length>0)self._completeHandlers.shift()(e)}function success(resp){resp=type!=="jsonp"?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);while(self._fulfillmentHandlers.length>0)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(e,t,n){e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;while(self._errorHandlers.length>0)self._errorHandlers.shift()(e,t,n);complete(e)}this.url=typeof o=="string"?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this,type=o.type||setType(this.url);fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n=e.name,r=e.tagName.toLowerCase(),i=function(e){e&&!e.disabled&&t(n,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))},s,o,u,a;if(e.disabled||!n)return;switch(r){case"input":/reset|button|image|file/i.test(e.type)||(s=/checkbox/i.test(e.type),o=/radio/i.test(e.type),u=e.value,(!s&&!o||e.checked)&&t(n,normalize(s&&u===""?"on":u)));break;case"textarea":t(n,normalize(e.value));break;case"select":if(e.type.toLowerCase()==="select-one")i(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(a=0;e.length&&a<e.length;a++)e.options[a].selected&&i(e.options[a])}}function eachFormElement(){var e=this,t,n,r=function(t,n){var r,i,s;for(r=0;r<n.length;r++){s=t[byTag](n[r]);for(i=0;i<s.length;i++)serial(s[i],e)}};for(n=0;n<arguments.length;n++)t=arguments[n],/input|select|textarea/i.test(t.tagName)&&serial(t,e),r(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var i,s,o,u=/\[\]$/;if(isArray(t))for(s=0;t&&s<t.length;s++)o=t[s],n||u.test(e)?r(e,o):buildParams(e+"["+(typeof o=="object"?s:"")+"]",o,n,r);else if(t&&t.toString()==="[object Object]")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}var win=window,doc=document,twoHundo=/^20\d$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +(new Date),lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray=typeof Array.isArray=="function"?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, *
\n"},{});mw.loader.implement("jquery.messageBox",function($){(function($){$.messageBoxNew=function(options){options=$.extend({id:'js-messagebox',parent:'body',insert:'prepend'},options);var $curBox=$('#'+options.id);if($curBox.length>0){if($curBox.hasClass('js-messagebox')){return $curBox;}else{return $curBox.addClass('js-messagebox');}}else{var $newBox=$('<div>',{'id':options.id,'class':'js-messagebox','css':{'display':'none'}});if($(options.parent).length<1){options.parent='body';}if(options.insert==='append'){$newBox.appendTo(options.parent);return $newBox;}else{$newBox.prependTo(options.parent);return $newBox;}}};$.messageBox=function(options){options=$.extend({message:'',group:'default',replace:false,target:'js-messagebox'},options);var $target=$.messageBoxNew({id:options.target});var groupID=options.target+'-'+options.group;var $group=$('#'+groupID);if($group.length<1){$group=$('<div>',{'id':groupID,'class':'js-messagebox-group'});$target.prepend($group);}if(options.replace===true){$group.empty();}if(options.message===''||options.message===null){$group.hide();}else{$group.prepend($('<p>').append(options.message)).show();$target.slideDown();}if($target.find('> *:visible').length===0){$group.show();$target.slideUp();$group.hide();}else{$target.slideDown();}return $group;};}(jQuery));;},{"all":".js-messagebox{margin:1em 5%;padding:0.5em 2.5%;border:1px solid #ccc;background-color:#fcfcfc;font-size:0.8em}.js-messagebox .js-messagebox-group{margin:1px;padding:0.5em 2.5%;border-bottom:1px solid #ddd}.js-messagebox .js-messagebox-group:last-child{border-bottom:thin none transparent}\n\n \n"},{});mw.loader.implement("jquery.mwEmbedUtil",function($){(function($){var _oldUnique=$.unique;$.unique=function(arr){if(!!arr[0].nodeType){return _oldUnique.apply(this,arguments);}else{return $.grep(arr,function(v,k){return $.inArray(v,arr)===k;});}};$.btnHtml=function(msg,styleClass,iconId,opt){if(!opt)opt={};var href=(opt.href)?opt.href:'#';var target_attr=(opt.target)?' target="'+opt.target+'" ':'';var style_attr=(opt.style)?' style="'+opt.style+'" ':'';return'<a href="'+href+'" '+target_attr+style_attr+' class="ui-state-default ui-corner-all ui-icon_link '+styleClass+'"><span class="ui-icon ui-icon-'+iconId+'" ></span>'+'<span class="btnText">'+msg+'</span></a>';};var mw_default_button_options={'class':'','style':{},'text':'','icon':'carat-1-n'};$.button=function(options){var options=$j.extend({},mw_default_button_options,options);var $button=$('<a />').attr('href','#').addClass('ui-state-default ui-corner-all ui-icon_link');if(options.css){$button.css(options.css);}if(options['class']){$button.addClass(options['class']);}$button.append($('<span />').addClass('ui-icon ui-icon-'+options.icon),$('<span />').addClass('btnText').text(options.text)).buttonHover();if(!options.text){$button.css('padding','1em');}return $button;};$.fn.buttonHover=function(){$(this).hover(function(){$(this).addClass('ui-state-hover');},function(){$(this).removeClass('ui-state-hover');});return this;};$.fn.dialogFitWindow=function(options){var opt_default={'hspace':50,'vspace':50};if(!options)var options={};options=$j.extend(opt_default,options);$(this.selector).dialog('option','width',$(window).width()-options.hspace);$(this.selector).dialog('option','height',$(window).height()-options.vspace);$(this.selector).dialog('option','position','center');$(this.selector+'~ .ui-dialog-buttonpane').css({'position':'absolute','left':'0px','right':'0px','bottom':'0px'});};})(jQuery);;},{},{});mw.loader.implement("jquery.mwExtension",function($){(function($){$.extend({trimLeft:function(str){return str===null?'':str.toString().replace(/^\s+/,'');},trimRight:function(str){return str===null?'':str.toString().replace(/\s+$/,'');},ucFirst:function(str){return str.charAt(0).toUpperCase()+str.substr(1);},escapeRE:function(str){return str.replace(/([\\{}()|.?*+\-^$\[\]])/g,"\\$1");},isDomElement:function(el){return!!el&&!!el.nodeType;},isEmpty:function(v){if(v===''||v===0||v==='0'||v===null||v===false||v===undefined){return true;}if(v.length===0){return true;}if(typeof v==='object'){for(var key in v){return false;}return true;}return false;},compareArray:function(arrThis,arrAgainst){if(arrThis.length!=arrAgainst.length){return false;}for(var i=0;i<arrThis.length;i++){if($.isArray(arrThis[i])){if(!$.compareArray(arrThis[i],arrAgainst[i])){return false;}}else if(arrThis[i]!==arrAgainst[i]){return false;}}return true;},compareObject:function(objectA,objectB){if(typeof objectA==typeof objectB){if(typeof objectA=='object'){if(objectA===objectB){return true;}else{var prop;for(prop in objectA){if(prop in objectB){var type=typeof objectA[prop];if(type==typeof objectB[prop]){switch(type){case'object':if(!$.compareObject(objectA[prop],objectB[prop])){return false;}break;case'function':if(objectA[prop].toString()!==objectB[prop].toString()){return false;}break;default:if(objectA[prop]!==objectB[prop]){return false;}break;}}else{return false;}}else{return false;}}for(prop in objectB){if(!(prop in objectA)){return false;}}}}}else{return false;}return true;}});})(jQuery);;},{},{});mw.loader.implement("jquery.ui.button",function($){(function($){var lastActive,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",stateClasses="ui-state-hover ui-state-active ",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon ui-button-text-only",formResetHandler=function(event){$(":ui-button",event.target.form).each(function(){var inst=$(this).data("button");setTimeout(function(){inst.refresh();},1);});},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){if(form){radios=$(form).find("[name='"+name+"']");}else{radios=$("[name='"+name+"']",radio.ownerDocument).filter(function(){return!this.form;});}}return radios;};$.widget("ui.button",{options:{text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",formResetHandler);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var self=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",hoverClass="ui-state-hover"+(!toggleButton?" ui-state-active":""),focusClass="ui-state-focus";if(options.label===null){options.label=this.buttonElement.html();}if(this.element.is(":disabled")){options.disabled=true;}this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter.button",function(){if(options.disabled){return;}$(this).addClass("ui-state-hover");if(this===lastActive){$(this).addClass("ui-state-active");}}).bind("mouseleave.button",function(){if(options.disabled){return;}$(this).removeClass(hoverClass);}).bind("focus.button",function(){$(this).addClass(focusClass);}).bind("blur.button",function(){$(this).removeClass(focusClass);});if(toggleButton){this.element.bind("change.button",function(){self.refresh();});}if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(options.disabled){return false;}$(this).toggleClass("ui-state-active");self.buttonElement.attr("aria-pressed",self.element[0].checked);});}else if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(options.disabled){return false;}$(this).addClass("ui-state-active");self.buttonElement.attr("aria-pressed",true);var radio=self.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed",false);});}else{this.buttonElement.bind("mousedown.button",function(){if(options.disabled){return false;}$(this).addClass("ui-state-active");lastActive=this;$(document).one("mouseup",function(){lastActive=null;});}).bind("mouseup.button",function(){if(options.disabled){return false;}$(this).removeClass("ui-state-active");}).bind("keydown.button",function(event){if(options.disabled){return false;}if(event.keyCode==$.ui.keyCode.SPACE||event.keyCode==$.ui.keyCode.ENTER){$(this).addClass("ui-state-active");}}).bind("keyup.button",function(){$(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click();}});}}this._setOption("disabled",options.disabled);},_determineButtonType:function(){if(this.element.is(":checkbox")){this.type="checkbox";}else{if(this.element.is(":radio")){this.type="radio";}else{if(this.element.is("input")){this.type="input";}else{this.type="button";}}}if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active");}this.buttonElement.attr("aria-pressed",checked);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" "+stateClasses+" "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}$.Widget.prototype.destroy.call(this);},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);if(key==="disabled"){if(value){this.element.attr("disabled",true);}else{this.element.removeAttr("disabled");}}this._resetButton();},refresh:function(){var isDisabled=this.element.is(":disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled);}if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true);}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false);}});}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true);}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false);}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}return;}var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary;if(icons.primary||icons.secondary){buttonElement.addClass("ui-button-text-icon"+(multipleIcons?"s":""));if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");}if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");}if(!this.options.text){buttonElement.addClass(multipleIcons?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon");if(!this.hasTitle){buttonElement.attr("title",buttonText);}}}else{buttonElement.addClass("ui-button-text-only");}}});$.widget("ui.buttonset",{_create:function(){this.element.addClass("ui-buttonset");this._init();},_init:function(){this.refresh();},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value);}$.Widget.prototype._setOption.apply(this,arguments);},refresh:function(){this.buttons=this.element.find(":button, :submit, :reset, :checkbox, :radio, a, :data(button)").filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end();},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");$.Widget.prototype.destroy.call(this);}});}(jQuery));;},{"all":".ui-button{display:inline-block;position:relative;padding:0;margin-right:.1em;text-decoration:none !important;cursor:pointer;text-align:center;zoom:1;overflow:visible} .ui-button-icon-only{width:2.2em} button.ui-button-icon-only{width:2.4em} .ui-button-icons-only{width:3.4em}button.ui-button-icons-only{width:3.7em} .ui-button .ui-button-text{display:block;line-height:1.4}.ui-button-text-only .ui-button-text{padding:.4em 1em}.ui-button-icon-only .ui-button-text,.ui-button-icons-only .ui-button-text{padding:.4em;text-indent:-9999999px}.ui-button-text-icon .ui-button-text,.ui-button-text-icons .ui-button-text{padding:.4em 1em .4em 2.1em}.ui-button-text-icons .ui-button-text{padding-left:2.1em;padding-right:2.1em} input.ui-button{padding:.4em 1em} .ui-button-icon-only .ui-icon,.ui-button-text-icon .ui-icon,.ui-button-text-icons .ui-icon,.ui-button-icons-only .ui-icon{position:absolute;top:50%;margin-top:-8px}.ui-button-icon-only .ui-icon{left:50%;margin-left:-8px}.ui-button-text-icon .ui-button-icon-primary,.ui-button-text-icons .ui-button-icon-primary,.ui-button-icons-only .ui-button-icon-primary{left:.5em}.ui-button-text-icons .ui-button-icon-secondary,.ui-button-icons-only .ui-button-icon-secondary{right:.5em} .ui-buttonset{margin-right:7px}.ui-buttonset .ui-button{margin-left:0;margin-right:-.3em} button.ui-button::-moz-focus-inner{border:0;padding:0}\n\n/* cache key: resourceloader:filter:minify-css:7:2b2f06157cbeed5c0ed774f6072721b6 */\n"},{});mw.loader.implement("jquery.ui.core",function($){(function($){$.ui=$.ui||{};if($.ui.version){return;}$.extend($.ui,{version:"1.8.2",plugin:{add:function(module,option,set){var proto=$.ui[module].prototype;for(var i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var set=instance.plugins[name];if(!set||!instance.element[0].parentNode){return;}for(var i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b);},hasScroll:function(el,a){if($(el).css('overflow')=='hidden'){return false;}var scroll=(a&&a=='left')?'scrollLeft':'scrollTop',has=false;if(el[scroll]>0){return true;}el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;},isOverAxis:function(x,reference,size){return(x>reference)&&(x<(reference+size));},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width);},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});$.fn.extend({_focus:$.fn.focus,focus:function(delay,fn){return typeof delay==='number'?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();(fn&&fn.call(elem));},delay);}):this._focus.apply(this,arguments);},enableSelection:function(){return this.attr('unselectable','off').css('MozUserSelect','');},disableSelection:function(){return this.attr('unselectable','on').css('MozUserSelect','none');},scrollParent:function(){var scrollParent;if(($.browser.msie&&(/(static|relative)/).test(this.css('position')))||(/absolute/).test(this.css('position'))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.curCSS(this,'position',1))&&(/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));}).eq(0);}return(/fixed/).test(this.css('position'))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css('zIndex',zIndex);}if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css('position');if(position=='absolute'||position=='relative'||position=='fixed'){value=parseInt(elem.css('zIndex'));if(!isNaN(value)&&value!=0){return value;}}elem=elem.parent();}}return 0;}});$.extend($.expr[':'],{data:function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){var nodeName=element.nodeName.toLowerCase(),tabIndex=$.attr(element,'tabindex');return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:'a'==nodeName||'area'==nodeName?element.href||!isNaN(tabIndex):!isNaN(tabIndex))&&!$(element)['area'==nodeName?'parents':'closest'](':hidden').length;},tabbable:function(element){var tabIndex=$.attr(element,'tabindex');return(isNaN(tabIndex)||tabIndex>=0)&&$(element).is(':focusable');}});})(jQuery);;},{"all":".ui-helper-hidden{display:none}.ui-helper-hidden-accessible{position:absolute;left:-99999999px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:after{content:\".\";display:block;height:0;clear:both;visibility:hidden}.ui-helper-clearfix{display:inline-block} * html .ui-helper-clearfix{height:1%}.ui-helper-clearfix{display:block} .ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)} .ui-state-disabled{cursor:default !important}  .ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}  .ui-widget-overlay{position:absolute;top:0;left:0;width:100%;height:100%}\n\n/* cache key: resourceloader:filter:minify-css:7:b80b11161e9a8e2d415a43fd6f09d170 */\n"},{});mw.loader.implement("jquery.ui.dialog",function($){(function($){var uiDialogClasses='ui-dialog '+'ui-widget '+'ui-widget-content '+'ui-corner-all ';$.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:'close',dialogClass:'',draggable:true,hide:null,height:'auto',maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:'center',resizable:true,show:null,stack:true,title:'',width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr('title');var self=this,options=self.options,title=options.title||self.originalTitle||'&#160;',titleId=$.ui.dialog.getTitleId(self.element),uiDialog=(self.uiDialog=$('<div></div>')).appendTo(document.body).hide().addClass(uiDialogClasses+options.dialogClass).css({zIndex:options.zIndex}).attr('tabIndex',-1).css('outline',0).keydown(function(event){if(options.closeOnEscape&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){self.close(event);event.preventDefault();}}).attr({role:'dialog','aria-labelledby':titleId}).mousedown(function(event){self.moveToTop(false,event);}),uiDialogContent=self.element.show().removeAttr('title').addClass('ui-dialog-content '+'ui-widget-content').appendTo(uiDialog),uiDialogTitlebar=(self.uiDialogTitlebar=$('<div></div>')).addClass('ui-dialog-titlebar '+'ui-widget-header '+'ui-corner-all '+'ui-helper-clearfix').prependTo(uiDialog),uiDialogTitlebarClose=$('<a href="#"></a>').addClass('ui-dialog-titlebar-close '+'ui-corner-all').attr('role','button').hover(function(){uiDialogTitlebarClose.addClass('ui-state-hover');},function(){uiDialogTitlebarClose.removeClass('ui-state-hover');}).focus(function(){uiDialogTitlebarClose.addClass('ui-state-focus');}).blur(function(){uiDialogTitlebarClose.removeClass('ui-state-focus');}).click(function(event){self.close(event);return false;}).appendTo(uiDialogTitlebar),uiDialogTitlebarCloseText=(self.uiDialogTitlebarCloseText=$('<span></span>')).addClass('ui-icon '+'ui-icon-closethick').text(options.closeText).appendTo(uiDialogTitlebarClose),uiDialogTitle=$('<span></span>').addClass('ui-dialog-title').attr('id',titleId).html(title).prependTo(uiDialogTitlebar);if($.isFunction(options.beforeclose)&&!$.isFunction(options.beforeClose)){options.beforeClose=options.beforeclose;}uiDialogTitlebar.find("*").add(uiDialogTitlebar).disableSelection();if(options.draggable&&$.fn.draggable){self._makeDraggable();}if(options.resizable&&$.fn.resizable){self._makeResizable();}self._createButtons(options.buttons);self._isOpen=false;if($.fn.bgiframe){uiDialog.bgiframe();}},_init:function(){if(this.options.autoOpen){this.open();}},destroy:function(){var self=this;if(self.overlay){self.overlay.destroy();}self.uiDialog.hide();self.element.unbind('.dialog').removeData('dialog').removeClass('ui-dialog-content ui-widget-content').hide().appendTo('body');self.uiDialog.remove();if(self.originalTitle){self.element.attr('title',self.originalTitle);}return self;},widget:function(){return this.uiDialog;},close:function(event){var self=this,maxZ;if(false===self._trigger('beforeClose',event)){return;}if(self.overlay){self.overlay.destroy();}self.uiDialog.unbind('keypress.ui-dialog');self._isOpen=false;if(self.options.hide){self.uiDialog.hide(self.options.hide,function(){self._trigger('close',event);});}else{self.uiDialog.hide();self._trigger('close',event);}$.ui.dialog.overlay.resize();if(self.options.modal){maxZ=0;$('.ui-dialog').each(function(){if(this!==self.uiDialog[0]){maxZ=Math.max(maxZ,$(this).css('z-index'));}});$.ui.dialog.maxZ=maxZ;}return self;},isOpen:function(){return this._isOpen;},moveToTop:function(force,event){var self=this,options=self.options,saveScroll;if((options.modal&&!force)||(!options.stack&&!options.modal)){return self._trigger('focus',event);}if(options.zIndex>$.ui.dialog.maxZ){$.ui.dialog.maxZ=options.zIndex;}if(self.overlay){$.ui.dialog.maxZ+=1;self.overlay.$el.css('z-index',$.ui.dialog.overlay.maxZ=$.ui.dialog.maxZ);}saveScroll={scrollTop:self.element.attr('scrollTop'),scrollLeft:self.element.attr('scrollLeft')};$.ui.dialog.maxZ+=1;self.uiDialog.css('z-index',$.ui.dialog.maxZ);self.element.attr(saveScroll);self._trigger('focus',event);return self;},open:function(){if(this._isOpen){return;}var self=this,options=self.options,uiDialog=self.uiDialog;self.overlay=options.modal?new $.ui.dialog.overlay(self):null;if(uiDialog.next().length){uiDialog.appendTo('body');}self._size();self._position(options.position);uiDialog.show(options.show);self.moveToTop(true);if(options.modal){uiDialog.bind('keypress.ui-dialog',function(event){if(event.keyCode!==$.ui.keyCode.TAB){return;}var tabbables=$(':tabbable',this),first=tabbables.filter(':first'),last=tabbables.filter(':last');if(event.target===last[0]&&!event.shiftKey){first.focus(1);return false;}else if(event.target===first[0]&&event.shiftKey){last.focus(1);return false;}});}$([]).add(uiDialog.find('.ui-dialog-content :tabbable:first')).add(uiDialog.find('.ui-dialog-buttonpane :tabbable:first')).add(uiDialog).filter(':first').focus();self._trigger('open');self._isOpen=true;return self;},_createButtons:function(buttons){var self=this,hasButtons=false,uiDialogButtonPane=$('<div></div>').addClass('ui-dialog-buttonpane '+'ui-widget-content '+'ui-helper-clearfix');self.uiDialog.find('.ui-dialog-buttonpane').remove();if(typeof buttons==='object'&&buttons!==null){$.each(buttons,function(){return!(hasButtons=true);});}if(hasButtons){$.each(buttons,function(name,fn){var button=$('<button type="button"></button>').text(name).click(function(){fn.apply(self.element[0],arguments);}).appendTo(uiDialogButtonPane);if($.fn.button){button.button();}});uiDialogButtonPane.appendTo(self.uiDialog);}},_makeDraggable:function(){var self=this,options=self.options,doc=$(document),heightBeforeDrag;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}self.uiDialog.draggable({cancel:'.ui-dialog-content, .ui-dialog-titlebar-close',handle:'.ui-dialog-titlebar',containment:'document',start:function(event,ui){heightBeforeDrag=options.height==="auto"?"auto":$(this).height();$(this).height($(this).height()).addClass("ui-dialog-dragging");self._trigger('dragStart',event,filteredUi(ui));},drag:function(event,ui){self._trigger('drag',event,filteredUi(ui));},stop:function(event,ui){options.position=[ui.position.left-doc.scrollLeft(),ui.position.top-doc.scrollTop()];$(this).removeClass("ui-dialog-dragging").height(heightBeforeDrag);self._trigger('dragStop',event,filteredUi(ui));$.ui.dialog.overlay.resize();}});},_makeResizable:function(handles){handles=(handles===undefined?this.options.resizable:handles);var self=this,options=self.options,position=self.uiDialog.css('position'),resizeHandles=(typeof handles==='string'?handles:'n,e,s,w,se,sw,ne,nw');function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}self.uiDialog.resizable({cancel:'.ui-dialog-content',containment:'document',alsoResize:self.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:self._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing");self._trigger('resizeStart',event,filteredUi(ui));},resize:function(event,ui){self._trigger('resize',event,filteredUi(ui));},stop:function(event,ui){$(this).removeClass("ui-dialog-resizing");options.height=$(this).height();options.width=$(this).width();self._trigger('resizeStop',event,filteredUi(ui));$.ui.dialog.overlay.resize();}}).css('position',position).find('.ui-resizable-se').addClass('ui-icon ui-icon-grip-diagonal-se');},_minHeight:function(){var options=this.options;if(options.height==='auto'){return options.minHeight;}else{return Math.min(options.minHeight,options.height);}},_position:function(position){var myAt=[],offset=[0,0],isVisible;position=position||$.ui.dialog.prototype.options.position;if(typeof position==='string'||(typeof position==='object'&&'0'in position)){myAt=position.split?position.split(' '):[position[0],position[1]];if(myAt.length===1){myAt[1]=myAt[0];}$.each(['left','top'],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition;}});}else if(typeof position==='object'){if('left'in position){myAt[0]='left';offset[0]=position.left;}else if('right'in position){myAt[0]='right';offset[0]=-position.right;}if('top'in position){myAt[1]='top';offset[1]=position.top;}else if('bottom'in position){myAt[1]='bottom';offset[1]=-position.bottom;}}isVisible=this.uiDialog.is(':visible');if(!isVisible){this.uiDialog.show();}this.uiDialog.css({top:0,left:0}).position({my:myAt.join(' '),at:myAt.join(' '),offset:offset.join(' '),of:window,collision:'fit',using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css('top',pos.top-topOffset);}}});if(!isVisible){this.uiDialog.hide();}},_setOption:function(key,value){var self=this,uiDialog=self.uiDialog,isResizable=uiDialog.is(':data(resizable)'),resize=false;switch(key){case"beforeclose":key="beforeClose";break;case"buttons":self._createButtons(value);break;case"closeText":self.uiDialogTitlebarCloseText.text(""+value);break;case"dialogClass":uiDialog.removeClass(self.options.dialogClass).addClass(uiDialogClasses+value);break;case"disabled":if(value){uiDialog.addClass('ui-dialog-disabled');}else{uiDialog.removeClass('ui-dialog-disabled');}break;case"draggable":if(value){self._makeDraggable();}else{uiDialog.draggable('destroy');}break;case"height":resize=true;break;case"maxHeight":if(isResizable){uiDialog.resizable('option','maxHeight',value);}resize=true;break;case"maxWidth":if(isResizable){uiDialog.resizable('option','maxWidth',value);}resize=true;break;case"minHeight":if(isResizable){uiDialog.resizable('option','minHeight',value);}resize=true;break;case"minWidth":if(isResizable){uiDialog.resizable('option','minWidth',value);}resize=true;break;case"position":self._position(value);break;case"resizable":if(isResizable&&!value){uiDialog.resizable('destroy');}if(isResizable&&typeof value==='string'){uiDialog.resizable('option','handles',value);}if(!isResizable&&value!==false){self._makeResizable(value);}break;case"title":$(".ui-dialog-title",self.uiDialogTitlebar).html(""+(value||'&#160;'));break;case"width":resize=true;break;}$.Widget.prototype._setOption.apply(self,arguments);if(resize){self._size();}},_size:function(){var options=this.options,nonContentHeight;this.element.css({width:'auto',minHeight:0,height:0});nonContentHeight=this.uiDialog.css({height:'auto',width:options.width}).height();this.element.css(options.height==='auto'?{minHeight:Math.max(options.minHeight-nonContentHeight,0),height:'auto'}:{minHeight:0,height:Math.max(options.height-nonContentHeight,0)}).show();if(this.uiDialog.is(':data(resizable)')){this.uiDialog.resizable('option','minHeight',this._minHeight());}}});$.extend($.ui.dialog,{version:"1.8.2",uuid:0,maxZ:0,getTitleId:function($el){var id=$el.attr('id');if(!id){this.uuid+=1;id=this.uuid;}return'ui-dialog-title-'+id;},overlay:function(dialog){this.$el=$.ui.dialog.overlay.create(dialog);}});$.extend($.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:$.map('focus,mousedown,mouseup,keydown,keypress,click'.split(','),function(event){return event+'.dialog-overlay';}).join(' '),create:function(dialog){if(this.instances.length===0){setTimeout(function(){if($.ui.dialog.overlay.instances.length){$(document).bind($.ui.dialog.overlay.events,function(event){return($(event.target).zIndex()>=$.ui.dialog.overlay.maxZ);});}},1);$(document).bind('keydown.dialog-overlay',function(event){if(dialog.options.closeOnEscape&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){dialog.close(event);event.preventDefault();}});$(window).bind('resize.dialog-overlay',$.ui.dialog.overlay.resize);}var $el=(this.oldInstances.pop()||$('<div></div>').addClass('ui-widget-overlay')).appendTo(document.body).css({width:this.width(),height:this.height()});if($.fn.bgiframe){$el.bgiframe();}this.instances.push($el);return $el;},destroy:function($el){this.oldInstances.push(this.instances.splice($.inArray($el,this.instances),1)[0]);if(this.instances.length===0){$([document,window]).unbind('.dialog-overlay');}$el.remove();var maxZ=0;$.each(this.instances,function(){maxZ=Math.max(maxZ,this.css('z-index'));});this.maxZ=maxZ;},height:function(){var scrollHeight,offsetHeight;if($.browser.msie&&$.browser.version<7){scrollHeight=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);offsetHeight=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(scrollHeight<offsetHeight){return $(window).height()+'px';}else{return scrollHeight+'px';}}else{return $(document).height()+'px';}},width:function(){var scrollWidth,offsetWidth;if($.browser.msie&&$.browser.version<7){scrollWidth=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(scrollWidth<offsetWidth){return $(window).width()+'px';}else{return scrollWidth+'px';}}else{return $(document).width()+'px';}},resize:function(){var $overlays=$([]);$.each($.ui.dialog.overlay.instances,function(){$overlays=$overlays.add(this);});$overlays.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()});}});$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el);}});}(jQuery));;},{"all":".ui-dialog{position:absolute;padding:.2em;width:300px;overflow:hidden}.ui-dialog .ui-dialog-titlebar{padding:.5em 1em .3em;position:relative}.ui-dialog .ui-dialog-title{float:left;margin:.1em 16px .2em 0}.ui-dialog .ui-dialog-titlebar-close{position:absolute;right:.3em;top:50%;width:19px;margin:-10px 0 0 0;padding:1px;height:18px}.ui-dialog .ui-dialog-titlebar-close span{display:block;margin:1px}.ui-dialog .ui-dialog-titlebar-close:hover,.ui-dialog .ui-dialog-titlebar-close:focus{padding:0}.ui-dialog .ui-dialog-content{border:0;padding:.5em 1em;background:none;overflow:auto;zoom:1}.ui-dialog .ui-dialog-buttonpane{text-align:left;border-width:1px 0 0 0;background-image:none;margin:.5em 0 0 0;padding:.3em 1em .5em .4em}.ui-dialog .ui-dialog-buttonpane button{float:right;margin:.5em .4em .5em 0;cursor:pointer;padding:.2em .6em .3em .6em;line-height:1.4em;width:auto;overflow:visible}.ui-dialog .ui-resizable-se{width:14px;height:14px;right:3px;bottom:3px}.ui-draggable .ui-dialog-titlebar{cursor:move}\n\n/* cache key: resourceloader:filter:minify-css:7:cb89a9da9e3a1d29e22c67b4c371f5c3 */\n"},{});mw.loader.implement("jquery.ui.draggable",function($){(function($){$.widget("ui.draggable",$.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=='original'&&!(/^(?:r|a|f)/).test(this.element.css("position")))this.element[0].style.position='relative';(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit();},destroy:function(){if(!this.element.data('draggable'))return;this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable"+" ui-draggable-dragging"+" ui-draggable-disabled");this._mouseDestroy();return this;},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).is('.ui-resizable-handle'))return false;this.handle=this._getHandle(event);if(!this.handle)return false;return true;},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this._cacheHelperProportions();if($.ui.ddmanager)$.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));if(o.containment)this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour)$.ui.ddmanager.prepareOffsets(this,event);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(event,true);return true;},_mouseDrag:function(event,noPropagation){this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger('drag',event,ui)===false){this._mouseUp({});return false;}this.position=ui.position;}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+'px';if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+'px';if($.ui.ddmanager)$.ui.ddmanager.drag(this,event);return false;},_mouseStop:function(event){var dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour)dropped=$.ui.ddmanager.drop(this,event);if(this.dropped){dropped=this.dropped;this.dropped=false;}if(!this.element[0]||!this.element[0].parentNode)return false;if((this.options.revert=="invalid"&&!dropped)||(this.options.revert=="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){var self=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(self._trigger("stop",event)!==false){self._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}return false;},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}return this;},_getHandle:function(event){var handle=!this.options.handle||!$(this.options.handle,this.element).length?true:false;$(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==event.target)handle=true;});return handle;},_createHelper:function(event){var o=this.options;var helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):(o.helper=='clone'?this.element.clone():this.element);if(!helper.parents('body').length)helper.appendTo((o.appendTo=='parent'?this.element[0].parentNode:o.appendTo));if(helper[0]!=this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position")))helper.css("position","absolute");return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj=='string'){obj=obj.split(' ');}if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}if('left'in obj){this.offset.click.left=obj.left+this.margins.left;}if('right'in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}if('top'in obj){this.offset.click.top=obj.top+this.margins.top;}if('bottom'in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition=='absolute'&&this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=='html'&&$.browser.msie))po={top:0,left:0};return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var o=this.options;if(o.containment=='parent')o.containment=this.helper[0].parentNode;if(o.containment=='document'||o.containment=='window')this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment=='document'?document:window).width()-this.helperProportions.width-this.margins.left,($(o.containment=='document'?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!(/^(document|window|parent)$/).test(o.containment)&&o.containment.constructor!=Array){var ce=$(o.containment)[0];if(!ce)return;var co=$(o.containment).offset();var over=($(ce).css("overflow")!='hidden');this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}else if(o.containment.constructor==Array){this.containment=o.containment;}},_convertPositionTo:function(d,pos){if(!pos)pos=this.position;var mod=d=="absolute"?1:-1;var o=this.options,scroll=this.cssPosition=='absolute'&&!(this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var o=this.options,scroll=this.cssPosition=='absolute'&&!(this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);var pageX=event.pageX;var pageY=event.pageY;if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0])pageX=this.containment[0]+this.offset.click.left;if(event.pageY-this.offset.click.top<this.containment[1])pageY=this.containment[1]+this.offset.click.top;if(event.pageX-this.offset.click.left>this.containment[2])pageX=this.containment[2]+this.offset.click.left;if(event.pageY-this.offset.click.top>this.containment[3])pageY=this.containment[3]+this.offset.click.top;}if(o.grid){var top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?(!(top-this.offset.click.top<this.containment[1]||top-this.offset.click.top>this.containment[3])?top:(!(top-this.offset.click.top<this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;var left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?(!(left-this.offset.click.left<this.containment[0]||left-this.offset.click.left>this.containment[2])?left:(!(left-this.offset.click.left<this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}return{top:(pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+($.browser.safari&&$.browser.version<526&&this.cssPosition=='fixed'?0:(this.cssPosition=='fixed'?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval)this.helper.remove();this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type=="drag")this.positionAbs=this._convertPositionTo("absolute");return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(event){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.extend($.ui.draggable,{version:"1.8.2"});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,'sortable');if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable._refreshItems();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui){var inst=$(this).data("draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper=='original')this.instance.currentItem.css({top:'auto',left:'auto'});}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui){var inst=$(this).data("draggable"),self=this;var checkPos=function(o){var dyClick=this.offset.click.top,dxClick=this.offset.click.left;var helperTop=this.positionAbs.top,helperLeft=this.positionAbs.left;var itemHeight=o.height,itemWidth=o.width;var itemTop=o.top,itemLeft=o.left;return $.ui.isOver(helperTop+dyClick,helperLeft+dxClick,itemTop,itemLeft,itemHeight,itemWidth);};$.each(inst.sortables,function(i){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(self).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0];};event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;this.instance.fromOutside=inst;}if(this.instance.currentItem)this.instance._mouseDrag(event);}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger('out',event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder)this.instance.placeholder.remove();inst._trigger("fromSortable",event);inst.dropped=false;}};});}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui){var t=$('body'),o=$(this).data('draggable').options;if(t.css("cursor"))o._cursor=t.css("cursor");t.css("cursor",o.cursor);},stop:function(event,ui){var o=$(this).data('draggable').options;if(o._cursor)$('body').css("cursor",o._cursor);}});$.ui.plugin.add("draggable","iframeFix",{start:function(event,ui){var o=$(this).data('draggable').options;$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css($(this).offset()).appendTo("body");});},stop:function(event,ui){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data('draggable').options;if(t.css("opacity"))o._opacity=t.css("opacity");t.css('opacity',o.opacity);},stop:function(event,ui){var o=$(this).data('draggable').options;if(o._opacity)$(ui.helper).css('opacity',o._opacity);}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui){var i=$(this).data("draggable");if(i.scrollParent[0]!=document&&i.scrollParent[0].tagName!='HTML')i.overflowOffset=i.scrollParent.offset();},drag:function(event,ui){var i=$(this).data("draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!=document&&i.scrollParent[0].tagName!='HTML'){if(!o.axis||o.axis!='x'){if((i.overflowOffset.top+i.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity)i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed;else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity)i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed;}if(!o.axis||o.axis!='y'){if((i.overflowOffset.left+i.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity)i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed;else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity)i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(!o.axis||o.axis!='x'){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity)scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity)scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}if(!o.axis||o.axis!='y'){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity)scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity)scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour)$.ui.ddmanager.prepareOffsets(i,event);}});$.ui.plugin.add("draggable","snap",{start:function(event,ui){var i=$(this).data("draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!=String?(o.snap.items||':data(draggable)'):o.snap).each(function(){var $t=$(this);var $o=$t.offset();if(this!=i.element[0])i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});});},drag:function(event,ui){var inst=$(this).data("draggable"),o=inst.options;var d=o.snapTolerance;var x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(var i=inst.snapElements.length-1;i>=0;i--){var l=inst.snapElements[i].left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top,b=t+inst.snapElements[i].height;if(!((l-d<x1&&x1<r+d&&t-d<y1&&y1<b+d)||(l-d<x1&&x1<r+d&&t-d<y2&&y2<b+d)||(l-d<x2&&x2<r+d&&t-d<y1&&y1<b+d)||(l-d<x2&&x2<r+d&&t-d<y2&&y2<b+d))){if(inst.snapElements[i].snapping)(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));inst.snapElements[i].snapping=false;continue;}if(o.snapMode!='inner'){var ts=Math.abs(t-y2)<=d;var bs=Math.abs(b-y1)<=d;var ls=Math.abs(l-x2)<=d;var rs=Math.abs(r-x1)<=d;if(ts)ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top;if(bs)ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top;if(ls)ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left;if(rs)ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left;}var first=(ts||bs||ls||rs);if(o.snapMode!='outer'){var ts=Math.abs(t-y1)<=d;var bs=Math.abs(b-y2)<=d;var ls=Math.abs(l-x1)<=d;var rs=Math.abs(r-x2)<=d;if(ts)ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top;if(bs)ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top;if(ls)ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left;if(rs)ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left;}if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first))(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));inst.snapElements[i].snapping=(ts||bs||ls||rs||first);};}});$.ui.plugin.add("draggable","stack",{start:function(event,ui){var o=$(this).data("draggable").options;var group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}var min=parseInt(group[0].style.zIndex)||0;$(group).each(function(i){this.style.zIndex=min+i;});this[0].style.zIndex=min+group.length;}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;if(t.css("zIndex"))o._zIndex=t.css("zIndex");t.css('zIndex',o.zIndex);},stop:function(event,ui){var o=$(this).data("draggable").options;if(o._zIndex)$(ui.helper).css('zIndex',o._zIndex);}});})(jQuery);;},{},{});mw.loader.implement("jquery.ui.mouse",function($){(function($){$.widget("ui.mouse",{options:{cancel:':input,option',distance:1,delay:0},_mouseInit:function(){var self=this;this.element.bind('mousedown.'+this.widgetName,function(event){return self._mouseDown(event);}).bind('click.'+this.widgetName,function(event){if(self._preventClickEvent){self._preventClickEvent=false;event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind('.'+this.widgetName);},_mouseDown:function(event){event.originalEvent=event.originalEvent||{};if(event.originalEvent.mouseHandled){return;}(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var self=this,btnIsLeft=(event.which==1),elIsCancel=(typeof this.options.cancel=="string"?$(event.target).parents().add(event.target).filter(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){self.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}this._mouseMoveDelegate=function(event){return self._mouseMove(event);};this._mouseUpDelegate=function(event){return self._mouseUp(event);};$(document).bind('mousemove.'+this.widgetName,this._mouseMoveDelegate).bind('mouseup.'+this.widgetName,this._mouseUpDelegate);($.browser.safari||event.preventDefault());event.originalEvent.mouseHandled=true;return true;},_mouseMove:function(event){if($.browser.msie&&!event.button){return this._mouseUp(event);}if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}return!this._mouseStarted;},_mouseUp:function(event){$(document).unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(event.target==this._mouseDownEvent.target);this._mouseStop(event);}return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(event){return this.mouseDelayMet;},_mouseStart:function(event){},_mouseDrag:function(event){},_mouseStop:function(event){},_mouseCapture:function(event){return true;}});})(jQuery);;},{},{});mw.loader.implement("jquery.ui.position",function($){(function($){$.ui=$.ui||{};var horizontalPositions=/left|center|right/,horizontalDefault="center",verticalPositions=/top|center|bottom/,verticalDefault="center",_position=$.fn.position,_offset=$.fn.offset;$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}options=$.extend({},options);var target=$(options.of),collision=(options.collision||"flip").split(" "),offset=options.offset?options.offset.split(" "):[0,0],targetWidth,targetHeight,basePosition;if(options.of.nodeType===9){targetWidth=target.width();targetHeight=target.height();basePosition={top:0,left:0};}else if(options.of.scrollTo&&options.of.document){targetWidth=target.width();targetHeight=target.height();basePosition={top:target.scrollTop(),left:target.scrollLeft()};}else if(options.of.preventDefault){options.at="left top";targetWidth=targetHeight=0;basePosition={top:options.of.pageY,left:options.of.pageX};}else{targetWidth=target.outerWidth();targetHeight=target.outerHeight();basePosition=target.offset();}$.each(["my","at"],function(){var pos=(options[this]||"").split(" ");if(pos.length===1){pos=horizontalPositions.test(pos[0])?pos.concat([verticalDefault]):verticalPositions.test(pos[0])?[horizontalDefault].concat(pos):[horizontalDefault,verticalDefault];}pos[0]=horizontalPositions.test(pos[0])?pos[0]:horizontalDefault;pos[1]=verticalPositions.test(pos[1])?pos[1]:verticalDefault;options[this]=pos;});if(collision.length===1){collision[1]=collision[0];}offset[0]=parseInt(offset[0],10)||0;if(offset.length===1){offset[1]=offset[0];}offset[1]=parseInt(offset[1],10)||0;if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]===horizontalDefault){basePosition.left+=targetWidth/2;}if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]===verticalDefault){basePosition.top+=targetHeight/2;}basePosition.left+=offset[0];basePosition.top+=offset[1];return this.each(function(){var elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),position=$.extend({},basePosition);if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]===horizontalDefault){position.left-=elemWidth/2;}if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]===verticalDefault){position.top-=elemHeight/2;}position.left=parseInt(position.left);position.top=parseInt(position.top);$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,offset:offset,my:options.my,at:options.at});}});if($.fn.bgiframe){elem.bgiframe();}elem.offset($.extend(position,{using:options.using}));});};$.ui.position={fit:{left:function(position,data){var win=$(window),over=position.left+data.elemWidth-win.width()-win.scrollLeft();position.left=over>0?position.left-over:Math.max(0,position.left);},top:function(position,data){var win=$(window),over=position.top+data.elemHeight-win.height()-win.scrollTop();position.top=over>0?position.top-over:Math.max(0,position.top);}},flip:{left:function(position,data){if(data.at[0]==="center"){return;}var win=$(window),over=position.left+data.elemWidth-win.width()-win.scrollLeft(),myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,offset=-2*data.offset[0];position.left+=position.left<0?myOffset+data.targetWidth+offset:over>0?myOffset-data.targetWidth+offset:0;},top:function(position,data){if(data.at[1]==="center"){return;}var win=$(window),over=position.top+data.elemHeight-win.height()-win.scrollTop(),myOffset=data.my[1]==="top"?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:-data.targetHeight,offset=-2*data.offset[1];position.top+=position.top<0?myOffset+data.targetHeight+offset:over>0?myOffset+atOffset+offset:0;}}};if(!$.offset.setOffset){$.offset.setOffset=function(elem,options){if(/static/.test($.curCSS(elem,"position"))){elem.style.position="relative";}var curElem=$(elem),curOffset=curElem.offset(),curTop=parseInt($.curCSS(elem,"top",true),10)||0,curLeft=parseInt($.curCSS(elem,"left",true),10)||0,props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if('using'in options){options.using.call(elem,props);}else{curElem.css(props);}};$.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument){return null;}if(options){return this.each(function(){$.offset.setOffset(this,options);});}return _offset.call(this);};}}(jQuery));;},{},{});mw.loader.implement("jquery.ui.resizable",function($){(function($){$.widget("ui.resizable",$.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var self=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||'ui-resizable-helper':null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css('position'))&&$.browser.opera)this.element.css({position:'relative',top:'auto',left:'auto'});this.element.wrap($('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css('position'),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css('top'),left:this.element.css('left')}));this.element=this.element.parent().data("resizable",this.element.data('resizable'));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css('resize');this.originalElement.css('resize','none');this._proportionallyResizeElements.push(this.originalElement.css({position:'static',zoom:1,display:'block'}));this.originalElement.css({margin:this.originalElement.css('margin')});this._proportionallyResize();}this.handles=o.handles||(!$('.ui-resizable-handle',this.element).length?"e,s,se":{n:'.ui-resizable-n',e:'.ui-resizable-e',s:'.ui-resizable-s',w:'.ui-resizable-w',se:'.ui-resizable-se',sw:'.ui-resizable-sw',ne:'.ui-resizable-ne',nw:'.ui-resizable-nw'});if(this.handles.constructor==String){if(this.handles=='all')this.handles='n,e,s,w,se,sw,ne,nw';var n=this.handles.split(",");this.handles={};for(var i=0;i<n.length;i++){var handle=$.trim(n[i]),hname='ui-resizable-'+handle;var axis=$('<div class="ui-resizable-handle '+hname+'"></div>');if(/sw|se|ne|nw/.test(handle))axis.css({zIndex:++o.zIndex});if('se'==handle){axis.addClass('ui-icon ui-icon-gripsmall-diagonal-se');};this.handles[handle]='.ui-resizable-'+handle;this.element.append(axis);}}this._renderAxis=function(target){target=target||this.element;for(var i in this.handles){if(this.handles[i].constructor==String)this.handles[i]=$(this.handles[i],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var axis=$(this.handles[i],this.element),padWrapper=0;padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();var padPos=['padding',/ne|nw|n/.test(i)?'Top':/se|sw|s/.test(i)?'Bottom':/^e$/.test(i)?'Right':'Left'].join("");target.css(padPos,padWrapper);this._proportionallyResize();}if(!$(this.handles[i]).length)continue;}};this._renderAxis(this.element);this._handles=$('.ui-resizable-handle',this.element).disableSelection();this._handles.mouseover(function(){if(!self.resizing){if(this.className)var axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);self.axis=axis&&axis[1]?axis[1]:'se';}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").hover(function(){$(this).removeClass("ui-resizable-autohide");self._handles.show();},function(){if(!self.resizing){$(this).addClass("ui-resizable-autohide");self._handles.hide();}});}this._mouseInit();},destroy:function(){this._mouseDestroy();var _destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find('.ui-resizable-handle').remove();};if(this.elementIsWrapper){_destroy(this.element);var wrapper=this.element;wrapper.after(this.originalElement.css({position:wrapper.css('position'),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css('top'),left:wrapper.css('left')})).remove();}this.originalElement.css('resize',this.originalResizeStyle);_destroy(this.originalElement);return this;},_mouseCapture:function(event){var handle=false;for(var i in this.handles){if($(this.handles[i])[0]==event.target){handle=true;}}return!this.options.disabled&&handle;},_mouseStart:function(event){var o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=true;this.documentScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()};if(el.is('.ui-draggable')||(/absolute/).test(el.css('position'))){el.css({position:'absolute',top:iniPos.top,left:iniPos.left});}if($.browser.opera&&(/relative/).test(el.css('position')))el.css({position:'relative',top:'auto',left:'auto'});this._renderProxy();var curleft=num(this.helper.css('left')),curtop=num(this.helper.css('top'));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalPosition={left:curleft,top:curtop};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio=='number')?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var cursor=$('.ui-resizable-'+this.axis).css('cursor');$('body').css('cursor',cursor=='auto'?this.axis+'-resize':cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var el=this.helper,o=this.options,props={},self=this,smp=this.originalMousePosition,a=this.axis;var dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0;var trigger=this._change[a];if(!trigger)return false;var data=trigger.apply(this,[event,dx,dy]),ie6=$.browser.msie&&$.browser.version<7,csdif=this.sizeDiff;if(this._aspectRatio||event.shiftKey)data=this._updateRatio(data,event);data=this._respectSize(data,event);this._propagate("resize",event);el.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length)this._proportionallyResize();this._updateCache(data);this._trigger('resize',event,this.ui());return false;},_mouseStop:function(event){this.resizing=false;var o=this.options,self=this;if(this._helper){var pr=this._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],'left')?0:self.sizeDiff.height,soffsetw=ista?0:self.sizeDiff.width;var s={width:(self.size.width-soffsetw),height:(self.size.height-soffseth)},left=(parseInt(self.element.css('left'),10)+(self.position.left-self.originalPosition.left))||null,top=(parseInt(self.element.css('top'),10)+(self.position.top-self.originalPosition.top))||null;if(!o.animate)this.element.css($.extend(s,{top:top,left:left}));self.helper.height(self.size.height);self.helper.width(self.size.width);if(this._helper&&!o.animate)this._proportionallyResize();}$('body').css('cursor','auto');this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper)this.helper.remove();return false;},_updateCache:function(data){var o=this.options;this.offset=this.helper.offset();if(isNumber(data.left))this.position.left=data.left;if(isNumber(data.top))this.position.top=data.top;if(isNumber(data.height))this.size.height=data.height;if(isNumber(data.width))this.size.width=data.width;},_updateRatio:function(data,event){var o=this.options,cpos=this.position,csize=this.size,a=this.axis;if(data.height)data.width=(csize.height*this.aspectRatio);else if(data.width)data.height=(csize.width/this.aspectRatio);if(a=='sw'){data.left=cpos.left+(csize.width-data.width);data.top=null;}if(a=='nw'){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}return data;},_respectSize:function(data,event){var el=this.helper,o=this.options,pRatio=this._aspectRatio||event.shiftKey,a=this.axis,ismaxw=isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height);if(isminw)data.width=o.minWidth;if(isminh)data.height=o.minHeight;if(ismaxw)data.width=o.maxWidth;if(ismaxh)data.height=o.maxHeight;var dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height;var cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw&&cw)data.left=dw-o.minWidth;if(ismaxw&&cw)data.left=dw-o.maxWidth;if(isminh&&ch)data.top=dh-o.minHeight;if(ismaxh&&ch)data.top=dh-o.maxHeight;var isNotwh=!data.width&&!data.height;if(isNotwh&&!data.left&&data.top)data.top=null;else if(isNotwh&&!data.top&&data.left)data.left=null;return data;},_proportionallyResize:function(){var o=this.options;if(!this._proportionallyResizeElements.length)return;var element=this.helper||this.element;for(var i=0;i<this._proportionallyResizeElements.length;i++){var prel=this._proportionallyResizeElements[i];if(!this.borderDif){var b=[prel.css('borderTopWidth'),prel.css('borderRightWidth'),prel.css('borderBottomWidth'),prel.css('borderLeftWidth')],p=[prel.css('paddingTop'),prel.css('paddingRight'),prel.css('paddingBottom'),prel.css('paddingLeft')];this.borderDif=$.map(b,function(v,i){var border=parseInt(v,10)||0,padding=parseInt(p[i],10)||0;return border+padding;});}if($.browser.msie&&!(!($(element).is(':hidden')||$(element).parents(':hidden').length)))continue;prel.css({height:(element.height()-this.borderDif[0]-this.borderDif[2])||0,width:(element.width()-this.borderDif[1]-this.borderDif[3])||0});};},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$('<div style="overflow:hidden;"></div>');var ie6=$.browser.msie&&$.browser.version<7,ie6offset=(ie6?1:0),pxyoffset=(ie6?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+pxyoffset,height:this.element.outerHeight()+pxyoffset,position:'absolute',left:this.elementOffset.left-ie6offset+'px',top:this.elementOffset.top-ie6offset+'px',zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx,dy){return{width:this.originalSize.width+dx};},w:function(event,dx,dy){var o=this.options,cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var o=this.options,cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.extend($.ui.resizable,{version:"1.8.2"});$.ui.plugin.add("resizable","alsoResize",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options;var _store=function(exp){$(exp).each(function(){$(this).data("resizable-alsoresize",{width:parseInt($(this).width(),10),height:parseInt($(this).height(),10),left:parseInt($(this).css('left'),10),top:parseInt($(this).css('top'),10)});});};if(typeof(o.alsoResize)=='object'&&!o.alsoResize.parentNode){if(o.alsoResize.length){o.alsoResize=o.alsoResize[0];_store(o.alsoResize);}else{$.each(o.alsoResize,function(exp,c){_store(exp);});}}else{_store(o.alsoResize);}},resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,os=self.originalSize,op=self.originalPosition;var delta={height:(self.size.height-os.height)||0,width:(self.size.width-os.width)||0,top:(self.position.top-op.top)||0,left:(self.position.left-op.left)||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("resizable-alsoresize"),style={},css=c&&c.length?c:['width','height','top','left'];$.each(css||['width','height','top','left'],function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0)style[prop]=sum||null;});if(/relative/.test(el.css('position'))&&$.browser.opera){self._revertToRelativePosition=true;el.css({position:'absolute',top:'auto',left:'auto'});}el.css(style);});};if(typeof(o.alsoResize)=='object'&&!o.alsoResize.nodeType){$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c);});}else{_alsoResize(o.alsoResize);}},stop:function(event,ui){var self=$(this).data("resizable");if(self._revertToRelativePosition&&$.browser.opera){self._revertToRelativePosition=false;el.css({position:'relative'});}$(this).removeData("resizable-alsoresize-start");}});$.ui.plugin.add("resizable","animate",{stop:function(event,ui){var self=$(this).data("resizable"),o=self.options;var pr=self._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],'left')?0:self.sizeDiff.height,soffsetw=ista?0:self.sizeDiff.width;var style={width:(self.size.width-soffsetw),height:(self.size.height-soffseth)},left=(parseInt(self.element.css('left'),10)+(self.position.left-self.originalPosition.left))||null,top=(parseInt(self.element.css('top'),10)+(self.position.top-self.originalPosition.top))||null;self.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(self.element.css('width'),10),height:parseInt(self.element.css('height'),10),top:parseInt(self.element.css('top'),10),left:parseInt(self.element.css('left'),10)};if(pr&&pr.length)$(pr[0]).css({width:data.width,height:data.height});self._updateCache(data);self._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options,el=self.element;var oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce)return;self.containerElement=$(ce);if(/document/.test(oc)||oc==document){self.containerOffset={left:0,top:0};self.containerPosition={left:0,top:0};self.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}else{var element=$(ce),p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name));});self.containerOffset=element.offset();self.containerPosition=element.position();self.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};var co=self.containerOffset,ch=self.containerSize.height,cw=self.containerSize.width,width=($.ui.hasScroll(ce,"left")?ce.scrollWidth:cw),height=($.ui.hasScroll(ce)?ce.scrollHeight:ch);self.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,ps=self.containerSize,co=self.containerOffset,cs=self.size,cp=self.position,pRatio=self._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=self.containerElement;if(ce[0]!=document&&(/static/).test(ce.css('position')))cop=co;if(cp.left<(self._helper?co.left:0)){self.size.width=self.size.width+(self._helper?(self.position.left-co.left):(self.position.left-cop.left));if(pRatio)self.size.height=self.size.width/o.aspectRatio;self.position.left=o.helper?co.left:0;}if(cp.top<(self._helper?co.top:0)){self.size.height=self.size.height+(self._helper?(self.position.top-co.top):self.position.top);if(pRatio)self.size.width=self.size.height*o.aspectRatio;self.position.top=self._helper?co.top:0;}self.offset.left=self.parentData.left+self.position.left;self.offset.top=self.parentData.top+self.position.top;var woset=Math.abs((self._helper?self.offset.left-cop.left:(self.offset.left-cop.left))+self.sizeDiff.width),hoset=Math.abs((self._helper?self.offset.top-cop.top:(self.offset.top-co.top))+self.sizeDiff.height);var isParent=self.containerElement.get(0)==self.element.parent().get(0),isOffsetRelative=/relative|absolute/.test(self.containerElement.css('position'));if(isParent&&isOffsetRelative)woset-=self.parentData.left;if(woset+self.size.width>=self.parentData.width){self.size.width=self.parentData.width-woset;if(pRatio)self.size.height=self.size.width/self.aspectRatio;}if(hoset+self.size.height>=self.parentData.height){self.size.height=self.parentData.height-hoset;if(pRatio)self.size.width=self.size.height*self.aspectRatio;}},stop:function(event,ui){var self=$(this).data("resizable"),o=self.options,cp=self.position,co=self.containerOffset,cop=self.containerPosition,ce=self.containerElement;var helper=$(self.helper),ho=helper.offset(),w=helper.outerWidth()-self.sizeDiff.width,h=helper.outerHeight()-self.sizeDiff.height;if(self._helper&&!o.animate&&(/relative/).test(ce.css('position')))$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});if(self._helper&&!o.animate&&(/static/).test(ce.css('position')))$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}});$.ui.plugin.add("resizable","ghost",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options,cs=self.size;self.ghost=self.originalElement.clone();self.ghost.css({opacity:.25,display:'block',position:'relative',height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass('ui-resizable-ghost').addClass(typeof o.ghost=='string'?o.ghost:'');self.ghost.appendTo(self.helper);},resize:function(event,ui){var self=$(this).data("resizable"),o=self.options;if(self.ghost)self.ghost.css({position:'relative',height:self.size.height,width:self.size.width});},stop:function(event,ui){var self=$(this).data("resizable"),o=self.options;if(self.ghost&&self.helper)self.helper.get(0).removeChild(self.ghost.get(0));}});$.ui.plugin.add("resizable","grid",{resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,cs=self.size,os=self.originalSize,op=self.originalPosition,a=self.axis,ratio=o._aspectRatio||event.shiftKey;o.grid=typeof o.grid=="number"?[o.grid,o.grid]:o.grid;var ox=Math.round((cs.width-os.width)/(o.grid[0]||1))*(o.grid[0]||1),oy=Math.round((cs.height-os.height)/(o.grid[1]||1))*(o.grid[1]||1);if(/^(se|s|e)$/.test(a)){self.size.width=os.width+ox;self.size.height=os.height+oy;}else if(/^(ne)$/.test(a)){self.size.width=os.width+ox;self.size.height=os.height+oy;self.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){self.size.width=os.width+ox;self.size.height=os.height+oy;self.position.left=op.left-ox;}else{self.size.width=os.width+ox;self.size.height=os.height+oy;self.position.top=op.top-oy;self.position.left=op.left-ox;}}});var num=function(v){return parseInt(v,10)||0;};var isNumber=function(value){return!isNaN(parseInt(value,10));};})(jQuery);;},{"all":".ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:0.1px;z-index:99999;display:block}.ui-resizable-disabled .ui-resizable-handle,.ui-resizable-autohide .ui-resizable-handle{display:none}.ui-resizable-n{cursor:n-resize;height:7px;width:100%;top:-5px;left:0}.ui-resizable-s{cursor:s-resize;height:7px;width:100%;bottom:-5px;left:0}.ui-resizable-e{cursor:e-resize;width:7px;right:-5px;top:0;height:100%}.ui-resizable-w{cursor:w-resize;width:7px;left:-5px;top:0;height:100%}.ui-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ui-resizable-sw{cursor:sw-resize;width:9px;height:9px;left:-5px;bottom:-5px}.ui-resizable-nw{cursor:nw-resize;width:9px;height:9px;left:-5px;top:-5px}.ui-resizable-ne{cursor:ne-resize;width:9px;height:9px;right:-5px;top:-5px}\n\n/* cache key: resourceloader:filter:minify-css:7:f8687212d5e59926ae1f30ea56db346e */\n"},{});mw.loader.implement("jquery.ui.slider",function($){(function($){var numPages=5;$.widget("ui.slider",$.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var self=this,o=this.options;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");if(o.disabled){this.element.addClass("ui-slider-disabled ui-disabled");}this.range=$([]);if(o.range){if(o.range===true){this.range=$("<div></div>");if(!o.values){o.values=[this._valueMin(),this._valueMin()];}if(o.values.length&&o.values.length!==2){o.values=[o.values[0],o.values[0]];}}else{this.range=$("<div></div>");}this.range.appendTo(this.element).addClass("ui-slider-range");if(o.range==="min"||o.range==="max"){this.range.addClass("ui-slider-range-"+o.range);}this.range.addClass("ui-widget-header");}if($(".ui-slider-handle",this.element).length===0){$("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");}if(o.values&&o.values.length){while($(".ui-slider-handle",this.element).length<o.values.length){$("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");}}this.handles=$(".ui-slider-handle",this.element).addClass("ui-state-default"+" ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(event){event.preventDefault();}).hover(function(){if(!o.disabled){$(this).addClass("ui-state-hover");}},function(){$(this).removeClass("ui-state-hover");}).focus(function(){if(!o.disabled){$(".ui-slider .ui-state-focus").removeClass("ui-state-focus");$(this).addClass("ui-state-focus");}else{$(this).blur();}}).blur(function(){$(this).removeClass("ui-state-focus");});this.handles.each(function(i){$(this).data("index.ui-slider-handle",i);});this.handles.keydown(function(event){var ret=true,index=$(this).data("index.ui-slider-handle"),allowed,curVal,newVal,step;if(self.options.disabled){return;}switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:ret=false;if(!self._keySliding){self._keySliding=true;$(this).addClass("ui-state-active");allowed=self._start(event,index);if(allowed===false){return;}}break;}step=self.options.step;if(self.options.values&&self.options.values.length){curVal=newVal=self.values(index);}else{curVal=newVal=self.value();}switch(event.keyCode){case $.ui.keyCode.HOME:newVal=self._valueMin();break;case $.ui.keyCode.END:newVal=self._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=self._trimAlignValue(curVal+((self._valueMax()-self._valueMin())/numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=self._trimAlignValue(curVal-((self._valueMax()-self._valueMin())/numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===self._valueMax()){return;}newVal=self._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===self._valueMin()){return;}newVal=self._trimAlignValue(curVal-step);break;}self._slide(event,index,newVal);return ret;}).keyup(function(event){var index=$(this).data("index.ui-slider-handle");if(self._keySliding){self._keySliding=false;self._stop(event,index);self._change(event,index);$(this).removeClass("ui-state-active");}});this._refreshValue();this._animateOff=false;},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-slider-disabled"+" ui-widget"+" ui-widget-content"+" ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this;},_mouseCapture:function(event){var o=this.options,position,normValue,distance,closestHandle,self,index,allowed,offset,mouseOverHandle;if(o.disabled){return false;}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;self=this;this.handles.each(function(i){var thisDistance=Math.abs(normValue-self.values(i));if(distance>thisDistance){distance=thisDistance;closestHandle=$(this);index=i;}});if(o.range===true&&this.values(1)===o.min){index+=1;closestHandle=$(this.handles[index]);}allowed=this._start(event,index);if(allowed===false){return false;}this._mouseSliding=true;self._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-(closestHandle.height()/2)-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)};normValue=this._normValueFromMouse(position);this._slide(event,index,normValue);this._animateOff=true;return true;},_mouseStart:function(event){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1;}if(percentMouse<0){percentMouse=0;}if(this.orientation==="vertical"){percentMouse=1-percentMouse;}valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}return this._trigger("start",event,uiHash);},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===true)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal))){newVal=otherVal;}if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false){this.values(index,newVal,true);}}}else{if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false){this.value(newVal);}}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}this._trigger("stop",event,uiHash);},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}this._trigger("change",event,uiHash);}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);}return this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);}if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}this._refreshValue();}else{if(this.options.values&&this.options.values.length){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if($.isArray(this.options.values)){valsLength=this.options.values.length;}$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"disabled":if(value){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled");}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled");}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1){this._change(null,i);}this._animateOff=false;break;}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else{vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}return vals;}},_trimAlignValue:function(val){if(val<this._valueMin()){return this._valueMin();}if(val>this._valueMax()){return this._valueMax();}var step=(this.options.step>0)?this.options.step:1,valModStep=val%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}return parseFloat(alignValue.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var oRange=this.options.range,o=this.options,self=this,animate=(!this._animateOff)?o.animate:false,valPercent,_set={},lastValPercent,value,valueMin,valueMax;if(this.options.values&&this.options.values.length){this.handles.each(function(i,j){valPercent=(self.values(i)-self._valueMin())/(self._valueMax()-self._valueMin())*100;_set[self.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(self.options.range===true){if(self.orientation==="horizontal"){if(i===0){self.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);}if(i===1){self.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}else{if(i===0){self.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);}if(i===1){self.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}}lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[self.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);}if(oRange==="max"&&this.orientation==="horizontal"){this.range[animate?"animate":"css"]({width:(100-valPercent)+"%"},{queue:false,duration:o.animate});}if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);}if(oRange==="max"&&this.orientation==="vertical"){this.range[animate?"animate":"css"]({height:(100-valPercent)+"%"},{queue:false,duration:o.animate});}}}});$.extend($.ui.slider,{version:"1.8.2"});}(jQuery));;},{"all":".ui-slider{position:relative;text-align:left}.ui-slider .ui-slider-handle{position:absolute;z-index:2;width:1.2em;height:1.2em;cursor:default}.ui-slider .ui-slider-range{position:absolute;z-index:1;font-size:.7em;display:block;border:0;background-position:0 0}.ui-slider-horizontal{height:.8em}.ui-slider-horizontal .ui-slider-handle{top:-.3em;margin-left:-.6em}.ui-slider-horizontal .ui-slider-range{top:0;height:100%}.ui-slider-horizontal .ui-slider-range-min{left:0}.ui-slider-horizontal .ui-slider-range-max{right:0}.ui-slider-vertical{width:.8em;height:100px}.ui-slider-vertical .ui-slider-handle{left:-.3em;margin-left:0;margin-bottom:-.6em}.ui-slider-vertical .ui-slider-range{left:0;width:100%}.ui-slider-vertical .ui-slider-range-min{bottom:0}.ui-slider-vertical .ui-slider-range-max{top:0}\n\n/* cache key: resourceloader:filter:minify-css:7:03fe24ffbdc391cc21800746d562fb5a */\n"},{});mw.loader.implement("jquery.ui.touchPunch",function($){(function($){jQuery.ui['touchPunch']=true;$.support.touch='ontouchend'in document;if(!$.support.touch){return;}var mouseProto=$.ui.mouse.prototype,_mouseInit=mouseProto._mouseInit,touchHandled;function simulateMouseEvent(event,simulatedType){if(event.originalEvent.touches.length>1){return;}event.preventDefault();var touch=event.originalEvent.changedTouches[0],simulatedEvent=document.createEvent('MouseEvents');simulatedEvent.initMouseEvent(simulatedType,true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);event.target.dispatchEvent(simulatedEvent);}mouseProto._touchStart=function(event){var self=this;if(touchHandled||!self._mouseCapture(event.originalEvent.changedTouches[0])){return;}touchHandled=true;self._touchMoved=false;simulateMouseEvent(event,'mouseover');simulateMouseEvent(event,'mousemove');simulateMouseEvent(event,'mousedown');};mouseProto._touchMove=function(event){if(!touchHandled){return;}this._touchMoved=true;simulateMouseEvent(event,'mousemove');};mouseProto._touchEnd=function(event){if(!touchHandled){return;}simulateMouseEvent(event,'mouseup');simulateMouseEvent(event,'mouseout');if(!this._touchMoved){simulateMouseEvent(event,'click');}touchHandled=false;};mouseProto._mouseInit=function(){var self=this;self.element.bind('touchstart',$.proxy(self,'_touchStart')).bind('touchmove',$.proxy(self,'_touchMove')).bind('touchend',$.proxy(self,'_touchEnd'));_mouseInit.call(self);};})(jQuery);;},{},{});mw.loader.implement("jquery.ui.widget",function($){(function($){var _remove=$.fn.remove;$.fn.remove=function(selector,keepData){return this.each(function(){if(!keepData){if(!selector||$.filter(selector,[this]).length){$("*",this).add(this).each(function(){$(this).triggerHandler("remove");});}}return _remove.call($(this),selector,keepData);});};$.widget=function(name,base,prototype){var namespace=name.split(".")[0],fullName;name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}$.expr[":"][fullName]=function(elem){return!!$.data(elem,name);};$[namespace]=$[namespace]||{};$[namespace][name]=function(options,element){if(arguments.length){this._createWidget(options,element);}};var basePrototype=new base();basePrototype.options=$.extend({},basePrototype.options);$[namespace][name].prototype=$.extend(true,basePrototype,{namespace:namespace,widgetName:name,widgetEventPrefix:$[namespace][name].prototype.widgetEventPrefix||name,widgetBaseClass:fullName},prototype);$.widget.bridge(name,$[namespace][name]);};$.widget.bridge=function(name,object){$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.extend.apply(null,[true,options].concat(args)):options;if(isMethodCall&&options.substring(0,1)==="_"){return returnValue;}if(isMethodCall){this.each(function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,name);if(instance){if(options){instance.option(options);}instance._init();}else{$.data(this,name,new object(options,this));}});}return returnValue;};};$.Widget=function(options,element){if(arguments.length){this._createWidget(options,element);}};$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(options,element){this.element=$(element).data(this.widgetName,this);this.options=$.extend(true,{},this.options,$.metadata&&$.metadata.get(element)[this.widgetName],options);var self=this;this.element.bind("remove."+this.widgetName,function(){self.destroy();});this._create();this._init();},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled");},widget:function(){return this.element;},option:function(key,value){var options=key,self=this;if(arguments.length===0){return $.extend({},self.options);}if(typeof key==="string"){if(value===undefined){return this.options[key];}options={};options[key]=value;}$.each(options,function(key,value){self._setOption(key,value);});return self;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget()[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",value);}return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_trigger:function(type,event,data){var callback=this.options[type];event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();data=data||{};if(event.originalEvent){for(var i=$.event.props.length,prop;i;){prop=$.event.props[--i];event[prop]=event.originalEvent[prop];}}this.element.trigger(event,data);return!($.isFunction(callback)&&callback.call(this.element[0],event,data)===false||event.isDefaultPrevented());}};})(jQuery);;},{},{});mw.loader.implement("mediawiki.Uri",function($){(function($,mw){function cat(pre,val,post,raw){if(val===undefined||val===null||val===''){return'';}else{return pre+(raw?val:mw.Uri.encode(val))+post;}}var parser={strict:/^(?:([^:\/?#]+):)?(?:\/\/(?:(?:([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)?((?:[^?#\/]*\/)*[^?#]*)(?:\?([^#]*))?(?:#(.*))?/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?(?:(?:([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?((?:\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?[^?#\/]*)(?:\?([^#]*))?(?:#(.*))?/},properties=['protocol','user','password','host','port','path','query','fragment'];mw.UriRelative=function(documentLocation){function Uri(uri,options){options=typeof options==='object'?options:{strictMode:!!options};options=$.extend({strictMode:false,overrideKeys:false},options);if(uri!==undefined&&uri!==null||uri!==''){if(typeof uri==='string'){this._parse(uri,options);}else if(typeof uri==='object'){var _this=this;$.each(properties,function(i,property){_this[property]=uri[property];});if(this.query===undefined){this.query={};}}}if(!this.protocol){this.protocol=defaultUri.protocol;}if(!this.host){this.host=defaultUri.host;if(!this.port){this.port=defaultUri.port;}}if(this.path&&this.path.charAt(0)!=='/'){throw new Error('Bad constructor arguments');}if(!(this.protocol&&this.host&&this.path)){throw new Error('Bad constructor arguments');}}Uri.encode=function(s){return encodeURIComponent(s).replace(/!/g,'%21').replace(/'/g,'%27').replace(/\(/g,'%28').replace(/\)/g,'%29').replace(/\*/g,'%2A').replace(/%20/g,'+');};Uri.decode=function(s){return decodeURIComponent(s.replace(/\+/g,'%20'));};Uri.prototype={_parse:function(str,options){var matches=parser[options.strictMode?'strict':'loose'].exec(str);var uri=this;$.each(properties,function(i,property){uri[property]=matches[i+1];});var q={};if(uri.query){uri.query.replace(/(?:^|&)([^&=]*)(?:(=)([^&]*))?/g,function($0,$1,$2,$3){if($1){var k=Uri.decode($1);var v=($2===''||$2===undefined)?null:Uri.decode($3);if(options.overrideKeys||q[k]===undefined){q[k]=v;}else{if(typeof q[k]==='string'){q[k]=[q[k]];}if($.isArray(q[k])){q[k].push(v);}}}});}this.query=q;},getUserInfo:function(){return cat('',this.user,cat(':',this.password,''));},getHostPort:function(){return this.host+cat(':',this.port,'');},getAuthority:function(){return cat('',this.getUserInfo(),'@')+this.getHostPort();},getQueryString:function(){var args=[];$.each(this.query,function(key,val){var k=Uri.encode(key);var vals=val===null?[null]:$.makeArray(val);$.each(vals,function(i,v){args.push(k+(v===null?'':'='+Uri.encode(v)));});});return args.join('&');},getRelativePath:function(){return this.path+cat('?',this.getQueryString(),'',true)+cat('#',this.fragment,'');},toString:function(){return this.protocol+'://'+this.getAuthority()+this.getRelativePath();},clone:function(){return new Uri(this);},extend:function(parameters){$.extend(this.query,parameters);return this;}};var defaultUri=new Uri(documentLocation);return Uri;};if(document&&document.location&&document.location.href){if(typeof document.location=='undefined'||!document.location.href){mw.Uri=mw.UriRelative('http://webview.com/fixme');}else{mw.Uri=mw.UriRelative(document.location.href);}}})(jQuery,mediaWiki);;},{},{});mw.loader.implement("mediawiki.UtilitiesTime",function($){(function(mw){mw.seconds2npt=function(sec,show_ms){if(isNaN(sec)){mw.log("Warning: mediawiki.UtilitiesTime, trying to get npt time on NaN:"+sec);return'0:00:00';}var tm=mw.seconds2Measurements(sec);if(show_ms){tm.seconds=Math.round(tm.seconds*1000)/1000;}else{tm.seconds=Math.round(tm.seconds);}if(tm.seconds<10){tm.seconds='0'+tm.seconds;}if(tm.hours==0){hoursStr='';}else{if(tm.minutes<10)tm.minutes='0'+tm.minutes;hoursStr=tm.hours+":";}return hoursStr+tm.minutes+":"+tm.seconds;};mw.seconds2Measurements=function(sec){var tm={};tm.days=Math.floor(sec/(3600*24));tm.hours=Math.floor(Math.round(sec)/3600);tm.minutes=Math.floor((Math.round(sec)/60)%60);tm.seconds=Math.round(sec)%60;return tm;};mw.measurements2seconds=function(timeMeasurements){var seconds=0;if(timeMeasurements.days){seconds+=parseInt(timeMeasurements.days,10)*24*3600;}if(timeMeasurements.hours){seconds+=parseInt(timeMeasurements.hours,10)*3600;}if(timeMeasurements.minutes){seconds+=parseInt(timeMeasurements.minutes,10)*60;}if(timeMeasurements.seconds){seconds+=parseInt(timeMeasurements.seconds,10);}if(timeMeasurements.milliseconds){seconds+=parseInt(timeMeasurements.milliseconds,10)/1000;}return seconds;};mw.npt2seconds=function(npt_str){if(!npt_str){return 0;}npt_str=npt_str.replace(/npt:|s/g,'');var hour=0;var min=0;var sec=0;times=npt_str.split(':');if(times.length==3){sec=times[2];min=times[1];hour=times[0];}else if(times.length==2){sec=times[1];min=times[0];}else{sec=times[0];}sec=sec.replace(/,\s?/,'.');return parseInt(hour*3600)+parseInt(min*60)+parseFloat(sec);};})(window.mediaWiki);;},{},{});mw.loader.implement("mediawiki.UtilitiesUrl",function($){(function(mw){mw.absoluteUrl=function(source,contextUrl){if(source.indexOf('http://')===0||source.indexOf('https://')===0){return source;}if(!contextUrl){contextUrl=document.URL;}var contextUrl=new mw.Uri(contextUrl);if(source.indexOf('//')===0){return contextUrl.protocol+':'+source;}if(contextUrl.directory==''&&contextUrl.protocol=='file'){var fileUrl=contextUrl.split('\\');fileUrl.pop();return fileUrl.join('\\')+'\\'+src;}if(source.indexOf('/')===0){return contextUrl.protocol+'://'+contextUrl.getAuthority()+source;}else{return contextUrl.protocol+'://'+contextUrl.getAuthority()+contextUrl.path+source;}};mw.isLocalDomain=function(url){if(!url){return false;}if((url.indexOf('http://')!=0&&url.indexOf('//')!=0&&url.indexOf('https://')!=0)||new mw.Uri(document.URL).host==new mw.Uri(url).host){return true;}return false;}})(window.mediaWiki);;},{},{});mw.loader.implement("mediawiki.client",function($){(function(mw){mw.isMobileDevice=function(){return(mw.isIphone()||mw.isIpod()||mw.isIpad()||mw.isAndroid())};mw.isIphone=function(){return(navigator.userAgent.indexOf('iPhone')!=-1&&!mw.isIpad());};mw.isIE9=function(){return(/msie 9/.test(navigator.userAgent.toLowerCase()));};mw.isIphone4=function(){return(mw.isIphone()&&(window.devicePixelRatio&&window.devicePixelRatio>=2));};mw.isIpod=function(){return(navigator.userAgent.indexOf('iPod')!=-1);};mw.isIpad=function(){return(navigator.userAgent.indexOf('iPad')!=-1);};mw.isIpad3=function(){return/OS 3_/.test(navigator.userAgent)&&mw.isIpad();};mw.isAndroid42=function(){return(navigator.userAgent.indexOf('Android 4.2')!=-1);};mw.isAndroid41=function(){return(navigator.userAgent.indexOf('Android 4.1')!=-1);};mw.isAndroid40=function(){return(navigator.userAgent.indexOf('Android 4.0')!=-1);};mw.isAndroid2=function(){return(navigator.userAgent.indexOf('Android 2.')!=-1);};mw.isAndroid=function(){return(navigator.userAgent.indexOf('Android')!=-1);};mw.isFirefox=function(){return(navigator.userAgent.indexOf('Firefox')!=-1);};mw.isMobileChrome=function(){return(navigator.userAgent.indexOf('Android 4.')!=-1&&navigator.userAgent.indexOf('Chrome')!=-1)};mw.isIOS=function(){return(mw.isIphone()||mw.isIpod()||mw.isIpad());};mw.isIOS3=function(){return/OS 3_/.test(navigator.userAgent)&&mw.isIOS();};mw.isIOS4=function(){return/OS 4_/.test(navigator.userAgent)&&mw.isIOS();};mw.isIOS5=function(){return/OS 5_/.test(navigator.userAgent)&&mw.isIOS();};mw.isHTML5FallForwardNative=function(){if(mw.isMobileHTML5()){return true;}if(document.URL.indexOf('forceMobileHTML5')!=-1){return true;}if(mw.supportsFlash()){return false;}if(mw.supportsHTML5()){return true;}return false;};mw.isMobileHTML5=function(){if(mw.isIphone()||mw.isIpod()||mw.isIpad()||mw.isAndroid2()){return true;}return false;};mw.supportsHTML5=function(){if(navigator.userAgent.indexOf('BlackBerry')!=-1){return false;}var dummyvid=document.createElement("video");if(dummyvid.canPlayType){return true;}return false;};mw.supportsFlash=function(){if(mw.getConfig('EmbedPlayer.DisableHTML5FlashFallback')){return false;}var majorVersion=this.getFlashVersion().split(',').shift();if(majorVersion<10){return false;}else{return true;}};mw.getFlashVersion=function(){if(navigator.plugins&&navigator.plugins.length){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1];}}catch(e){}}try{try{if(typeof ActiveXObject!='undefined'){var axo=new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6');try{axo.AllowScriptAccess='always';}catch(e){return'6,0,0';}}}catch(e){}return new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\D+/g,',').match(/^,?(.+),?$/)[1];}catch(e){}return'0,0,0';};})(window.mediaWiki);;},{},{});mw.loader.implement("mediawiki.jqueryMsg",function($){(function(mw,$,undefined){mw.jqueryMsg={};function getFailableParserFn(options){var parser=new mw.jqueryMsg.parser(options);return function(args){var key=args[0];var argsArray=$.isArray(args[1])?args[1]:$.makeArray(args).slice(1);try{return parser.parse(key,argsArray);}catch(e){return $('<span>').append(key+': '+e.message);}};}mw.jqueryMsg.getMessageFunction=function(options){var failableParserFn=getFailableParserFn(options);return function(){return failableParserFn(arguments).html();};};mw.jqueryMsg.getPlugin=function(options){var failableParserFn=getFailableParserFn(options);return function(){var $target=this.empty();$.each(failableParserFn(arguments).contents(),function(i,node){$target.append(node);});return $target;};};var parserDefaults={'magic':{'SITENAME':mw.config.get('wgSiteName')},'messages':mw.messages,'language':mw.language};mw.jqueryMsg.parser=function(options){this.settings=$.extend({},parserDefaults,options);this.emitter=new mw.jqueryMsg.htmlEmitter(this.settings.language,this.settings.magic);};mw.jqueryMsg.parser.prototype={astCache:{},parse:function(key,replacements){return this.emitter.emit(this.getAst(key),replacements);},getAst:function(key){if(this.astCache[key]===undefined){var wikiText=this.settings.messages.get(key);if(typeof wikiText!=='string'){wikiText="\\["+key+"\\]";}this.astCache[key]=this.wikiTextToAst(wikiText);}return this.astCache[key];},wikiTextToAst:function(input){var pos=0;function choice(ps){return function(){for(var i=0;i<ps.length;i++){var result=ps[i]();if(result!==null){return result;}}return null;};}function sequence(ps){var originalPos=pos;var result=[];for(var i=0;i<ps.length;i++){var res=ps[i]();if(res===null){pos=originalPos;return null;}result.push(res);}return result;}function nOrMore(n,p){return function(){var originalPos=pos;var result=[];var parsed=p();while(parsed!==null){result.push(parsed);parsed=p();}if(result.length<n){pos=originalPos;return null;}return result;};}function transform(p,fn){return function(){var result=p();return result===null?null:fn(result);};}function makeStringParser(s){var len=s.length;return function(){var result=null;if(input.substr(pos,len)===s){result=s;pos+=len;}return result;};}function makeRegexParser(regex){return function(){var matches=input.substr(pos).match(regex);if(matches===null){return null;}pos+=matches[0].length;return matches[0];};}var regularLiteral=makeRegexParser(/^[^{}[\]$\\]/);var regularLiteralWithoutBar=makeRegexParser(/^[^{}[\]$\\|]/);var regularLiteralWithoutSpace=makeRegexParser(/^[^{}[\]$\s]/);var backslash=makeStringParser("\\");var anyCharacter=makeRegexParser(/^./);function escapedLiteral(){var result=sequence([backslash,anyCharacter]);return result===null?null:result[1];}var escapedOrLiteralWithoutSpace=choice([escapedLiteral,regularLiteralWithoutSpace]);var escapedOrLiteralWithoutBar=choice([escapedLiteral,regularLiteralWithoutBar]);var escapedOrRegularLiteral=choice([escapedLiteral,regularLiteral]);function literalWithoutSpace(){var result=nOrMore(1,escapedOrLiteralWithoutSpace)();return result===null?null:result.join('');}function literalWithoutBar(){var result=nOrMore(1,escapedOrLiteralWithoutBar)();return result===null?null:result.join('');}function literal(){var result=nOrMore(1,escapedOrRegularLiteral)();return result===null?null:result.join('');}var whitespace=makeRegexParser(/^\s+/);var dollar=makeStringParser('$');var digits=makeRegexParser(/^\d+/);function replacement(){var result=sequence([dollar,digits]);if(result===null){return null;}return['REPLACE',parseInt(result[1],10)-1];}var openExtlink=makeStringParser('[');var closeExtlink=makeStringParser(']');function extlink(){var result=null;var parsedResult=sequence([openExtlink,nonWhitespaceExpression,whitespace,expression,closeExtlink]);if(parsedResult!==null){result=['LINK',parsedResult[1],parsedResult[3]];}return result;}function extLinkParam(){var result=sequence([openExtlink,dollar,digits,whitespace,expression,closeExtlink]);if(result===null){return null;}return['LINKPARAM',parseInt(result[2],10)-1,result[4]];}var openLink=makeStringParser('[[');var closeLink=makeStringParser(']]');function link(){var result=null;var parsedResult=sequence([openLink,expression,closeLink]);if(parsedResult!==null){result=['WLINK',parsedResult[1]];}return result;}var templateName=transform(makeRegexParser(/^[ !"$&'()*,.\/0-9;=?@A-Z\^_`a-z~\x80-\xFF+-]+/),function(result){return result.toString();});function templateParam(){var result=sequence([pipe,nOrMore(0,paramExpression)]);if(result===null){return null;}var expr=result[1];return expr.length>1?["CONCAT"].concat(expr):expr[0];}var pipe=makeStringParser('|');function templateWithReplacement(){var result=sequence([templateName,colon,replacement]);return result===null?null:[result[0],result[2]];}function templateWithOutReplacement(){var result=sequence([templateName,colon,paramExpression]);return result===null?null:[result[0],result[2]];}var colon=makeStringParser(':');var templateContents=choice([function(){var res=sequence([choice([templateWithReplacement,templateWithOutReplacement]),nOrMore(0,templateParam)]);return res===null?null:res[0].concat(res[1]);},function(){var res=sequence([templateName,nOrMore(0,templateParam)]);if(res===null){return null;}return[res[0]].concat(res[1]);}]);var openTemplate=makeStringParser('{{');var closeTemplate=makeStringParser('}}');function template(){var result=sequence([openTemplate,templateContents,closeTemplate]);return result===null?null:result[1];}var nonWhitespaceExpression=choice([template,link,extLinkParam,extlink,replacement,literalWithoutSpace]);var paramExpression=choice([template,link,extLinkParam,extlink,replacement,literalWithoutBar]);var expression=choice([template,link,extLinkParam,extlink,replacement,literal]);function start(){var result=nOrMore(0,expression)();if(result===null){return null;}return["CONCAT"].concat(result);}var result=start();if(result===null||pos!==input.length){throw new Error("Parse error at position "+pos.toString()+" in input: "+input);}return result;}};mw.jqueryMsg.htmlEmitter=function(language,magic){this.language=language;var _this=this;$.each(magic,function(key,val){_this[key.toLowerCase()]=function(){return val;};});this.emit=function(node,replacements){var ret=null;var _this=this;switch(typeof node){case'string':case'number':ret=node;break;case'object':var subnodes=$.map(node.slice(1),function(n){return _this.emit(n,replacements);});var operation=node[0].toLowerCase();if(typeof _this[operation]==='function'){ret=_this[operation](subnodes,replacements);}else{throw new Error('unknown operation "'+operation+'"');}break;case'undefined':ret='';break;default:throw new Error('unexpected type in AST: '+typeof node);}return ret;};};mw.jqueryMsg.htmlEmitter.prototype={concat:function(nodes){var span=$('<span>').addClass('mediaWiki_htmlEmitter');$.each(nodes,function(i,node){if(node instanceof jQuery&&node.hasClass('mediaWiki_htmlEmitter')){$.each(node.contents(),function(j,childNode){span.append(childNode);});}else{span.append(node);}});return span;},replace:function(nodes,replacements){var index=parseInt(nodes[0],10);if(index<replacements.length){if(typeof arg==='string'){return mw.html.escape(replacements[index]);}else{return replacements[index];}}else{return'$'+(index+1);}},wlink:function(nodes){return"unimplemented";},link:function(nodes){var arg=nodes[0];var contents=nodes[1];var $el;if(arg instanceof jQuery){$el=arg;}else{$el=$('<a>');if(typeof arg==='function'){$el.click(arg).attr('href','#');}else{$el.attr('href',arg.toString());}}$el.append(contents);return $el;},linkparam:function(nodes,replacements){var replacement,index=parseInt(nodes[0],10);if(index<replacements.length){replacement=replacements[index];}else{replacement='$'+(index+1);}return this.link([replacement,nodes[1]]);},plural:function(nodes){var count=parseInt(this.language.convertNumber(nodes[0],true),10);var forms=nodes.slice(1);return forms.length?this.language.convertPlural(count,forms):'';},gender:function(nodes){var gender;if(nodes[0]&&nodes[0].options instanceof mw.Map){gender=nodes[0].options.get('gender');}else{gender=nodes[0];}var forms=nodes.slice(1);return this.language.gender(gender,forms);},grammar:function(nodes){var form=nodes[0];var word=nodes[1];return word&&form&&this.language.convertGrammar(word,form);}};window.gM=mw.jqueryMsg.getMessageFunction();$.fn.msg=mw.jqueryMsg.getPlugin();var oldParser=mw.Message.prototype.parser;mw.Message.prototype.parser=function(){if(this.map.get(this.key).indexOf('{{')<0){return oldParser.apply(this);}var messageFunction=mw.jqueryMsg.getMessageFunction({'messages':this.map});return messageFunction(this.key,this.parameters);};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mediawiki.language",function($){mediaWiki.language={'pluralProcessor':function(template){if(template.arg&&template.parameters&&mediaWiki.language.convertPlural){if(template.parameters.length==0){return'';}var count=mediaWiki.language.convertNumber(template.arg,true);return mediaWiki.language.convertPlural(parseInt(count),template.parameters);}if(template.parameters[0]){return template.parameters[0];}return'';},'convertPlural':function(count,forms){if(!forms||forms.length==0){return'';}return(parseInt(count)==1)?forms[0]:forms[1];},'preConvertPlural':function(forms,count){while(forms.length<count){forms.push(forms[forms.length-1]);}return forms;},'convertNumber':function(number,integer){if(!mediaWiki.language.digitTransformTable){return number;}var transformTable=mediaWiki.language.digitTransformTable;if(integer){if(parseInt(number)==number){return number;}var tmp=[];for(var i in transformTable){tmp[transformTable[i]]=i;}transformTable=tmp;}var numberString=''+number;var convertedNumber='';for(var i=0;i<numberString.length;i++){if(transformTable[numberString[i]]){convertedNumber+=transformTable[numberString[i]];}else{convertedNumber+=numberString[i];}}return integer?parseInt(convertedNumber):convertedNumber;},'digitTransformTable':null};;},{},{});mw.loader.implement("mediawiki.util",function($){(function($,mw){"use strict";var util={init:function(){var profile,$tocTitle,$tocToggleLink,hideTocCookie;$.messageBoxNew({id:'mw-js-message',parent:'#content'});profile=$.client.profile();if(profile.name==='opera'){util.tooltipAccessKeyPrefix='shift-esc-';}else if(profile.name==='chrome'){util.tooltipAccessKeyPrefix=(profile.platform==='mac'?'ctrl-option-':profile.platform==='win'?'alt-shift-':'alt-');}else if(profile.platform!=='win'&&profile.name==='safari'&&profile.layoutVersion>526){util.tooltipAccessKeyPrefix='ctrl-alt-';}else if(!(profile.platform==='win'&&profile.name==='safari')&&(profile.name==='safari'||profile.platform==='mac'||profile.name==='konqueror')){util.tooltipAccessKeyPrefix='ctrl-';}else if(profile.name==='firefox'&&profile.versionBase>'1'){util.tooltipAccessKeyPrefix='alt-shift-';}if($('#bodyContent').length){util.$content=$('#bodyContent');}else if($('#mw_contentholder').length){util.$content=$('#mw_contentholder');}else if($('#article').length){util.$content=$('#article');}else{util.$content=$('#content');}$tocTitle=$('#toctitle');$tocToggleLink=$('#togglelink');if($('#toc').length&&$tocTitle.length&&!$tocToggleLink.length){hideTocCookie=$.cookie('mw_hidetoc');$tocToggleLink=$('<a href="#" class="internal" id="togglelink"></a>').text(mw.msg('hidetoc')).click(function(e){e.preventDefault();util.toggleToc($(this));});$tocTitle.append($tocToggleLink.wrap('<span class="toctoggle"></span>').parent().prepend('&nbsp;[').append(']&nbsp;'));if(hideTocCookie==='1'){util.toggleToc($tocToggleLink);}}},rawurlencode:function(str){str=String(str);return encodeURIComponent(str).replace(/!/g,'%21').replace(/'/g,'%27').replace(/\(/g,'%28').replace(/\)/g,'%29').replace(/\*/g,'%2A').replace(/~/g,'%7E');},wikiUrlencode:function(str){return util.rawurlencode(str).replace(/%20/g,'_').replace(/%3A/g,':').replace(/%2F/g,'/');},wikiGetlink:function(str){return mw.config.get('wgArticlePath').replace('$1',util.wikiUrlencode(typeof str==='string'?str:mw.config.get('wgPageName')));},wikiScript:function(str){return mw.config.get('wgScriptPath')+'/'+(str||'index')+mw.config.get('wgScriptExtension');},addCSS:function(text){var s=mw.loader.addStyleTag(text);return s.sheet||s;},toggleToc:function($toggleLink,callback){var $tocList=$('#toc ul:first');if($tocList.length){if($tocList.is(':hidden')){$tocList.slideDown('fast',callback);$toggleLink.text(mw.msg('hidetoc'));$('#toc').removeClass('tochidden');$.cookie('mw_hidetoc',null,{expires:30,path:'/'});return true;}else{$tocList.slideUp('fast',callback);$toggleLink.text(mw.msg('showtoc'));$('#toc').addClass('tochidden');$.cookie('mw_hidetoc','1',{expires:30,path:'/'});return false;}}else{return null;}},getParamValue:function(param,url){url=url||document.location.href;var re=new RegExp('^[^#]*[&?]'+$.escapeRE(param)+'=([^&#]*)'),m=re.exec(url);if(m){return decodeURIComponent(m[1].replace(/\+/g,'%20'));}return null;},tooltipAccessKeyPrefix:'alt-',tooltipAccessKeyRegexp:/\[(ctrl-)?(alt-)?(shift-)?(esc-)?(.)\]$/,updateTooltipAccessKeys:function($nodes){if(!$nodes){$nodes=$('#column-one a, #mw-head a, #mw-panel a, #p-logo a, input, label');}else if(!($nodes instanceof $)){$nodes=$($nodes);}$nodes.attr('title',function(i,val){if(val&&util.tooltipAccessKeyRegexp.exec(val)){return val.replace(util.tooltipAccessKeyRegexp,'['+util.tooltipAccessKeyPrefix+'$5]');}return val;});},$content:null,addPortletLink:function(portlet,href,text,id,tooltip,accesskey,nextnode){var $item,$link,$portlet,$ul;if(arguments.length<3){return null;}$link=$('<a>').attr('href',href).text(text);if(tooltip){$link.attr('title',tooltip);}switch(mw.config.get('skin')){case'standard':case'cologneblue':$('#quickbar').append($link.after('<br/>'));return $link[0];case'nostalgia':$('#searchform').before($link).before(' &#124; ');return $link[0];default:$portlet=$('#'+portlet);if($portlet.length===0){return null;}$ul=$portlet.find('ul').eq(0);if($ul.length===0){$ul=$('<ul>');if($portlet.find('div:first').length===0){$portlet.append($ul);}else{$portlet.find('div').eq(-1).append($ul);}}if($ul.length===0){return null;}$portlet.removeClass('emptyPortlet');if($portlet.hasClass('vectorTabs')){$item=$link.wrap('<li><span></span></li>').parent().parent();}else{$item=$link.wrap('<li></li>').parent();}if(id){$item.attr('id',id);}if(accesskey){$link.attr('accesskey',accesskey);tooltip+=' ['+accesskey+']';$link.attr('title',tooltip);}if(accesskey&&tooltip){util.updateTooltipAccessKeys($link);}if(nextnode&&nextnode.parentNode===$ul[0]){$(nextnode).before($item);}else if(typeof nextnode==='string'&&$ul.find(nextnode).length!==0){$ul.find(nextnode).eq(0).before($item);}else{$ul.append($item);}return $item[0];}},jsMessage:function(message,className){if(!arguments.length||message===''||message===null){$('#mw-js-message').empty().hide();return true;}else{var $messageDiv=$('#mw-js-message');if(!$messageDiv.length){$messageDiv=$('<div id="mw-js-message"></div>');if(util.$content.parent().length){util.$content.parent().prepend($messageDiv);}else{return false;}}if(className){$messageDiv.prop('class','mw-js-message-'+className);}if(typeof message==='object'){$messageDiv.empty();$messageDiv.append(message);}else{$messageDiv.html(message);}$messageDiv.slideDown();return true;}},validateEmail:function(mailtxt){var rfc5322_atext,rfc1034_ldh_str,HTML5_email_regexp;if(mailtxt===''){return null;}rfc5322_atext="a-z0-9!#$%&'*+\\-/=?^_`{|}~";rfc1034_ldh_str="a-z0-9\\-";HTML5_email_regexp=new RegExp('^'+'['+rfc5322_atext+'\\.]+'+'@'+'['+rfc1034_ldh_str+']+'+'(?:\\.['+rfc1034_ldh_str+']+)*'+'$','i');return(null!==mailtxt.match(HTML5_email_regexp));},isIPv4Address:function(address,allowBlock){if(typeof address!=='string'){return false;}var block=allowBlock?'(?:\\/(?:3[0-2]|[12]?\\d))?':'',RE_IP_BYTE='(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|0?[0-9]?[0-9])',RE_IP_ADD='(?:'+RE_IP_BYTE+'\\.){3}'+RE_IP_BYTE;return address.search(new RegExp('^'+RE_IP_ADD+block+'$'))!==-1;},isIPv6Address:function(address,allowBlock){if(typeof address!=='string'){return false;}var block=allowBlock?'(?:\\/(?:12[0-8]|1[01][0-9]|[1-9]?\\d))?':'',RE_IPV6_ADD='(?:'+':(?::|(?::'+'[0-9A-Fa-f]{1,4}'+'){1,7})'+'|'+'[0-9A-Fa-f]{1,4}'+'(?::'+'[0-9A-Fa-f]{1,4}'+'){0,6}::'+'|'+'[0-9A-Fa-f]{1,4}'+'(?::'+'[0-9A-Fa-f]{1,4}'+'){7}'+')';if(address.search(new RegExp('^'+RE_IPV6_ADD+block+'$'))!==-1){return true;}RE_IPV6_ADD='[0-9A-Fa-f]{1,4}'+'(?:::?'+'[0-9A-Fa-f]{1,4}'+'){1,6}';return address.search(new RegExp('^'+RE_IPV6_ADD+block+'$'))!==-1&&address.search(/::/)!==-1&&address.search(/::.*::/)===-1;}};mw.util=util;})(jQuery,mediaWiki);;},{},{"showtoc":"[showtoc]","hidetoc":"[hidetoc]"});mw.loader.implement("mw.AdLoader",function($){(function(mw,$){"use strict";mw.AdLoader={maxRedirects:5,currentCounter:0,load:function(adUrl,callback,wrapped){var _this=this;adUrl=_this.replaceCacheBuster(adUrl);mw.log('AdLoader :: load Ad: ',adUrl);if(wrapped){this.currentCounter++;}else{this.currentCounter=0;}if(this.currentCounter>=this.maxRedirects){mw.log("Error: The allowed number of redirects is "+this.maxRedirects);callback({});return;}new mw.ajaxProxy({url:adUrl,success:function(resultXML){_this.handleResult(resultXML,callback);},error:function(error){mw.log("Error: AdLoader failed to load:"+adUrl);callback({});}});},handleResult:function(data,callback){var _this=this;if(typeof data==='string'){var xmlPosition=data.indexOf("<?xml");if(xmlPosition>0){var junk=data.substr(0,xmlPosition);data=data.replace(junk,'');}try{data=$.parseXML(data);}catch(error){}}switch(_this.getAdFormat(data)){case'vast':mw.load('mw.VastAdParser',function(){mw.VastAdParser.parse(data,callback);});return;break;}mw.log("Error: could not parse adFormat from add content: \n"+data);callback(false);},getAdFormat:function(xmlObject){if(xmlObject&&xmlObject.childNodes){var rootNodeName=xmlObject.childNodes[0].nodeName;}if(rootNodeName&&(rootNodeName.toLowerCase()=='vast'||rootNodeName.toLowerCase()=='videoadservingtemplate')){return'vast';}return'unknown';},replaceCacheBuster:function(adUrl){var cacheBusters=['[timestamp]','[cachebuster]','[random]','[randnum]'];var timestamp=Math.round(+new Date()/1000);for(var i=0;i<cacheBusters.length;i++){adUrl=adUrl.replace(cacheBusters[i],timestamp);}return adUrl;}};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.AdTimeline",function($){(function(mw,$){"use strict";mw.addAdTimeline=function(embedPlayer){embedPlayer.adTimeline=new mw.AdTimeline(embedPlayer);};mw.AdTimeline=function(embedPlayer){return this.init(embedPlayer);};mw.AdTimeline.prototype={adOverlaysEnabled:true,originalSource:false,firstPlay:true,bindPostfix:'.AdTimeline',currentAdSlotType:null,init:function(embedPlayer){this.embedPlayer=embedPlayer;this.bindPlayer();},updateSequenceProxy:function(propName,value){this.embedPlayer.sequenceProxy[propName]=value;},bindPlayer:function(){var _this=this;var embedPlayer=this.embedPlayer;_this.originalSource=embedPlayer.getSource();_this.destroy();embedPlayer.sequenceProxy={'isInSequence':false,'timeRemaining':0,'duration':0};embedPlayer.bindHelper('onChangeMedia'+_this.bindPostfix,function(){_this.destroy();});_this.displayedSlotCount=0;embedPlayer.bindHelper('preSequence'+_this.bindPostfix,function(){var orgDuration=embedPlayer.duration;embedPlayer.triggerHelper('AdSupport_PreSequence');var playedAnAdFlag=false;embedPlayer.bindHelper('AdSupport_StartAdPlayback'+_this.bindPostfix,function(){mw.log("AdTimeline:: set Played an ad flag to true");playedAnAdFlag=true;});mw.log("AdTimeline:: load ads, trigger: AdSupport_OnPlayAdLoad");embedPlayer.pauseLoading();embedPlayer.triggerQueueCallback('AdSupport_OnPlayAdLoad',function(){mw.log("AdTimeline:: AdSupport_OnPlayAdLoad ");_this.displaySlots('preroll',function(){if(_this.displayedSlotCount>0&&!$.isEmptyObject(_this.getSequenceProxy('bumper'))){_this.embedPlayer.triggerHelper('AdSupport_EndAdPlayback','preroll');}_this.displaySlots('bumper',function(){embedPlayer.switchPlaySource(_this.originalSource,function(){embedPlayer.sequenceProxy.isInSequence=false;embedPlayer.triggerHelper('AdSupport_PreSequenceComplete');if(playedAnAdFlag){_this.displayedSlotCount=0;}_this.restorePlayer(null,playedAnAdFlag);embedPlayer.setDuration(orgDuration);embedPlayer.play();});});});});});var displayedPostroll=false;embedPlayer.bindHelper('ended'+_this.bindPostfix,function(event){if(displayedPostroll){return;}var playedAnAdFlag=false;embedPlayer.bindHelper('AdSupport_StartAdPlayback'+_this.bindPostfix,function(){playedAnAdFlag=true;});displayedPostroll=true;mw.log('AdTimeline:: AdSupport_StartAdPlayback set onDoneInterfaceFlag = false');embedPlayer.onDoneInterfaceFlag=false;setTimeout(function(){embedPlayer.triggerHelper('AdSupport_PostSequence');_this.displaySlots('postroll',function(){embedPlayer.sequenceProxy.isInSequence=false;embedPlayer.triggerHelper('AdSupport_PostSequenceComplete');if(playedAnAdFlag){embedPlayer.switchPlaySource(_this.originalSource,function(video){video.pause();$(video).bind('play.postSequenceComplete',function(){video.pause();$(video).unbind('.postSequenceComplete');});_this.restorePlayer('postroll',true);embedPlayer.onDoneInterfaceFlag=true;embedPlayer.stopped=false;embedPlayer.onClipDone();});}else{embedPlayer.onDoneInterfaceFlag=true;embedPlayer.stopped=false;embedPlayer.onClipDone();}});},0)});},destroy:function(){var _this=this;_this.firstPlay=true;$(_this.embedPlayer).unbind(_this.bindPostfix);},getSequenceProxy:function(slotType){var sequenceProxy={};this.embedPlayer.triggerHelper('AdSupport_'+slotType,[sequenceProxy]);return sequenceProxy;},displaySlots:function(slotType,doneCallback){var _this=this;var sequenceProxy=_this.getSequenceProxy(slotType);var keyList=[];$.each(sequenceProxy,function(k,na){keyList.push(k);});mw.log("AdTimeline:: displaySlots: "+slotType+' found sequenceProxy length: '+keyList.length);if(!keyList.length){doneCallback();return;}keyList.sort();var seqInx=0;var runSequeceProxyInx=function(seqInx){_this.embedPlayer.sequenceProxy.isInSequence=true;var key=keyList[seqInx];if(!sequenceProxy[key]){doneCallback();return;}sequenceProxy[key](function(){_this.displayedSlotCount++;seqInx++;if(sequenceProxy[keyList[seqInx]]){_this.embedPlayer.triggerHelper('AdSupport_EndAdPlayback',_this.currentAdSlotType);}runSequeceProxyInx(seqInx);});};runSequeceProxyInx(seqInx);},updateUiForAdPlayback:function(slotType){if(!slotType){mw.log("Error:: please supply an ad type, "+slotType+' provided.');slotType='';}mw.log("AdTimeline:: updateUiForAdPlayback: slotType:"+slotType);var embedPlayer=this.embedPlayer;this.currentAdSlotType=slotType;embedPlayer.stopEventPropagation();embedPlayer.disablePlayControls();embedPlayer.playInterfaceUpdate();embedPlayer.hideSpinnerAndPlayBtn();embedPlayer.sequenceProxy.isInSequence=true;mw.log('AdTimeline:: trigger: AdSupport_'+slotType+'Started');embedPlayer.triggerHelper('AdSupport_'+slotType+'Started');mw.log('AdTimeline:: trigger: AdSupport_StartAdPlayback');embedPlayer.triggerHelper('AdSupport_StartAdPlayback',slotType);},restorePlayer:function(slotType,playedAd){if(!this.currentAdSlotType){mw.log("Error:: AdTimeline missing currentAdSlotType on player restore ( assume preroll )");this.currentAdSlotType='preroll';}if(!slotType){slotType=this.currentAdSlotType;}mw.log("AdTimeline:: restorePlayer ");var embedPlayer=this.embedPlayer;embedPlayer.restoreEventPropagation();embedPlayer.enablePlayControls();embedPlayer.startMonitor();embedPlayer.seeking=false;embedPlayer.sequenceProxy.isInSequence=false;if(playedAd){mw.log('AdTimeline:: trigger: AdSupport_EndAdPlayback')
embedPlayer.triggerHelper('AdSupport_EndAdPlayback',this.currentAdSlotType);mw.log('AdTimeline:: trigger: AdSupport_'+slotType.replace('roll','')+'SequenceComplete')
embedPlayer.triggerHelper('AdSupport_'+slotType.replace('roll','')+'SequenceComplete');}}};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.BaseAdPlugin",function($){(function(mw,$){"use strict";mw.BaseAdPlugin=function(embedPlayer,callback){return this.init(embedPlayer,callback);};mw.BaseAdPlugin.prototype={init:function(embedPlayer,callback){this.embedPlayer=embedPlayer;return this;},getSequenceIndex:function(slotType){var _this=this;if(slotType=='preroll'&&_this.getConfig('preSequence')){return _this.getConfig('preSequence');}if(slotType=='postroll'&&_this.getConfig('postSequence')){return _this.getConfig('postSequence');}return 1;},destroy:function(){$(this.embedPlayer).unbind(this.bindPostfix);}};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.DoubleClick",function($){(function(mw,$){"use strict";mw.DoubleClick=function(embedPlayer,callback,pluginName){this.init(embedPlayer,callback,pluginName);};mw.DoubleClick.prototype={bindPostfix:'.DoubleClick',content:null,globalVolume:1,adsLoader:null,adsManager:null,adActive:false,adPaused:false,adMonitor:null,adPreviousTimeLeft:null,contentPlaying:false,adDuration:null,demoStartTime:null,contentDoneFlag:null,startedAdPlayback:null,allAdsCompletedFlag:null,currentAdSlotType:null,init:function(embedPlayer,callback,pluginName){var _this=this;this.embedPlayer=embedPlayer;mw.inherit(this,new mw.BaseAdPlugin(embedPlayer,callback));this.pluginName=pluginName;this.contentDoneFlag=null;this.allAdsCompletedFlag=null;embedPlayer.unbindHelper(this.bindPostfix);var globalAdsManger=$(_this.embedPlayer).data('doubleClickAdsMangerRef');if(globalAdsManger){mw.log("DoubleClick::unload old adManger");if($.isFunction(globalAdsManger.unload)){globalAdsManger.unload();}if($('#'+this.getAdContainerId()).length){$('#'+this.getAdContainerId()).remove();}}this.loadIma(function(){if(_this.getConfig("preSequence")&&_this.getConfig("adTagUrl")){if(_this.getConfig('adPattern')){var adIndex=_this.getAdPatternIndex();mw.log("DoubleClick:: adPattern: "+_this.getConfig('adPattern')+" on index: "+adIndex);if(adIndex=='A'){_this.addManagedBinding();}}else{_this.addManagedBinding();}}else{_this.addKalturaCuePointBindings();}callback();},function(errorCode){mw.log("Error::DoubleClick Loading Error: "+errorCode);callback();});},getAdPatternIndex:function(){var adPattern=this.getConfig('adPattern');var currentAdIndex=$(this.embedPlayer).data('DcAdPatternIndex');if(typeof currentAdIndex==='undefined'){currentAdIndex=0;}else{currentAdIndex++
if(currentAdIndex>adPattern.length-1){currentAdIndex=0;}}$(this.embedPlayer).data('DcAdPatternIndex',currentAdIndex);return adPattern[currentAdIndex];},loadIma:function(successCB,failureCB){$.getScript('//s0.2mdn.net/instream/html5/ima3.js',function(){successCB();}).fail(function(jqxhr,settings,errorCode){failureCB(errorCode);});},addManagedBinding:function(){var _this=this;mw.log("DoubleClick::addManagedBinding");_this.embedPlayer.bindHelper('AdSupport_preroll'+_this.bindPostfix,function(event,sequenceProxy){sequenceProxy[_this.getSequenceIndex('preroll')]=function(callback){_this.currentAdSlotType='preroll';_this.restorePlayerCallback=callback;mw.log("DoubleClick:: addManagedBinding : requestAds:"+_this.getConfig('adTagUrl'));_this.requestAds(_this.getConfig('adTagUrl'));};});_this.embedPlayer.bindHelper('AdSupport_postroll'+_this.bindPostfix,function(event,sequenceProxy){sequenceProxy[_this.getSequenceIndex('postroll')]=function(callback){_this.restorePlayerCallback=callback;_this.contentDoneFlag=true;_this.currentAdSlotType='postroll';_this.adsLoader.contentComplete();};});},getContent:function(){return this.embedPlayer.getPlayerElement();},addKalturaCuePointBindings:function(){var _this=this;mw.log("DoubleClick::addKalturaCuePointBindings");_this.embedPlayer.bindHelper('KalturaSupport_AdOpportunity'+_this.bindPostfix,function(event,cuePointWrapper){mw.log("DoubleClick:: evaluate ad oppertunity");var cuePoint=cuePointWrapper.cuePoint;if(_this.getConfig('trackCuePoints')===false){mw.log("DoubleClick:: trackCuePoints is false");return;}if(cuePoint.protocolType!==0||cuePoint.cuePointType!='adCuePoint.Ad'){mw.log("DoubleClick:: cuePoint protocol != 0 or type != adCuePoint.ad");return;}var providerFilter=_this.getConfig('provider');if(providerFilter&&cuePoint.tags.toLowerCase().indexOf(providerFilter.toLowerCase())===-1){mw.log("DoubleClick:: skip cuePoint with tag: "+cuePoint.tags+' != '+providerFilter);return;}var adType=_this.embedPlayer.kCuePoints.getRawAdSlotType(cuePoint);mw.log("DoubleClick:: AdOpportunity:: "+cuePoint.startTime+' ad type: '+adType);if(adType=='overlay'){_this.loadAndDisplayOverlay(cuePoint);return true;}_this.currentAdSlotType=adType;if(adType=='preroll'||adType=='postroll'){_this.embedPlayer.bindHelper('AdSupport_'+adType+_this.bindPostfix,function(event,sequenceProxy){sequenceProxy[_this.getSequenceIndex(adType)]=function(callback){_this.restorePlayerCallback=callback;mw.log("DoubleClick:: addManagedBinding : cuePoint:"+adType);_this.requestAds(cuePoint.sourceUrl);};});}if(adType=='midroll'){mw.log("DoubleClick:: addKalturaCuePointBindings: midroll -> requestAds");_this.embedPlayer.pauseLoading();_this.requestAds(cuePoint.sourceUrl);}});},loadAndDisplayOverlay:function(cuePoint){var _this=this;if(this.embedPlayer.evaluate('{sequenceProxy.isInSequence}')){return;}_this.requestAds(cuePoint.sourceUrl,'overlay');},getAdContainer:function(){if(!$('#'+this.getAdContainerId()).length){this.embedPlayer.$interface.append($('<div />').attr('id',this.getAdContainerId()).css({'position':'absolute','top':'0px','left':'0px'}))}return $('#'+this.getAdContainerId()).get(0);},getAdContainerId:function(){return'adContainer'+this.embedPlayer.id;},getAdDisplayContainer:function(){if(!this.adDisplayContainer){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.getAdContainer(),this.getContent());}return this.adDisplayContainer;},initContent:function(){},addCustomParams:function(adUrl){var postFix=this.getConfig('customParams')?'cust_params='+encodeURIComponent(this.getConfig('customParams')):'';if(postFix){var paramSeperator=adUrl.indexOf('?')===-1?'?':adUrl[adUrl.length-1]=='&'?'':'&';return unescape(adUrl)+paramSeperator+postFix;}else{return unescape(adUrl);}},addAdRequestParams:function(adTagUrl){var _this=this;var paramSep=adTagUrl.indexOf('?')===-1?'?':'&';var adRequestMap={'contentId':'vid','cmsId':'cmsid'}
$.each(adRequestMap,function(uiconfId,paramId){if(_this.getConfig(uiconfId)){adTagUrl+=paramSep+paramId+'='+encodeURIComponent(_this.getConfig(uiconfId));paramSep='&';}});return adTagUrl;},requestAds:function(adTagUrl,adType){var _this=this;adTagUrl=_this.addCustomParams(adTagUrl);adTagUrl=_this.addAdRequestParams(adTagUrl);mw.log("DoubleClick::requestAds: url: "+adTagUrl);_this.embedPlayer.setKDPAttribute(this.pluginName,'requestedAdTagUrl',adTagUrl);var adsRequest={};adsRequest.adTagUrl=adTagUrl;if(adType){adsRequest['adType']=adType;}var size=_this.getPlayerSize();adsRequest.linearAdSlotWidth=size.width;adsRequest.linearAdSlotHeight=size.height;adsRequest.nonLinearAdSlotWidth=size.width;adsRequest.nonLinearAdSlotHeight=size.height;this.getAdDisplayContainer();_this.adsLoader=new google.ima.AdsLoader(_this.adDisplayContainer);_this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(event){_this.onAdsManagerLoaded(event);},false);_this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(event){_this.onAdError(event);},false);_this.adsLoader.requestAds(adsRequest);},isSiblingVideoAd:function(){return(this.getConfig('videoTagSiblingAd')&&!mw.isIOS());},onAdsManagerLoaded:function(loadedEvent){var _this=this;mw.log('DoubleClick:: onAdsManagerLoaded');_this.adsManager=loadedEvent.getAdsManager(this.getContent());$(_this.embedPlayer).data('doubleClickAdsMangerRef',_this.adsManager);_this.addAdMangerListeners();_this.addEmbedPlayerListeners();_this.adsManager.init(_this.embedPlayer.getWidth(),_this.embedPlayer.getHeight(),google.ima.ViewMode.NORMAL);_this.adsManager.setVolume(_this.embedPlayer.getPlayerElementVolume());mw.log("DoubleClick::adsManager.play");_this.adsManager.start();},addAdMangerListeners:function(){var _this=this;var adsListener=function(eventType,callback){_this.adsManager.addEventListener(google.ima.AdEvent.Type[eventType],function(event){mw.log("DoubleClick::AdsEvent:"+eventType);if($.isFunction(callback)){callback(event);}},false);}
_this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(event){_this.onAdError(event)},false);var lastAdStartTime=null;adsListener('CLICK');adsListener('CONTENT_PAUSE_REQUESTED',function(event){_this.startedAdPlayback=function(){_this.embedPlayer.adTimeline.updateUiForAdPlayback(_this.currentAdSlotType);_this.startedAdPlayback=null;}
_this.embedPlayer.pauseLoading();setTimeout(function(){if($.isFunction(_this.startedAdPlayback)){_this.onAdError(" CONTENT_PAUSE_REQUESTED without no ad LOADED! ");}},12000);});adsListener('LOADED',function(){if(_this.startedAdPlayback){_this.startedAdPlayback();}var size=_this.getPlayerSize();_this.adsManager.resize(size.width,size.height,google.ima.ViewMode.NORMAL);_this.hideContent();_this.embedPlayer.addPlayerSpinner();_this.hidePlayerOffScreen(_this.getAdContainer());_this.monitorAdProgress();});adsListener('STARTED',function(){if(lastAdStartTime!==null&&new Date().getTime()-lastAdStartTime<250){mw.log("ERROR:: Stacking Ad STARTED! :"+(lastAdStartTime-new Date().getTime()));return;}else{mw.log('DoubleClick:: time delta since last adStart: '+(new Date().getTime()-lastAdStartTime));}lastAdStartTime=new Date().getTime();if(_this.startedAdPlayback){_this.startedAdPlayback();}_this.embedPlayer.hideSpinnerAndPlayBtn();_this.embedPlayer.playInterfaceUpdate();if(_this.embedPlayer.isPersistantPlayBtn()){_this.embedPlayer.addLargePlayBtn();}_this.hideContent();_this.adActive=true;_this.embedPlayer.sequenceProxy.isInSequence=true;_this.adStartTime=new Date().getTime();if(_this.getConfig('playPauseUI')){_this.enablePausePlayUI(true);}_this.monitorAdProgress();});adsListener('PAUSED',function(){_this.embedPlayer.sendNotification('doPause');_this.enablePausePlayUI(false);});adsListener('FIRST_QUARTILE',function(){_this.monitorAdProgress();});adsListener('MIDPOINT');adsListener('THIRD_QUARTILE');adsListener('COMPLETE',function(){if(_this.embedPlayer.controlBuilder){}if(_this.contentDoneFlag){setTimeout(function(){if(!_this.allAdsCompletedFlag){mw.log("DoubleClick:: Fallback ALL_ADS_COMPLETED call");_this.restorePlayer(true);}},1000);}});adsListener('CONTENT_RESUME_REQUESTED',function(){if(_this.currentAdSlotType=='preroll'){_this.currentAdSlotType='midroll';}_this.restorePlayer();});adsListener('ALL_ADS_COMPLETED',function(){if(_this.contentDoneFlag){_this.allAdsCompletedFlag=true;_this.restorePlayer(true);}});},enablePausePlayUI:function(adPlayingBack){var _this=this;this.embedPlayer.$interface.find('.play-btn').buttonHover().css('cursor','pointer');var a=(adPlayingBack)?'play':'pause';var b=(adPlayingBack)?'pause':'play';this.embedPlayer.$interface.find('.play-btn span').removeClass('ui-icon-'+a).addClass('ui-icon-'+b);this.embedPlayer.$interface.find('.play-btn').unbind('click').click(function(){mw.log("DoubleClick::proxied play btn click: isPlaying:"+adPlayingBack);if(adPlayingBack){_this.embedPlayer.sendNotification('doPause');}else{_this.embedPlayer.sendNotification('doPlay');}})},getPlayerSize:function(){return this.embedPlayer.controlBuilder.getPlayerSize();},hideContent:function(){mw.log("DoubleClick:: hide Content / show Ads");var _this=this;$(this.getAdContainer()).css({'top':0,'left':0});if(this.adsManager&&this.adsManager.resize){var size=this.getPlayerSize();this.adsManager.resize(size.width,size.height,google.ima.ViewMode.NORMAL);}if(this.isSiblingVideoAd()){this.hidePlayerOffScreen(this.getContent())}},showContent:function(){mw.log("DoubleClick:: show Content / hide Ads");$(this.getContent()).show();$(this.getContent()).css({'visibility':'visible','width':'100%','height':'100%'});this.hidePlayerOffScreen(this.getAdContainer());},hidePlayerOffScreen:function(target){$(target).css({'position':'absolute','left':'-4048px'})},addEmbedPlayerListeners:function(){var _this=this;var embedPlayer=this.embedPlayer;embedPlayer.bindHelper('updateLayout'+this.bindPostfix,function(){if(_this.adActive){var width=embedPlayer.getInterface().width();var height=embedPlayer.getInterface().height()
mw.log("DoubleClick::onResizePlayer: size:"+width+' x '+height);_this.adsManager.resize(width,height,google.ima.ViewMode.NORMAL);}});embedPlayer.bindHelper('volumeChanged'+this.bindPostfix,function(event,percent){if(_this.adActive){mw.log("DoubleClick::volumeChanged:"+percent);_this.adsManager.setVolume(percent);}});embedPlayer.bindHelper('Kaltura_SendNotification'+this.bindPostfix,function(event,notificationName,notificationData){if(_this.adActive){mw.log("DoubleClick:: sendNotification: "+notificationName);switch(notificationName){case'doPause':_this.adPaused=true;_this.adsManager.pause();$(embedPlayer).trigger('onpause');if(_this.getConfig('playPauseUI')){_this.enablePausePlayUI(false);}break;case'doPlay':_this.adPaused=false;_this.adsManager.resume()
$(embedPlayer).trigger('onplay');if(_this.getConfig('playPauseUI')){_this.enablePausePlayUI(true);}_this.monitorAdProgress();break;case'doStop':_this.adsManager.stop();_this.adActive=false;_this.embedPlayer.sequenceProxy.isInSequence=false;_this.embedPlayer.stop();break;}}});},monitorAdProgress:function(){var _this=this;if(!this.adMonitor){this.adMonitor=setInterval(function(){_this.doMonitorAdProgress();},mw.getConfig('EmbedPlayer.MonitorRate'));}},doMonitorAdProgress:function(){var _this=this;if(!_this.adActive){_this.embedPlayer.adTimeline.updateSequenceProxy('timeRemaining',null);_this.embedPlayer.adTimeline.updateSequenceProxy('duration',null);clearInterval(this.adMonitor);this.adMonitor=0;return;}if(_this.adPreviousTimeLeft==_this.adsManager.getRemainingTime()){_this.adPreviousTimeLeft=null;if(_this.activeBufferUnderunCheck){return;}_this.activeBufferUnderunCheck=true;setTimeout(function(){if(_this.adActive&&!_this.adPaused&&_this.adPreviousTimeLeft==_this.adsManager.getRemainingTime()){mw.log("DoubleClick:: buffer underun pause?  try to continue playback ");_this.adsManager.resume();_this.adPreviousTimeLeft=_this.adsManager.getRemainingTime();}_this.activeBufferUnderunCheck=false;},2000);}_this.embedPlayer.hideSpinnerAndPlayBtn();_this.adPreviousTimeLeft=_this.adsManager.getRemainingTime();_this.embedPlayer.adTimeline.updateSequenceProxy('timeRemaining',_this.adsManager.getRemainingTime());var $adVid=(_this.isSiblingVideoAd())?$(_this.getAdContainer()).find('video'):$(_this.getContent());if($adVid.length){var vid=$adVid[$adVid.length-1];_this.embedPlayer.adTimeline.updateSequenceProxy('duration',vid.duration);_this.embedPlayer.triggerHelper('AdSupport_AdUpdatePlayhead',vid.currentTime);_this.embedPlayer.controlBuilder.setStatus(mw.seconds2npt(vid.currentTime)+'/'+mw.seconds2npt(vid.duration));_this.embedPlayer.updatePlayHead(vid.currentTime/vid.duration);}},onAdError:function(errorEvent){var errorMsg=(typeof errorEvent.getError!='undefined')?errorEvent.getError():errorEvent;mw.log('DoubleClick:: onAdError: '+errorMsg);if(this.adsManager&&$.isFunction(this.adsManager.unload)){this.adsManager.unload();}this.restorePlayer();},restorePlayer:function(onContentComplete){mw.log("DoubleClick::restorePlayer: content complete:"+onContentComplete);var _this=this;this.adActive=false;this.embedPlayer.sequenceProxy.isInSequence=false;this.showContent();setTimeout(function(){$(_this.getContent()).css('visibility','visible');},250);if($.isFunction(this.restorePlayerCallback)){this.restorePlayerCallback();this.restorePlayerCallback=null;}else{this.embedPlayer.adTimeline.restorePlayer();if(onContentComplete){this.embedPlayer.onClipDone();}else{this.embedPlayer.play();}}if(!onContentComplete){this.forceContentPlay();}},forceContentPlay:function(){var _this=this;var vid=this.getContent();var isPlaying=false;var playBindStr='playing.dcForceContentPlay';$(vid).unbind(playBindStr).bind(playBindStr,function(){isPlaying=true;if(vid.duration){_this.embedPlayer.duration=vid.duration;}$(vid).unbind(playBindStr);});vid.play();setTimeout(function(){var vid=_this.getContent();if(!isPlaying&&!_this.embedPlayer.paused){vid.play();_this.forceContentPlay();}},4000);},getConfig:function(attrName){return this.embedPlayer.getKalturaConfig(this.pluginName,attrName);}};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.EmbedPlayer",function($){(function(mw,$){"use strict";mw.processEmbedPlayers=function(playerSelect,callback){mw.log('processEmbedPlayers:: playerSelector: '+playerSelect);var playerIdList=[];var areSelectedPlayersReady=function(){var playersLoaded=true;$.each(playerIdList,function(inx,playerId){if(!$('#'+playerId)[0].playerReadyFlag){playersLoaded=false;return false;}})
if(playersLoaded){if(callback){callback();}}}
var addPlayerElement=function(playerElement){var _this=this;mw.log('EmbedPlayer:: addElement:: '+playerElement.id);if(playerElement.pause){playerElement.pause();}$(mw).trigger('EmbedPlayerWaitForMetaCheck',playerElement);var waitForMeta=false;if(playerElement.waitForMeta!==false){waitForMeta=waitForMetaCheck(playerElement);}var ranPlayerSwapFlag=false;var runPlayerSwap=function(){if(ranPlayerSwapFlag){return;}ranPlayerSwapFlag=true;mw.log("processEmbedPlayers::runPlayerSwap::"+$(playerElement).attr('id'));var playerInterface=new mw.EmbedPlayer(playerElement);var inDomPlayer=swapEmbedPlayerElement(playerElement,playerInterface);mw.log("processEmbedPlayers::trigger:: EmbedPlayerNewPlayer "+inDomPlayer.id);$(mw).trigger('EmbedPlayerNewPlayer',inDomPlayer);$(mw).trigger('newEmbedPlayerEvent',inDomPlayer);if($(mw).data('events')&&$(mw).data('events')['newEmbedPlayerEvent']){mw.log("processEmbedPlayers:: Warning, newEmbedPlayerEvent is deprecated, please use EmbedPlayerNewPlayer");$(mw).trigger('newEmbedPlayerEvent',inDomPlayer);}$(inDomPlayer).bind('playerReady',areSelectedPlayersReady);mw.log("EmbedPlayer::addPlayerElement :trigger startPlayerBuildOut:"+inDomPlayer.id);$('#'+inDomPlayer.id).triggerQueueCallback('startPlayerBuildOut',function(){inDomPlayer.checkPlayerSources();});};if(waitForMeta&&mw.getConfig('EmbedPlayer.WaitForMeta')){mw.log('processEmbedPlayers::WaitForMeta ( video missing height ('+$(playerElement).attr('height')+'), width ('+$(playerElement).attr('width')+') or duration: '+$(playerElement).attr('duration'));$(playerElement).bind("loadedmetadata",runPlayerSwap);setTimeout(runPlayerSwap,5000);return;}else{runPlayerSwap();return;}};var waitForMetaCheck=function(playerElement){var waitForMeta=false;if(!playerElement){return false;}if(!playerElement.tagName||(playerElement.tagName.toLowerCase()!='audio'&&playerElement.tagName.toLowerCase()!='video')){return false;}if(!mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('oggNative')&&!mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('webmNative')&&!mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('h264Native')&&!mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('appleVdnPlayer')){return false;}var width=$(playerElement).css('width');var height=$(playerElement).css('height');if($(playerElement).css('width')=='300px'&&$(playerElement).css('height')=='150px'){waitForMeta=true;}else{if($(playerElement).attr('duration')||$(playerElement).attr('durationHint')||$(playerElement).attr('data-durationhint')){return false;}else{waitForMeta=true;}}if($(playerElement).attr('width')==-1||$(playerElement).attr('height')==-1){waitForMeta=true;}if($(playerElement).attr('width')===0||$(playerElement).attr('height')===0){waitForMeta=true;}if(playerElement.height==150&&playerElement.width==300){waitForMeta=true;}if(waitForMeta&&($(playerElement).attr('src')||$(playerElement).find("source[src]").length!==0)){return true;}else{return false;}};var swapEmbedPlayerElement=function(targetElement,playerInterface){mw.log('processEmbedPlayers::swapEmbedPlayerElement: '+targetElement.id);var swapPlayerElement=document.createElement('div');$(swapPlayerElement).addClass('mwEmbedPlayer');for(var method in playerInterface){if(method!='readyState'){swapPlayerElement[method]=playerInterface[method];}}if($(targetElement).attr('width')){$(swapPlayerElement).css('width',$(targetElement).attr('width'));}if($(targetElement).attr('height')){$(swapPlayerElement).css('height',$(targetElement).attr('height'));}swapPlayerElement.style.cssText+=targetElement.style.cssText;swapPlayerElement.style.position='relative';var dataAttributes=mw.getConfig("EmbedPlayer.DataAttributes");if(dataAttributes){$.each(dataAttributes,function(attrName,na){if($(targetElement).data(attrName)){$(swapPlayerElement).data(attrName,$(targetElement).data(attrName));}});}if((playerInterface.isPersistentNativePlayer()&&!mw.getConfig('EmbedPlayer.DisableVideoTagSupport'))||(playerInterface.useNativePlayerControls()&&(targetElement.nodeName=='video'||targetElement.nodeName=='audio'))){$(targetElement).attr('id',playerInterface.pid).addClass('nativeEmbedPlayerPid').show().after($(swapPlayerElement).css('display','none'));}else{$(targetElement).replaceWith(swapPlayerElement);}if($('#loadingSpinner_'+playerInterface.id).length==0&&!$.browser.mozilla){if(playerInterface.useNativePlayerControls()||playerInterface.isPersistentNativePlayer()){var $spinner=$(targetElement).getAbsoluteOverlaySpinner();}else{var $spinner=$(swapPlayerElement).getAbsoluteOverlaySpinner();}$spinner.attr('id','loadingSpinner_'+playerInterface.id);}return swapPlayerElement;};$(playerSelect).each(function(index,playerElement){playerIdList.push($(playerElement).attr("id"));if(playerElement.nodeName.toLowerCase()=='div'&&$(playerElement).attr('poster')){var posterSrc=$(playerElement).attr('poster');var width=$(playerElement).width();var height=$(playerElement).height();if(!width){var width='100%';}if(!height){var height='100%';}mw.log('EmbedPlayer:: set loading background: '+posterSrc);$(playerElement).append($('<img />').attr('src',posterSrc).css({'position':'absolute','width':width,'height':height}));}});var addedPlayersFlag=false;mw.log("processEmbedPlayers:: Do: "+$(playerSelect).length+' players ');$(playerSelect).each(function(index,playerElement){if($(playerElement).hasClass('nativeEmbedPlayerPid')){$('#loadingSpinner_'+$(playerElement).attr('id')).remove();mw.log('processEmbedPlayers::$.embedPlayer skip embedPlayer gennerated video: '+playerElement);}else{addedPlayersFlag=true;addPlayerElement(playerElement);}});if(!addedPlayersFlag){if(callback){callback();}}};})(window.mw,jQuery);(function(mw,$){"use strict";mw.mergeConfig('EmbedPlayer.Attributes',{"id":null,"width":null,"height":null,"src":null,"poster":null,"autoplay":false,"loop":false,"controls":true,"paused":true,"readyState":0,"networkState":0,"currentTime":0,"previousTime":0,"previousVolume":1,"volume":0.75,"preMuteVolume":0.75,"duration":null,'data-durationhint':null,'durationHint':null,"muted":false,'videoAspect':'4:3',"start":0,"end":null,"overlaycontrols":true,"usenativecontrols":false,'attributionbutton':true,'playerError':{},'data-blockPlayerDisplay':null,"startOffset":0,"downloadLink":true,"type":null,"adsOnReplay":false,"live":false});mw.mergeConfig('EmbedPlayer.SourceAttributes',['id','src','title','label','URLTimeEncoding','startOffset','start','end','default','title','titleKey']);mw.EmbedPlayer=function(element){return this.init(element);};mw.EmbedPlayer.prototype={'mediaElement':null,'supports':{},'playerReadyFlag':false,'loadError':false,'thumbnailUpdatingFlag':false,'stopped':true,'cmmlData':null,'serverSeekTime':0,'seeking':false,'bufferedPercent':0,'monitorTimerId':null,'bufferStartFlag':false,'bufferEndFlag':false,'pauseTime':null,'donePlayingCount':0,'_propagateEvents':true,'onDoneInterfaceFlag':true,'_checkHideSpinner':false,'_playContorls':true,'displayPlayer':true,'widgetLoaded':false,init:function(element){var _this=this;mw.log('EmbedPlayer: initEmbedPlayer: '+$(element).width()+'x'+$(element).height());var playerAttributes=mw.getConfig('EmbedPlayer.Attributes');this.rewriteElementTagName=element.tagName.toLowerCase();for(var attr in playerAttributes){if(element.getAttribute(attr)!=null){if(element.getAttribute(attr)==''){this[attr]=true;}else{this[attr]=element.getAttribute(attr);}}else{this[attr]=playerAttributes[attr];}if(this[attr]=="false")this[attr]=false;if(this[attr]=="true")this[attr]=true;}if(!this.width){this.width=$(element).width()
$(element).attr('width',this.width)}if(!this.height){this.height=$(element).height()
$(element).attr('height',this.height)}if(this.useNativePlayerControls()){_this.controls=true;}var sn=$(element).attr('class');if(sn&&sn!=''){var skinList=mw.getConfig('EmbedPlayer.SkinList');for(var n=0;n<skinList.length;n++){if(sn.indexOf(skinList[n].toLowerCase())!==-1){this.skinName=skinList[n];}}}if(!this.skinName){this.skinName=mw.getConfig('EmbedPlayer.DefaultSkin');}if(!this.monitorRate){this.monitorRate=mw.getConfig('EmbedPlayer.MonitorRate');}if(this.startOffset&&this.startOffset.split(':').length>=2){this.startOffset=parseFloat(mw.npt2seconds(this.startOffset));}this.startOffset=parseFloat(this.startOffset);if(element.duration){_this.duration=element.duration;}if(_this['data-durationhint']){_this.durationHint=_this['data-durationhint'];}if(_this.durationHint&&!_this.duration){_this.duration=mw.npt2seconds(_this.durationHint);}this.duration=parseFloat(this.duration);mw.log('EmbedPlayer::init:'+this.id+" duration is: "+this.duration);this.pid='pid_'+this.id;this.mediaElement=new mw.MediaElement(element);},bindHelper:function(name,callback){$(this).bind(name,callback);return this;},unbindHelper:function(bindName){if(bindName){$(this).unbind(bindName);}return this;},triggerQueueCallback:function(name,callback){$(this).triggerQueueCallback(name,callback);},triggerHelper:function(name,obj){try{$(this).trigger(name,obj);}catch(e){}},stopEventPropagation:function(){mw.log("EmbedPlayer:: stopEventPropagation");this.stopMonitor();this._propagateEvents=false;},restoreEventPropagation:function(){mw.log("EmbedPlayer:: restoreEventPropagation");this._propagateEvents=true;this.startMonitor();},enablePlayControls:function(){mw.log("EmbedPlayer:: enablePlayControls");if(this.useNativePlayerControls()){return;}this._playContorls=true;this.getInterface().find('.play-btn').buttonHover().css('cursor','pointer');this.controlBuilder.addPlayerTouchBindings();this.controlBuilder.enableSeekBar();$(this).trigger('onEnableInterfaceComponents');},disablePlayControls:function(excludingComponents){mw.log("EmbedPlayer:: disablePlayControls");if(this.useNativePlayerControls()){return;}this._playContorls=false;this.getInterface().find('.play-btn').unbind('mouseenter mouseleave').css('cursor','default');this.controlBuilder.removePlayerTouchBindings();this.controlBuilder.disableSeekBar();$(this).trigger('onDisableInterfaceComponents',[excludingComponents]);},updateFeatureSupport:function(){mw.log("EmbedPlayer::updateFeatureSupport trigger: updateFeatureSupportEvent");$(this).trigger('updateFeatureSupportEvent',this.supports);return;},applyIntrinsicAspect:function(){var $this=$(this);if(this.getInterface().find('.playerPoster').length){var img=this.getInterface().find('.playerPoster')[0];var pHeight=this.getVideoHolder().height();if(img.naturalWidth&&img.naturalHeight){var pWidth=parseInt(img.naturalWidth/img.naturalHeight*pHeight);if(pWidth>$this.width()){pWidth=$this.width();pHeight=parseInt(img.naturalHeight/img.naturalWidth*pWidth);}var $parent=$(img).parent();$(img).hide().clone().css({'height':pHeight+'px','width':pWidth+'px','left':(($this.width()-pWidth)*.5)+'px','top':(($this.height()-pHeight)*.5)+'px','position':'absolute'}).appendTo($parent).show();$(img).remove();}}},loadPlayerSize:function(element){this.height=element.height>0?element.height+'':$(element).css('height');this.width=element.width>0?element.width+'':$(element).css('width');if(this.height=='32px'||this.height=='32px'){this.width='100%';this.height='100%';}mw.log('EmbedPlayer::loadPlayerSize: css size:'+this.width+' h: '+this.height);if(this.height.indexOf('100%')!=-1||this.width.indexOf('100%')!=-1){var $relativeParent=$(element).parents().filter(function(){return $(this).is('body')||$(this).css('position')=='relative';}).slice(0,1);this.width=$relativeParent.width();this.height=$relativeParent.height();}this.height=parseInt(this.height);this.width=parseInt(this.width);this.height=(this.height==0||isNaN(this.height)&&$(element).attr('height'))?parseInt($(element).attr('height')):this.height;this.width=(this.width==0||isNaN(this.width)&&$(element).attr('width'))?parseInt($(element).attr('width')):this.width;if(this.isAudio()&&this.height=='32'){this.height=20;}if(this.isAudio()&&this.videoAspect){var aspect=this.videoAspect.split(':');if(this.height&&!this.width){this.width=parseInt(this.height*(aspect[0]/aspect[1]));}if(this.width&&!this.height){var apectRatio=(aspect[1]/aspect[0]);this.height=parseInt(this.width*(aspect[1]/aspect[0]));}}if((isNaN(this.height)||isNaN(this.width))||(this.height==-1||this.width==-1)||((this.height==150||this.height==64)&&this.width==300)){var defaultSize=mw.getConfig('EmbedPlayer.DefaultSize').split('x');if(isNaN(this.width)){this.width=defaultSize[0];}if(this.isAudio()){this.height=20;}else{this.height=defaultSize[1];}}},getPlayerWidth:function(){if($.browser.mozilla&&parseFloat($.browser.version)<2){return($(this).parent().parent().width());}if(mw.getConfig('EmbedPlayer.IsIframeServer')){return $(window).width();}return this.getVideoHolder().width();},getPlayerHeight:function(){return this.getVideoHolder().height();},checkPlayerSources:function(){mw.log('EmbedPlayer::checkPlayerSources: '+this.id);var _this=this;$(_this).trigger('preCheckPlayerSources');$(_this).triggerQueueCallback('checkPlayerSourcesEvent',function(){_this.setupSourcePlayer();});},getTextTracks:function(){if(!this.mediaElement){return[];}return this.mediaElement.getTextTracks();},emptySources:function(){if(this.mediaElement){this.mediaElement.sources=[];this.mediaElement.selectedSource=null;}this.prevPlayer=this.selectedPlayer;},switchPlaySource:function(source,switchCallback,doneCallback){var _this=this;var targetPlayer=mw.EmbedTypes.getMediaPlayers().defaultPlayer(source.mimeType);if(targetPlayer.library!=this.selectedPlayer.library){this.selectedPlayer=targetPlayer;this.updatePlaybackInterface(function(){_this.playerSwitchSource(source,switchCallback,doneCallback);});}else{_this.playerSwitchSource(source,switchCallback,doneCallback);}},playerSwitchSource:function(source,switchCallback,doneCallback){mw.log("Error player interface must support actual source switch");},setupSourcePlayer:function(){var _this=this;mw.log("EmbedPlayer::setupSourcePlayer: "+this.id+' sources: '+this.mediaElement.sources.length);if(mw.getConfig('EmbedPlayer.ReplaceSources')){this.emptySources();$.each(mw.getConfig('EmbedPlayer.ReplaceSources'),function(inx,source){_this.mediaElement.tryAddSource(source);});}this.mediaElement.autoSelectSource();if(this.mediaElement.selectedSource){this.selectedPlayer=mw.EmbedTypes.getMediaPlayers().defaultPlayer(this.mediaElement.selectedSource.mimeType);if(this.selectedPlayer&&(!this.prevPlayer||this.prevPlayer.library!=this.selectedPlayer.library)){this.updatePlaybackInterface();return;}}if(!this.selectedPlayer||!this.mediaElement.selectedSource){this.showPlayerError();mw.log("EmbedPlayer:: setupSourcePlayer > player ready ( but with errors ) ");}else{$(this).trigger('layoutReady');this.getInterface().find('.control-bar').show();this.addLargePlayBtn();}this.playerReadyFlag=true;$(this).trigger('playerReady');this.triggerWidgetLoaded();},updatePlaybackInterface:function(callback){var _this=this;mw.log("EmbedPlayer::updatePlaybackInterface: duration is: "+this.getDuration()+' playerId: '+this.id);if(this.instanceOf){$(this).data('previousInstanceOf',this.instanceOf);var tmpObj=mw['EmbedPlayer'+this.instanceOf];var attributes=mw.getConfig('EmbedPlayer.Attributes');for(var i in tmpObj){if(i in attributes){continue;}if(typeof this['parent_'+i]!='undefined'){this[i]=this['parent_'+i];}else{this[i]=null;}}}this.selectedPlayer.load(function(){mw.log('EmbedPlayer::updatePlaybackInterface: loaded '+_this.selectedPlayer.library+' duration: '+_this.getDuration());_this.updateLoadedPlayerInterface(callback);});},updateLoadedPlayerInterface:function(callback){var _this=this;mw.log('EmbedPlayer::updateLoadedPlayerInterface '+_this.selectedPlayer.library+" player loaded for: "+_this.id);var playerInterface=mw['EmbedPlayer'+_this.selectedPlayer.library];if(playerInterface.init){playerInterface.init();}for(var method in playerInterface){if(typeof _this[method]!='undefined'&&!_this['parent_'+method]){_this['parent_'+method]=_this[method];}_this[method]=playerInterface[method];}_this.updateFeatureSupport();_this.embedPlayerHTML();_this.getDuration();_this.showPlayer();if($.isFunction(callback)){callback();}},selectPlayer:function(player){mw.log("EmbedPlayer:: selectPlayer "+player.id);var _this=this;if(this.selectedPlayer.id!=player.id){this.selectedPlayer=player;this.updatePlaybackInterface(function(){_this.getInterface().find('.track').remove();if(!_this.useNativePlayerControls()&&_this.controls&&_this.controlBuilder.isOverlayControls()){_this.controlBuilder.showControlBar();_this.getInterface().hoverIntent({'sensitivity':4,'timeout':2000,'over':function(){_this.controlBuilder.showControlBar();},'out':function(){_this.controlBuilder.hideControlBar();}});}});}},getTimeRange:function(){var endTime=(this.controlBuilder&&this.controlBuilder.longTimeDisp&&!this.isLive())?'/'+mw.seconds2npt(this.getDuration()):'';var defaultTimeRange='0:00'+endTime;if(!this.mediaElement){return defaultTimeRange;}if(!this.mediaElement.selectedSource){return defaultTimeRange;}if(!this.mediaElement.selectedSource.endNpt){return defaultTimeRange;}return this.mediaElement.selectedSource.startNpt+this.mediaElement.selectedSource.endNpt;},getDuration:function(){if(isNaN(this.duration)&&this.mediaElement&&this.mediaElement.selectedSource&&typeof this.mediaElement.selectedSource.durationHint!='undefined'){this.duration=this.mediaElement.selectedSource.durationHint;}return this.duration;},getHeight:function(){return this.getInterface().height();},getWidth:function(){return this.getInterface().width();},isAudio:function(){return(this.rewriteElementTagName=='audio'||(this.mediaElement&&this.mediaElement.selectedSource&&this.mediaElement.selectedSource.mimeType.indexOf('audio/')!==-1));},embedPlayerHTML:function(){return'Error: function embedPlayerHTML should be implemented by embed player interface ';},seek:function(percent,stopAfterSeek){var _this=this;this.seeking=true;$(this).trigger('preSeek',percent);if(percent<0){percent=0;}if(percent>1){percent=1;}this.updatePlayHead(percent);if(this.supportsURLTimeEncoding()){mw.log('EmbedPlayer::seek:: updated serverSeekTime: '+mw.seconds2npt(this.serverSeekTime)+' currentTime: '+_this.currentTime);if(_this.currentTime==_this.serverSeekTime){return;}this.stop();this.didSeekJump=true;this.serverSeekTime=mw.npt2seconds(this.startNpt)+parseFloat(percent*this.getDuration());}this.controlBuilder.onSeek();},setCurrentTime:function(time,callback){mw.log('Error: EmbedPlayer, setCurrentTime not overriden');if($.isFunction(callback)){callback();}},setDuration:function(newDuration){this.duration=newDuration;if(this.controlBuilder){this.updatePlayheadStatus();}},triggeredEndDone:false,postSequenceFlag:false,onClipDone:function(){var _this=this;if(!_this._propagateEvents){return;}mw.log('EmbedPlayer::onClipDone: propagate:'+_this._propagateEvents+' id:'+this.id+' doneCount:'+this.donePlayingCount+' stop state:'+this.isStopped());if(!this.isStopped()){this.stopped=true;this.controlBuilder.showControlBar();if(!this.onDoneInterfaceFlag){this.stopEventPropagation();}mw.log("EmbedPlayer:: trigger: ended ( inteface continue pre-check: "+this.onDoneInterfaceFlag+' )');$(this).trigger('ended');mw.log("EmbedPlayer::onClipDone:Trigged ended, continue? "+this.onDoneInterfaceFlag);if(!this.onDoneInterfaceFlag){this.restoreEventPropagation();return;}if(this.onDoneInterfaceFlag){mw.log("EmbedPlayer:: trigger: playbackComplete");$(this).trigger('playbackComplete');mw.log("EmbedPlayer:: trigger: postEnded");$(this).trigger('postEnded');}if(this.onDoneInterfaceFlag){mw.log("EmbedPlayer::onDoneInterfaceFlag=true do interface done");this.stopEventPropagation();_this.donePlayingCount++;var startTime=0.01;if(this.startOffset){startTime=this.startOffset;}this.setCurrentTime(startTime,function(){_this.stop();mw.log("EmbedPlayer::onClipDone:Restore events after we rewind the player");_this.restoreEventPropagation();if(_this.loop){_this.stopped=false;_this.play();return;}else{_this.pause();}if(mw.getConfig('EmbedPlayer.ForceLargeReplayButton')===true){_this.addLargePlayBtn();}else{if($(_this).data('hideEndPlayButton')||!_this.useLargePlayBtn()){_this.hideLargePlayBtn();}else{_this.addLargePlayBtn();}}mw.log("EmbedPlayer:: trigger: onEndedDone");if(!_this.triggeredEndDone){_this.triggeredEndDone=true;$(_this).trigger('onEndedDone');}})}}},showThumbnail:function(){var _this=this;mw.log('EmbedPlayer::showThumbnail::'+this.stopped);this.controlBuilder.closeMenuOverlay();this.updatePosterHTML();this.paused=true;this.stopped=true;this.controlBuilder.addControlBindings();if(!this.useNativePlayerControls()){mw.log("mediaLoaded");$(this).trigger('mediaLoaded');}},showPlayer:function(){mw.log('EmbedPlayer:: showPlayer: '+this.id+' interace: w:'+this.width+' h:'+this.height);var _this=this;this.hideSpinnerAndPlayBtn();if(!this.useNativePlayerControls()&&this.isPersistentNativePlayer()){$(this).show();}if(this.controls){if(this.useNativePlayerControls()){if(this.getPlayerElement()){$(this.getPlayerElement()).attr('controls',"true");}}else{this.controlBuilder.addControls();}}this.updatePosterHTML();this.updateTemporalUrl();if(this.displayPlayer===false){_this.getVideoHolder().hide();_this.getInterface().height(_this.getComponentsHeight());}this.doUpdateLayout();this.addLargePlayBtn();this.playerReadyFlag=true;mw.log("EmbedPlayer:: Trigger: playerReady");$(this).trigger('playerReady');this.triggerWidgetLoaded();if(this['data-blockPlayerDisplay']){this.blockPlayerDisplay();return;}if(this.getError()){this.showErrorMsg(this.getError());return;}if(this.isStopped()&&this.autoplay&&this.canAutoPlay()){mw.log('EmbedPlayer::showPlayer::Do autoPlay');_this.play();}},canAutoPlay:function(){return false;},getComponentsHeight:function(){var height=0;this.getInterface().find('.block').each(function(){height+=$(this).outerHeight(true);});return height},doUpdateLayout:function(skipTrigger){var containerHeight=this.getInterface().height();var newHeight=containerHeight-this.getComponentsHeight();var currentHeight=this.getVideoHolder().height();var deltaHeight=Math.abs(currentHeight-newHeight);mw.log('EmbedPlayer: doUpdateLayout:: containerHeight: '+containerHeight+', components: '+this.getComponentsHeight()+', videoHolder old height: '+currentHeight+', new height: '+newHeight+' hight delta: '+deltaHeight);if(currentHeight!==newHeight&&deltaHeight>1){this.getVideoHolder().height(newHeight);}if(this.isStopped()&&!(this.sequenceProxy&&this.sequenceProxy.isInSequence)){this.updatePosterHTML();}if(!skipTrigger&&deltaHeight!=1){mw.log('EmbedPlayer: updateLayout: trigger "updateLayout" ');this.triggerHelper('updateLayout');}},getInterface:function(){if(!this.$interface){var _this=this;this.controlBuilder=new mw.PlayerControlBuilder(this);if($(this).parent('.videoHolder').length==0){$(this).wrap($('<div />').addClass('videoHolder'));}var $videoHolder=$(this).parent('.videoHolder');if($videoHolder.parent('.mwPlayerContainer').length==0){this.$interface=$videoHolder.wrap($('<div />').addClass('mwPlayerContainer')).parent()
if(this.style.cssText){this.$interface[0].style.cssText+=this.style.cssText;}}else{this.$interface=$videoHolder.parent('.mwPlayerContainer')}this.$interface.addClass(this.controlBuilder.playerClass)
this.style.cssText='';if(mw.getConfig('EmbedPlayer.IsIframeServer')){$(window).off("debouncedresize").on("debouncedresize",function(){mw.log('debouncedresize:: call doUpdateLayout');_this.doUpdateLayout();});}}return this.$interface;},updateInterfaceSize:function(size){var oldH=this.getInterface().height();var oldW=this.getInterface().width();if(size.width!=oldW||size.height!=oldH){this.getInterface().css(size);this.doUpdateLayout(true);}},updateTemporalUrl:function(){var sourceHash=/[^\#]+$/.exec(this.getSrc()).toString();if(sourceHash.indexOf('t=')===0){var times=sourceHash.substr(2).split(',');if(times[0]){this.currentTime=mw.npt2seconds(times[0].toString());}if(times[1]){this.pauseTime=mw.npt2seconds(times[1].toString());if(this.pauseTime<this.currentTime){this.pauseTime=null;}}this.updatePlayHead(this.currentTime/this.duration);this.controlBuilder.setStatus(mw.seconds2npt(this.currentTime));}},setError:function(errorObj){var _this=this;if(typeof errorObj=='string'){this.playerError={'title':_this.getKalturaMsg('ks-GENERIC_ERROR_TITLE'),'message':errorObj}
return;}this.playerError=errorObj;},getError:function(){if(!$.isEmptyObject(this.playerError)){return this.playerError;}return null;},showErrorMsg:function(errorObj){this.hideSpinnerAndPlayBtn();if(this.controlBuilder){if(mw.getConfig("EmbedPlayer.ShowPlayerAlerts")){var alertObj=$.extend(errorObj,{'isModal':true,'keepOverlay':true,'noButtons':true,'isError':true});this.controlBuilder.displayAlert(alertObj);}}return;},blockPlayerDisplay:function(){this.getInterface().find('.error').hide();},showPlayerError:function(){var _this=this;var $this=$(this);mw.log("EmbedPlayer::showPlayerError");this.hideSpinnerAndPlayBtn();$this.trigger('mediaLoadError');$this.trigger('mediaError');if(this['data-blockPlayerDisplay']){this.blockPlayerDisplay();return;}if(this.getError()){this.showErrorMsg(this.getError());return;}this.showNoInlinePlabackSupport();},showNoInlinePlabackSupport:function(){var _this=this;var $this=$(this);if(this.mediaElement.sources.length==0||!mw.getConfig('EmbedPlayer.NotPlayableDownloadLink')){if(this.kentryid){this.showNoPlayableSources();}return;}this.isLinkPlayer=true;this.updatePosterHTML();this.addLargePlayBtn();var downloadUrl=this.mediaElement.sources[0].getSrc();this.triggerHelper('directDownloadLink',function(dlUrl){if(dlUrl){downloadUrl=dlUrl;}});var $pBtn=this.getInterface().find('.play-btn-large').attr('title',gM('mwe-embedplayer-play_clip')).show().unbind('click').click(function(){_this.triggerHelper('firstPlay');_this.triggerHelper('playing');return true;});if(!$pBtn.parent('a').length){$pBtn.wrap($('<a />').attr("target","_blank"));}$pBtn.parent('a').attr("href",downloadUrl);$(this).trigger('showInlineDownloadLink');},showNoPlayableSources:function(){var $this=$(this);var errorObj=this.getKalturaMsgObject('mwe-embedplayer-missing-source');$this.trigger('NoSourcesCustomError',function(customErrorMsg){if(customErrorMsg){errorObj.message=customErrorMsg;}});this.setError(errorObj);this.showErrorMsg(errorObj);this.hideLargePlayBtn();return;},updateVideoTimeReq:function(timeRequest){mw.log('EmbedPlayer::updateVideoTimeReq:'+timeRequest);var timeParts=timeRequest.split('/');this.updateVideoTime(timeParts[0],timeParts[1]);},updateVideoTime:function(startNpt,endNpt){this.mediaElement.updateSourceTimes(startNpt,endNpt);var et=(this.controlBuilder.longTimeDisp&&!this.isLive())?'/'+endNpt:'';this.controlBuilder.setStatus(startNpt+et);this.updatePlayHead(0);if(this.supportsURLTimeEncoding()){this.serverSeekTime=0;}else{this.serverSeekTime=mw.npt2seconds(startNpt);}},updateThumbTimeNPT:function(time){this.updateThumbTime(mw.npt2seconds(time)-parseInt(this.startOffset));},updateThumbTime:function(floatSeconds){var _this=this;if(typeof this.orgThumSrc=='undefined'){this.orgThumSrc=this.poster;}if(this.orgThumSrc.indexOf('t=')!==-1){this.lastThumbUrl=mw.replaceUrlParams(this.orgThumSrc,{'t':mw.seconds2npt(floatSeconds+parseInt(this.startOffset))});if(!this.thumbnailUpdatingFlag){this.updatePoster(this.lastThumbUrl,false);this.lastThumbUrl=null;}}},updateThumbPerc:function(percent){return this.updateThumbTime((this.getDuration()*percent));},updatePosterSrc:function(posterSrc){if(!posterSrc){posterSrc=mw.getConfig('EmbedPlayer.BlackPixel');}this.poster=posterSrc;this.updatePosterHTML();},changeMedia:function(callback){var _this=this;var $this=$(this);mw.log('EmbedPlayer:: changeMedia ');this.emptySources();$this.trigger('onChangeMedia');this.firstPlay=true;this.donePlayingCount=0;this.triggeredEndDone=false;this.preSequenceFlag=false;this.postSequenceFlag=false;this.currentTime=0;this.updatePlayHead(0);this.controlBuilder.setStatus(this.getTimeRange());this.pauseLoading();this.setError(null);this['data-blockPlayerDisplay']=null
$this.attr('data-blockPlayerDisplay','');this.getInterface().find('.error').remove();this.controlBuilder.closeAlert();this.controlBuilder.closeMenuOverlay();this.getInterface().find('.control-bar').show();this.hideLargePlayBtn();var bindName='playerReady.changeMedia';$this.unbind(bindName).bind(bindName,function(){mw.log('EmbedPlayer::changeMedia playerReady callback');_this.hideSpinnerAndPlayBtn();if(_this.getError()){_this.changeMediaStarted=false;if(_this.playlist){_this.playlist.enablePrevNext();_this.playlist.addClipBindings();_this.controlBuilder.closeAlert();}_this.showErrorMsg(_this.getError());return;}if(_this.controlBuilder){_this.controlBuilder.showControlBar();}if(_this.autoplay){_this.hideLargePlayBtn();}else{_this.addLargePlayBtn();}var source=_this.getSource();if((_this.isPersistentNativePlayer()||_this.useNativePlayerControls())&&source){_this.switchPlaySource(source,function(){_this.changeMediaStarted=false;if(_this.autoplay){_this.play();}else{_this.ignoreNextNativeEvent=true;_this.pause();_this.addLargePlayBtn();_this.updatePosterHTML();}$this.trigger('onChangeMediaDone');if(callback){callback();}});return;}_this.changeMediaStarted=false;_this.stop();if(_this.autoplay){_this.play();}else{_this.addLargePlayBtn();}$this.trigger('onChangeMediaDone');if(callback){callback();}});$this.triggerQueueCallback('checkPlayerSourcesEvent',function(){mw.log("EmbedPlayer::changeMedia:  Done with checkPlayerSourcesEvent");_this.setupSourcePlayer();});},isImagePlayScreen:function(){return(this.useNativePlayerControls()&&!this.isLinkPlayer&&mw.isIphone()&&mw.getConfig('EmbedPlayer.iPhoneShowHTMLPlayScreen'));},triggerWidgetLoaded:function(){if(!this.widgetLoaded){this.widgetLoaded=true;mw.log("EmbedPlayer:: Trigger: widgetLoaded");this.triggerHelper('widgetLoaded');}},updatePosterHTML:function(){mw.log('EmbedPlayer:updatePosterHTML:'+this.id+' poster:'+this.poster);var _this=this;if(this.isImagePlayScreen()){this.addPlayScreenWithNativeOffScreen();return;}var posterCss={'position':'absolute'};var posterSrc=this.poster
if(!posterSrc){posterSrc=mw.getConfig('EmbedPlayer.BlackPixel');$.extend(posterCss,{'height':'100%','width':'100%'});}$(this).empty();var called=false;var localApplyIntrinsicAspect=function(){if(called){return;}called=true;_this.applyIntrinsicAspect();};$(this).html($('<img />').css(posterCss).attr({'src':this.poster}).addClass('playerPoster').load(function(){if(posterSrc!=mw.getConfig('EmbedPlayer.BlackPixel')){localApplyIntrinsicAspect();}}).each(function(){if(this.complete){setTimeout(function(){localApplyIntrinsicAspect();},0)}})).show();if(this.useLargePlayBtn()&&this.controlBuilder&&this.height>this.controlBuilder.getComponentHeight('playButtonLarge')){this.addLargePlayBtn();}},addPlayScreenWithNativeOffScreen:function(){mw.log("Error: EmbedPlayer, Must override 'addPlayScreenWithNativeOffScreen' with player inteface");return;},useLargePlayBtn:function(){if(this.isPersistantPlayBtn()){return true;}return!this.useNativePlayerControls();},isPersistantPlayBtn:function(){return mw.isAndroid2()||(mw.isIphone()&&mw.getConfig('EmbedPlayer.iPhoneShowHTMLPlayScreen'));},useNativePlayerControls:function(){if(this.usenativecontrols===true){return true;}if(mw.getConfig('EmbedPlayer.NativeControls')===true){return true;}if(mw.getConfig('EmbedPlayer.WebKitPlaysInline')===true&&mw.isIphone()){return false;}if(mw.isAndroid2()||mw.isIpod()||mw.isIphone()){return true;}if(mw.isIpad()){if(this.isPersistentNativePlayer()&&mw.getConfig('EmbedPlayer.EnableIpadHTMLControls')===true){return false;}else{return true;}}return false;},isPersistentNativePlayer:function(){if(this.isLinkPlayer){return false;}if($('#'+this.pid).length==0){return $('#'+this.id).hasClass('persistentNativePlayer');}return $('#'+this.pid).hasClass('persistentNativePlayer');},hideLargePlayBtn:function(){if(this.getInterface()){this.getInterface().find('.play-btn-large').hide();}},addLargePlayBtn:function(){if(this.isPauseLoading){mw.log("EmbedPlayer:: addLargePlayBtn ( skip play button, during load )");return;}if(this.useNativePlayerControls()){this.getInterface().css('pointer-events','auto');}if(mw.getConfig('EmbedPlayer.WebKitPlaysInline')&&mw.isIphone()){return;}if(this.getInterface().find('.play-btn-large').length){this.getInterface().find('.play-btn-large').show();}else{this.getVideoHolder().append(this.controlBuilder.getComponent('playButtonLarge'));}},getVideoHolder:function(){return this.getInterface().find('.videoHolder');},getNativePlayerHtml:function(){return $('<div />').css('width',this.getWidth()).html('Error: Trying to get native html5 player without native support for codec');},applyMediaElementBindings:function(){mw.log("Warning applyMediaElementBindings should be implemented by player interface");return;},getSharingEmbedCode:function(){switch(mw.getConfig('EmbedPlayer.ShareEmbedMode')){case'iframe':return this.getShareIframeObject();break;case'videojs':return this.getShareEmbedVideoJs();break;}},getShareIframeObject:function(){var iframeUrl=this.getIframeSourceUrl();var embedCode='&lt;iframe src=&quot;'+mw.html.escape(iframeUrl)+'&quot; ';embedCode+='width=&quot;'+this.getPlayerWidth()+'&quot; ';embedCode+='height=&quot;'+this.getPlayerHeight()+'&quot; ';embedCode+='allowfullscreen webkitallowfullscreen mozAllowFullScreen ';embedCode+='frameborder=&quot;0&quot; ';embedCode+='&gt;&lt/iframe&gt;';return embedCode;},getIframeSourceUrl:function(){var iframeUrl=false;this.triggerHelper('getShareIframeSrc',function(localIframeSrc){if(iframeUrl){mw.log("Error multiple modules binding getShareIframeSrc");}iframeUrl=localIframeSrc;});if(iframeUrl){return iframeUrl;}var iframeUrl=mw.getMwEmbedPath()+'mwEmbedFrame.php?';var params={'src[]':[]};for(var i=0;i<this.mediaElement.sources.length;i++){var source=this.mediaElement.sources[i];if(source.src){params['src[]'].push(mw.absoluteUrl(source.src));}}if(this.poster){params.poster=this.poster;}if(this.skinName){params.skin=this.skinName;}if(this.duration){params.durationHint=parseFloat(this.duration);}iframeUrl+=$.param(params);return iframeUrl;},getShareEmbedVideoJs:function(){var embedtag=(this.isAudio())?'audio':'video';var embedCode='&lt;script type=&quot;text/javascript&quot; '+'src=&quot;'+mw.html.escape(mw.absoluteUrl(mw.getMwEmbedSrc()))+'&quot;&gt;&lt;/script&gt'+'&lt;'+embedtag+' ';if(this.poster){embedCode+='poster=&quot;'+mw.html.escape(mw.absoluteUrl(this.poster))+'&quot; ';}if(this.skinName){embedCode+='class=&quot;'+mw.html.escape(this.skinName)+'&quot; ';}if(this.duration){embedCode+='durationHint=&quot;'+parseFloat(this.duration)+'&quot; ';}if(this.width||this.height){embedCode+='style=&quot;';embedCode+=(this.width)?'width:'+this.width+'px;':'';embedCode+=(this.height)?'height:'+this.height+'px;':'';embedCode+='&quot; ';}embedCode+='&gt;';for(var i=0;i<this.mediaElement.sources.length;i++){var source=this.mediaElement.sources[i];if(source.src){embedCode+='&lt;source src=&quot;'+mw.absoluteUrl(source.src)+'&quot; &gt;&lt;/source&gt;';}}embedCode+='&lt;/video&gt;';return embedCode;},firstPlay:true,preSequenceFlag:false,inPreSequence:false,replayEventCount:0,play:function(){var _this=this;var $this=$(this);mw.log("EmbedPlayer:: play: "+this._propagateEvents+' isStopped: '+_this.isStopped());this.absoluteStartPlayTime=new Date().getTime();if(this.getError()){return false;}if(_this.isStopped()&&(_this.preSequenceFlag==false||(_this.sequenceProxy&&_this.sequenceProxy.isInSequence==false))){if(!_this.selectedPlayer){_this.showPlayerError();return false;}else{_this.embedPlayerHTML();}}this.addPlayerSpinner();this.hideSpinnerOncePlaying();_this.stopped=false;if(!this.preSequenceFlag){this.preSequenceFlag=true;mw.log("EmbedPlayer:: trigger preSequence ");this.triggerHelper('preSequence');this.playInterfaceUpdate();if(_this.sequenceProxy&&_this.sequenceProxy.isInSequence){mw.log("EmbedPlayer:: isInSequence, do NOT play content");return false;}}if(this.firstPlay&&this._propagateEvents){this.firstPlay=false;this.triggerHelper('firstPlay');}if(this.paused===true){this.paused=false;mw.log("EmbedPlayer:: trigger play event::"+!this.paused+' events:'+this._propagateEvents);if(this._propagateEvents){this.triggerHelper('onplay');}}if(this.donePlayingCount>0&&!this.paused&&this._propagateEvents){this.replayEventCount++;this.triggeredEndDone=false;if(this.replayEventCount<=this.donePlayingCount){mw.log("EmbedPlayer::play> trigger replayEvent");this.triggerHelper('replayEvent');}}if(this.currentTime<this.startTime){$this.bind('playing.startTime',function(){$this.unbind('playing.startTime');if(!mw.isIOS()){_this.setCurrentTime(_this.startTime);_this.startTime=0;}else{setTimeout(function(){_this.setCurrentTime(_this.startTime,function(){_this.play();});_this.startTime=0;},500)}});}this.playInterfaceUpdate();if(_this._playContorls){return true;}else{mw.log("EmbedPlayer::play: _playContorls is false");return false;}},playInterfaceUpdate:function(){var _this=this;mw.log('EmbedPlayer:: playInterfaceUpdate');if(this.controlBuilder){this.controlBuilder.closeMenuOverlay();}this.getInterface().find('.error').remove();this.hideLargePlayBtn();this.getInterface().find('.play-btn span').removeClass('ui-icon-play').addClass('ui-icon-pause');this.hideSpinnerOncePlaying();this.getInterface().find('.play-btn').unbind('click').click(function(){if(_this._playContorls){_this.pause();}}).attr('title',gM('mwe-embedplayer-pause_clip'));$(this).trigger('onPlayInterfaceUpdate');},pauseLoading:function(){this.pause();this.addPlayerSpinner();this.isPauseLoading=true;},addPlayerSpinner:function(){var sId='loadingSpinner_'+this.id;$('#'+sId).remove();this.hideLargePlayBtn();$(this).getAbsoluteOverlaySpinner().attr('id',sId);},hideSpinner:function(){$('#loadingSpinner_'+this.id+',.loadingSpinner').remove();},hideSpinnerAndPlayBtn:function(){this.isPauseLoading=false;this.hideSpinner();this.hideLargePlayBtn();},hideSpinnerOncePlaying:function(){this._checkHideSpinner=true;},pause:function(){mw.log("EmbedPlayer::pause()");var _this=this;if(this.paused===false){this.paused=true;if(this._propagateEvents){mw.log('EmbedPlayer:trigger pause:'+this.paused);$(this).trigger('onpause');}}_this.pauseInterfaceUpdate();},pauseInterfaceUpdate:function(){var _this=this;mw.log("EmbedPlayer::pauseInterfaceUpdate");this.hideSpinner();if(this.useLargePlayBtn()){this.addLargePlayBtn();}this.getInterface().find('.play-btn span').removeClass('ui-icon-pause').addClass('ui-icon-play');this.getInterface().find('.play-btn').unbind('click').click(function(){if(_this._playContorls){_this.play();}}).attr('title',gM('mwe-embedplayer-play_clip'));$(this).trigger('onPauseInterfaceUpdate');},load:function(){mw.log('Waring:: the load method should be overided by player interface');},stop:function(){var _this=this;mw.log('EmbedPlayer::stop:'+this.id);this.stopped=true;if(this.adsOnReplay){this.preSequenceFlag=false;}$(this).trigger('doStop');this.didSeekJump=false;this.currentTime=this.previousTime=this.serverSeekTime=0;this.stopMonitor();if(!this.paused){this.pause();}this.updatePosterHTML();this.bufferedPercent=0;this.updateBufferStatus();this.controlBuilder.setStatus(this.getTimeRange());this.updatePlayHead(0);this.controlBuilder.setStatus(this.getTimeRange());},toggleMute:function(){mw.log('EmbedPlayer::toggleMute> (old state:) '+this.muted);if(this.muted){this.muted=false;var percent=this.preMuteVolume;}else{this.muted=true;this.preMuteVolume=this.volume;var percent=0;}this.setVolume(percent,true);this.setInterfaceVolume(percent);$(this).trigger('onToggleMute');},setVolume:function(percent,triggerChange){var _this=this;if(isNaN(percent)){return;}this.previousVolume=this.volume;this.volume=percent;if(percent!=0){this.muted=false;}this.setPlayerElementVolume(percent);if(triggerChange){$(_this).trigger('volumeChanged',percent);}},setInterfaceVolume:function(percent){if(this.supports['volumeControl']&&this.getInterface().find('.volume-slider').length){this.getInterface().find('.volume-slider').slider('value',percent*100);}},setPlayerElementVolume:function(percent){mw.log('Error player does not support volume adjustment');},getPlayerElementVolume:function(){return this.volume;},getPlayerElementMuted:function(){return this.muted;},fullscreen:function(){this.controlBuilder.toggleFullscreen();},postEmbedActions:function(){return;},isPlaying:function(){if(this.stopped){return false;}else if(this.paused){return false;}else{return true;}},isStopped:function(){return this.stopped;},stopMonitor:function(){clearInterval(this.monitorInterval);this.monitorInterval=0;},startMonitor:function(){this.monitor();},monitor:function(){var _this=this;_this.syncCurrentTime();_this.syncVolume();_this.syncMonitor()
if(_this._propagateEvents){$(_this).trigger('monitorEvent');if(_this.progressEventData){$(_this).trigger('progress',_this.progressEventData);}}},syncMonitor:function(){var _this=this;if(!this.isStopped()){if(!this.monitorInterval){this.monitorInterval=setInterval(function(){if(_this.monitor)_this.monitor();},this.monitorRate);}}else{this.stopMonitor();}},syncVolume:function(){var _this=this;if(Math.round(_this.volume*100)!=Math.round(_this.previousVolume*100)){_this.setInterfaceVolume(_this.volume);}_this.previousVolume=_this.volume;_this.volume=this.getPlayerElementVolume();if(_this.muted!=_this.getPlayerElementMuted()&&!_this.isStopped()){mw.log("EmbedPlayer::syncVolume: muted does not mach embed player");_this.toggleMute();_this.muted=_this.getPlayerElementMuted();}},syncCurrentTime:function(){var _this=this;if(_this._checkHideSpinner&&_this.currentTime!=_this.getPlayerElementTime()){_this._checkHideSpinner=false;_this.hideSpinnerAndPlayBtn();if(_this.isPersistantPlayBtn()){_this.addLargePlayBtn();}else{_this.hideLargePlayBtn();}}if(parseInt(_this.previousTime)!=parseInt(_this.currentTime)&&!this.userSlide&&!this.seeking&&!this.isStopped()){if(_this.getDuration()&&_this.currentTime<=_this.getDuration()){var seekPercent=_this.currentTime/_this.getDuration();mw.log("EmbedPlayer::syncCurrentTime::"+_this.previousTime+' != '+_this.currentTime+" javascript based currentTime update to "+seekPercent+' == '+_this.currentTime);_this.previousTime=_this.currentTime;this.seek(seekPercent);}}_this.currentTime=_this.getPlayerElementTime();if(_this.serverSeekTime&&_this.supportsURLTimeEncoding()){_this.currentTime=parseInt(_this.serverSeekTime)+parseInt(_this.getPlayerElementTime());}_this.previousTime=_this.currentTime;if(_this.pauseTime&&_this.currentTime>_this.pauseTime){_this.pause();_this.pauseTime=null;}},updatePlayheadStatus:function(){var _this=this;if(this.currentTime>=0&&this.duration){if(!this.userSlide&&!this.seeking){if(parseInt(this.startOffset)!=0){this.updatePlayHead((this.currentTime-this.startOffset)/this.duration);var et=(this.controlBuilder.longTimeDisp&&!this.isLive())?'/'+mw.seconds2npt(parseFloat(this.duration)):'';var st=this.currentTime-this.startOffset;if(st<0){st=0;}this.controlBuilder.setStatus(mw.seconds2npt(st)+et);}else{var ct=(this.getPlayerElement())?this.getPlayerElement().currentTime||this.currentTime:this.currentTime;this.updatePlayHead(ct/this.duration);var et=(this.controlBuilder.longTimeDisp&&!this.isLive())?'/'+mw.seconds2npt(this.duration):'';this.controlBuilder.setStatus(mw.seconds2npt(this.currentTime)+et);}}var endPresentationTime=this.duration;if((this.currentTime-this.startOffset)>=endPresentationTime&&!this.isStopped()){mw.log("EmbedPlayer::updatePlayheadStatus > should run clip done :: "+this.currentTime+' > '+endPresentationTime);this.onClipDone();}}else{if(this.isStopped()){this.controlBuilder.setStatus(this.getTimeRange());}else if(this.paused){this.controlBuilder.setStatus(gM('mwe-embedplayer-paused'));}else if(this.isPlaying()){if(this.currentTime&&!this.duration){var timeSeparator=(this.isLive())?'':' /';this.controlBuilder.setStatus(mw.seconds2npt(this.currentTime)+timeSeparator);}else{this.controlBuilder.setStatus(" - - - ");}}else{this.controlBuilder.setStatus(this.getTimeRange());}}},getPlayerElementTime:function(){mw.log("Error: getPlayerElementTime should be implemented by embed library");},getPlayerElement:function(){mw.log("Error: getPlayerElement should be implemented by embed library, or you may be calling this event too soon");},updateBufferStatus:function(){var $buffer=this.getInterface().find('.mw_buffer');if(this.bufferedPercent!=0){if(this.bufferedPercent>1){this.bufferedPercent=1;}$buffer.css({"width":(this.bufferedPercent*100)+'%'});$(this).trigger('updateBufferPercent',this.bufferedPercent);}else{$buffer.css("width",'0px');}if(this.bufferedPercent>0&&!this.bufferStartFlag){this.bufferStartFlag=true;mw.log("EmbedPlayer::bufferStart");$(this).trigger('bufferStartEvent');}if(this.bufferedPercent==1&&!this.bufferEndFlag){this.bufferEndFlag=true;$(this).trigger('bufferEndEvent');}},updatePlayHead:function(perc){if(this.getInterface()){var $playHead=this.getInterface().find('.play_head');if(!this.useNativePlayerControls()&&$playHead.length!=0){var val=parseInt(perc*1000);$playHead.slider('value',val);}}$(this).trigger('updatePlayHeadPercent',perc);},getSrc:function(serverSeekTime){if(serverSeekTime){this.serverSeekTime=serverSeekTime;}if(this.currentTime&&!this.serverSeekTime){this.serverSeekTime=this.currentTime;}if(!this.mediaElement){return false;}if(!this.mediaElement.selectedSource){this.mediaElement.autoSelectSource();};if(this.mediaElement.selectedSource){if(this.supportsURLTimeEncoding()){return this.mediaElement.selectedSource.getSrc(this.serverSeekTime);}else{return this.mediaElement.selectedSource.getSrc();}}return false;},getSource:function(){this.mediaElement.autoSelectSource();return this.mediaElement.selectedSource;},getCompatibleSource:function(videoFiles){var $media=$('<video />');$.each(videoFiles,function(inx,source){$media.append($('<source />').attr(source));mw.log("EmbedPlayer::getCompatibleSource: add "+source.src+' of type:'+source.type);});var myMediaElement=new mw.MediaElement($media[0]);var source=myMediaElement.autoSelectSource();if(source){mw.log("EmbedPlayer::getCompatibleSource: "+source.getSrc());return source;}mw.log("Error:: could not find compatible source");return false;},supportsURLTimeEncoding:function(){var timeUrls=mw.getConfig('EmbedPlayer.EnableURLTimeEncoding');if(timeUrls=='none'){return false;}else if(timeUrls=='always'){return this.mediaElement.selectedSource.URLTimeEncoding;}else if(timeUrls=='flash'){if(this.mediaElement.selectedSource&&this.mediaElement.selectedSource.URLTimeEncoding){return(this.instanceOf=='Kplayer');}}else{mw.log("Error:: invalid config value for EmbedPlayer.EnableURLTimeEncoding:: "+mw.getConfig('EmbedPlayer.EnableURLTimeEncoding'));}return false;},setCookie:function(name,value,options){var _this=this;if(mw.getConfig('alertForCookies')){if($.cookie('allowCookies')){$.cookie(name,value,options);}else{var alertObj={'title':"Cookies",'message':"Video player will save cookies on your computer",'isModal':true,'isExternal':false,'buttons':["Allow","Disallow"],'callbackFunction':function(eventObj){if(eventObj.target.textContent.toLowerCase()==="allow"){$.cookie('allowCookies',true);$.cookie(name,value,options);}else{$.cookie('allowCookies',null);_this.disabledCookies=true;}}};if(!this.disabledCookies){this.controlBuilder.displayAlert(alertObj);}}}else{$.cookie(name,value,options);}},setLive:function(isLive){this.live=isLive;},isLive:function(){return this.live;},isDVR:function(){return this.kalturaPlayerMetaData['dvrStatus'];}};})(window.mw,window.jQuery);(function(mw,$){"use strict";mw.PlayerControlBuilder=function(embedPlayer,options){return this.init(embedPlayer,options);};mw.PlayerControlBuilder.prototype={playerClass:'mv-player',longTimeDisp:true,volumeLayout:'vertical',height:mw.getConfig('EmbedPlayer.ControlsHeight'),supportedComponents:{'options':true},supportedMenuItems:{'playerSelect':true,'download':true,'share':true,'aboutPlayerLibrary':true},inFullScreen:false,addWarningFlag:false,displayOptionsMenuFlag:false,hideControlBarCallback:false,controlsDisabled:false,spaceKeyBindingEnabled:true,parentsAbsoluteList:[],parentsRelativeList:[],bindPostfix:'.controlBuilder',init:function(embedPlayer){var _this=this;this.embedPlayer=embedPlayer;var skinClass=embedPlayer.skinName.substr(0,1).toUpperCase()+embedPlayer.skinName.substr(1);if(mw['PlayerSkin'+skinClass]){var _this=$.extend(true,{},this,mw['PlayerSkin'+skinClass]);return _this;}return this;},getHeight:function(){return this.height;},addControls:function(){var embedPlayer=this.embedPlayer;var _this=this;embedPlayer.getInterface().find('.control-bar,.overlay-win').remove();_this.displayOptionsMenuFlag=false;var $controlBar=$('<div />').addClass('ui-state-default ui-widget-header ui-helper-clearfix control-bar').css('height',this.height);if(_this.isOverlayControls()){$controlBar.hide();$controlBar.addClass('hover');}else{$controlBar.addClass('block');}if(embedPlayer.isAudio()&&embedPlayer.getInterface().height()==0){embedPlayer.getInterface().css({'height':this.height});}embedPlayer.getInterface().append($controlBar);if($.browser.mozilla&&parseFloat($.browser.version)<2){embedPlayer.triggerHelper('resizeIframeContainer',[{'height':embedPlayer.height+$controlBar.height()-1}]);}this.addControlComponents();this.addControlBindings();},addControlComponents:function(){var _this=this;var embedPlayer=this.embedPlayer;this.availableWidth=embedPlayer.getPlayerWidth();mw.log('PlayerControlsBuilder:: addControlComponents into:'+this.availableWidth);this.supportedComponents=$.extend(this.supportedComponents,embedPlayer.supports);if(mw.getConfig('EmbedPlayer.AttributionButton')&&embedPlayer.attributionbutton){this.supportedComponents['attributionButton']=true;}if(mw.getConfig('EmbedPlayer.EnableFullscreen')===false){this.supportedComponents['fullscreen']=false;}if(mw.getConfig('EmbedPlayer.EnableOptionsMenu')===false){this.supportedComponents['options']=false;}if(mw.getConfig('EmbedPlayer.EnableVolumeControl')===false){this.supportedComponents['volumeControl']=false;}if(embedPlayer.mediaElement.getPlayableSources().length==1){this.supportedComponents['sourceSwitch']=false;}$(embedPlayer).trigger('addControlBarComponent',this);for(var componentId in this.components){if(this.components[componentId]===false){continue;}var specialItems=['playHead','timeDisplay','liveStreamStatus','liveStreamDVRStatus','liveStreamDVRScrubber','backToLive'];if($.inArray(componentId,specialItems)!=-1){continue;}if(componentId=='fullscreen'&&this.embedPlayer.isAudio()){continue;}this.addComponent(componentId);}if(mw.getConfig('EmbedPlayer.EnableTimeDisplay')&&!embedPlayer.isLive()){this.addComponent('timeDisplay');}if(this.availableWidth>30&&!embedPlayer.isLive()){this.addComponent('playHead');}if(embedPlayer.isLive()){this.addComponent('liveStreamStatus');if(embedPlayer.isDVR()){this.addComponent('backToLive');this.addComponent('liveStreamDVRStatus');this.addComponent('liveStreamDVRScrubber');}}$(embedPlayer).trigger('controlBarBuildDone');},addComponent:function(componentId){var _this=this;var embedPlayer=this.embedPlayer;var $controlBar=embedPlayer.getInterface().find('.control-bar');if(_this.supportedComponents[componentId]){if(_this.availableWidth>_this.components[componentId].w){$controlBar.append(_this.getComponent(componentId));_this.availableWidth-=_this.components[componentId].w;mw.log("PlayerControlBuilder: availableWidth:"+_this.availableWidth+' '+componentId+' took: '+_this.components[componentId].w)}else{mw.log('PlayerControlBuilder:: Not enough space for control component:'+componentId);}}},getAspectPlayerWindowCss:function(windowSize){var embedPlayer=this.embedPlayer;var _this=this;if(!windowSize){var windowSize={'width':$(window).width(),'height':$(window).height()};}windowSize.width=parseInt(windowSize.width);windowSize.height=parseInt(windowSize.height);if(!_this.isOverlayControls()){windowSize.height=windowSize.height-this.height;}var targetWidth=windowSize.width;var targetHeight=Math.floor(targetWidth*(1/_this.getIntrinsicAspect()));if(targetHeight+2>windowSize.height){targetHeight=windowSize.height;targetWidth=parseInt(targetHeight*_this.getIntrinsicAspect());}var offsetTop=0;offsetTop+=(targetHeight<windowSize.height)?(windowSize.height-targetHeight)/2:0;var offsetLeft=(targetWidth<windowSize.width)?parseInt(windowSize.width-targetWidth)/2:0;var position=(mw.isIOS4()&&mw.isIphone())?'static':'absolute';mw.log('PlayerControlBuilder::getAspectPlayerWindowCss: '+' h:'+targetHeight+' w:'+targetWidth+' t:'+offsetTop+' l:'+offsetLeft);return{'position':position,'height':parseInt(targetHeight),'width':parseInt(targetWidth),'top':parseInt(offsetTop),'left':parseInt(offsetLeft)};},getIntrinsicAspect:function(){var vid=this.embedPlayer.getPlayerElement();if(vid&&vid.videoWidth&&vid.videoHeight){return vid.videoWidth/vid.videoHeight;}if(this.embedPlayer.mediaElement&&this.embedPlayer.mediaElement.selectedSource){var ss=this.embedPlayer.mediaElement.selectedSource;if(ss.aspect){return ss.aspect;}if(ss.width&&ss.height){return ss.width/ss.height}}var img=this.embedPlayer.getInterface().find('.playerPoster')[0];if(img&&img.naturalWidth&&img.naturalHeight){return img.naturalWidth/img.naturalHeight}return this.embedPlayer.getWidth()/this.embedPlayer.getHeight()},getPlayButtonPosition:function(){var _this=this;return{'position':'absolute','left':'50%','top':'50%','margin-left':-.5*this.getComponentWidth('playButtonLarge'),'margin-top':-.5*this.getComponentHeight('playButtonLarge')};},isInFullScreen:function(){return this.inFullScreen;},toggleFullscreen:function(){var _this=this;if(this.isInFullScreen()){this.restoreWindowPlayer();}else{this.doFullScreenPlayer();}},doFullScreenPlayer:function(callback){mw.log("PlayerControlBuilder:: doFullScreenPlayer");var _this=this;var embedPlayer=this.embedPlayer;var $interface=embedPlayer.getInterface();if(this.isInFullScreen()==true){return;}this.inFullScreen=true;var isIframe=mw.getConfig('EmbedPlayer.IsIframeServer'),doc=isIframe?window['parent'].document:window.document,context=isIframe?window['parent']:window;this.verticalScrollPosition=(doc.all?doc.scrollTop:context.pageYOffset);$interface.addClass('fullscreen');if(_this.isOverlayControls()){_this.addFullscreenMouseMoveHideShowControls();}$(embedPlayer).trigger('fullScreenStoreVerticalScroll');if(window.fullScreenApi.supportsFullScreen){_this.preFullscreenPlayerSize=this.getPlayerSize();var fullscreenHeight=null;var fsTarget=this.getFsTarget();var escapeFullscreen=function(event){var doc=(mw.getConfig('EmbedPlayer.IsIframeServer'))?window['parent'].document:window.document;if(!window.fullScreenApi.isFullScreen(doc)){_this.restoreWindowPlayer();}}
fsTarget.removeEventListener(fullScreenApi.fullScreenEventName,escapeFullscreen);fsTarget.addEventListener(fullScreenApi.fullScreenEventName,escapeFullscreen);window.fullScreenApi.requestFullScreen(fsTarget);if($.browser.mozilla){_this.fullscreenRestoreCheck=setInterval(function(){if(fullscreenHeight&&$(window).height()<fullscreenHeight){clearInterval(_this.fullscreenRestoreCheck);_this.restoreWindowPlayer();}if(!fullscreenHeight&&_this.preFullscreenPlayerSize.height!=$(window).height()){fullscreenHeight=$(window).height();}},250);}}else{var vid=this.embedPlayer.getPlayerElement();if(mw.getConfig('EmbedPlayer.EnableIpadNativeFullscreen')&&vid&&vid.webkitSupportsFullscreen){this.doHybridNativeFullscreen();return;}else{this.doContextTargetFullscreen();}}$(window).keyup(function(event){if(event.keyCode==27){_this.restoreWindowPlayer();}});$(embedPlayer).trigger('onOpenFullScreen');},doContextTargetFullscreen:function(){var isIframe=mw.getConfig('EmbedPlayer.IsIframeServer');var _this=this,doc=isIframe?window['parent'].document:window.document,$doc=$(doc),$target=$(this.getFsTarget()),context=isIframe?window['parent']:window;this.parentsAbsoluteList=[];this.parentsRelativeList=[];this.orginalParnetViewPortContent=$doc.find('meta[name="viewport"]').attr('content');this.orginalTargetElementLayout={'style':$target[0].style.cssText,'width':$target.width(),'height':$target.height()};mw.log("PlayerControls:: doParentIframeFullscreen> verticalScrollPosition:"+this.verticalScrollPosition);context.scroll(0,0);if(!$doc.find('meta[name="viewport"]').length){$doc.find('head').append($('<meta />').attr('name','viewport'));}$doc.find('meta[name="viewport"]').attr('content','width=1024, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1');var playerCssPosition=(mw.isIOS())?'absolute':'fixed';$target.parents().each(function(){var $parent=$(this);if($parent.css('position')=='absolute'){_this.parentsAbsoluteList.push($parent);$parent.css('position','static');}if($parent.css('position')=='relative'){_this.parentsRelativeList.push($parent);$parent.css('position','static');}});$target.css({'z-index':mw.getConfig('EmbedPlayer.FullScreenZIndex'),'position':playerCssPosition,'top':'0px','left':'0px','margin':0}).data('isFullscreen',true).after($('<div>').addClass('player-placeholder').css({'width':this.orginalTargetElementLayout.width,'height':this.orginalTargetElementLayout.height}))
var updateTargetSize=function(){context.scroll(0,0);var innerHeight=context.innerHeight;if(mw.isMobileChrome()){innerHeight+=1;}if((mw.isAndroid41()||mw.isAndroid42()||(mw.isAndroid()&&mw.isFirefox()))&&!mw.isMobileChrome()&&context.devicePixelRatio){innerHeight=context.outerHeight/context.devicePixelRatio;}$target.css({'width':context.innerWidth,'height':innerHeight}).trigger('resize');_this.embedPlayer.applyIntrinsicAspect();};updateTargetSize();var eventName=mw.isAndroid()?'resize':'orientationchange';eventName+=this.bindPostfix;$(context).bind(eventName,function(){if(_this.isInFullScreen()){updateTargetSize();}});document.ontouchmove=function(e){if(_this.isInFullScreen()){e.preventDefault();}};},restoreContextPlayer:function(){var isIframe=mw.getConfig('EmbedPlayer.IsIframeServer');var _this=this,doc=isIframe?window['parent'].document:window.document,$doc=$(doc),$target=$(this.getFsTarget()),context=isIframe?window['parent']:window;mw.log("PlayerControlsBuilder:: restoreContextPlayer> verticalScrollPosition:"+this.verticalScrollPosition);if(this.orginalParnetViewPortContent){$doc.find('meta[name="viewport"]').attr('content',this.orginalParnetViewPortContent);}else{$doc.find('meta[name="viewport"]').attr('content','initial-scale=1, maximum-scale=8, minimum-scale=1, user-scalable=yes');if(mw.isMobileChrome()){$doc.find('meta[name="viewport"]').attr('content','user-scalable=yes');}}if(this.orginalTargetElementLayout){$target[0].style.cssText=this.orginalTargetElementLayout.style;$target.attr({'width':this.orginalTargetElementLayout.width,'height':this.orginalTargetElementLayout.height}).trigger('resize')
_this.embedPlayer.applyIntrinsicAspect();$target.siblings('.player-placeholder').remove();}$.each(_this.parentsAbsoluteList,function(inx,$elm){$elm.css('position','absolute');});$.each(_this.parentsRelativeList,function(inx,$elm){$elm.css('position','relative');});setTimeout(function(){context.scroll(0,_this.verticalScrollPosition);},100)},doHybridNativeFullscreen:function(){var vid=this.embedPlayer.getPlayerElement();var _this=this;vid.webkitEnterFullscreen();this.fsIntervalID=setInterval(function(){var currentFS=vid.webkitDisplayingFullscreen;if(_this.isInFullScreen()&&!currentFS){_this.inFullScreen=false;$(_this.embedPlayer).trigger('onCloseFullScreen');_this.embedPlayer.getInterface().removeClass('fullscreen');clearInterval(_this.fsIntervalID);}},250);},getWindowSize:function(){return{'width':$(window).width(),'height':$(window).height()};},doDomFullscreen:function(){var _this=this;var embedPlayer=this.embedPlayer;var $interface=embedPlayer.getInterface();$('.mw-fullscreen-overlay').remove();_this.preFullscreenPlayerSize=this.getPlayerSize();$interface.after($('<div />').addClass('mw-fullscreen-overlay').css('z-index',mw.getConfig('EmbedPlayer.FullScreenZIndex')).hide().fadeIn("slow"));if(!this.windowPositionStyle){this.windowPositionStyle=$interface.css('position');}if(!this.windowZindex){this.windowZindex=$interface.css('z-index');}this.windowOffset=this.getWindowOffset();$interface.css({'position':'fixed','z-index':mw.getConfig('EmbedPlayer.FullScreenZIndex')+1,'top':this.windowOffset.top,'left':this.windowOffset.left});if(embedPlayer.isPersistentNativePlayer()){$(embedPlayer.getPlayerElement()).css({'z-index':mw.getConfig('EmbedPlayer.FullScreenZIndex')+1,'position':'absolute'});}_this.parentsAbsolute=[];$('body').css('overflow','hidden');var topOffset='0px';var leftOffset='0px';if($interface.offsetParent()[0].tagName&&$interface.offsetParent()[0].tagName.toLowerCase()!='body'){topOffset=-this.windowOffset.top+'px';leftOffset=-this.windowOffset.left+'px';}$interface.css('overlow','hidden');$interface.parents().each(function(){if($(this).css('position')=='absolute'){_this.parentsAbsolute.push($(this));$(this).css('position',null);mw.log('PlayerControlBuilder::  should update position: '+$(this).css('position'));}});$(window).keyup(function(event){if(event.keyCode==27){_this.restoreWindowPlayer();}});},addFullscreenMouseMoveHideShowControls:function(){var _this=this;_this.mouseMovedFlag=false;var oldX=0,oldY=0;_this.embedPlayer.getInterface().mousemove(function(e){if(Math.abs(oldX-event.pageX)>4||Math.abs(oldY-event.pageY)>4){_this.mouseMovedFlag=true;}oldX=event.pageX;oldY=event.pageY;});var checkMovedMouse=function(){if(_this.isInFullScreen()){if(_this.mouseMovedFlag){_this.mouseMovedFlag=false;_this.showControlBar();setTimeout(checkMovedMouse,4000);}else{_this.hideControlBar();setTimeout(checkMovedMouse,250);}return;}};_this.showControlBar();checkMovedMouse();},getWindowOffset:function(){var windowOffset=this.embedPlayer.getInterface().offset();windowOffset.top=windowOffset.top-$(document).scrollTop();windowOffset.left=windowOffset.left-$(document).scrollLeft();this.windowOffset=windowOffset;return this.windowOffset;},displayFullscreenTip:function(){var _this=this;if(mw.isMobileDevice()){return;}if($.browser.safari&&!/chrome/.test(navigator.userAgent.toLowerCase())){return;}var toolTipMsg=(navigator.userAgent.indexOf('Mac OS X')!=-1)?gM('mwe-embedplayer-fullscreen-tip-osx'):gM('mwe-embedplayer-fullscreen-tip');var $targetTip=this.addWarningBinding('EmbedPlayer.FullscreenTip',$('<h3/>').html(toolTipMsg));$targetTip.show();var hideTip=function(){mw.setConfig('EmbedPlayer.FullscreenTip',false);$targetTip.fadeOut('fast');};$(this.embedPlayer).bind('onCloseFullScreen',hideTip);setTimeout(hideTip,5000);$(document).keyup(function(event){if(event.keyCode==122){hideTip();}return true;});},getPlayerSize:function(){var controlsHeight=(this.isOverlayControls())?0:this.getHeight();var height=$(window).height()-controlsHeight;if(mw.getConfig('EmbedPlayer.IsIframeServer')){return{'height':height,'width':$(window).width()}}else{return{'height':this.embedPlayer.getInterface().height(),'width':this.embedPlayer.getInterface().width()}}},getFsTarget:function(){if(mw.getConfig('EmbedPlayer.IsIframeServer')){var targetId;if(window.fullScreenApi.supportsFullScreen){targetId=this.embedPlayer.id+'_ifp';}else{targetId=this.embedPlayer.id;}return window['parent'].document.getElementById(targetId);}else{var $interface=this.embedPlayer.getInterface();return $interface[0];}},getDocTarget:function(){if(mw.getConfig('EmbedPlayer.IsIframeServer')){return window['parent'].document;}else{return document;}},restoreWindowPlayer:function(){var _this=this;mw.log("PlayerControlBuilder :: restoreWindowPlayer");var embedPlayer=this.embedPlayer;if(this.isInFullScreen()===false){return;}this.inFullScreen=false;embedPlayer.getInterface().removeClass('fullscreen');if(window.fullScreenApi.supportsFullScreen){var fsTarget=this.getFsTarget();var docTarget=this.getDocTarget();window.fullScreenApi.cancelFullScreen(fsTarget,docTarget);}this.restoreContextPlayer();$(document).unbind('touchend.fullscreen');$(embedPlayer).trigger('onCloseFullScreen');},restoreDomPlayer:function(){var _this=this;var embedPlayer=this.embedPlayer;var $interface=embedPlayer.$interface;var interfaceHeight=(_this.isOverlayControls())?embedPlayer.getHeight():embedPlayer.getHeight()+_this.getHeight();mw.log('restoreWindowPlayer:: h:'+interfaceHeight+' w:'+embedPlayer.getWidth());$('.mw-fullscreen-overlay').remove('slow');mw.log('restore embedPlayer:: '+embedPlayer.getWidth()+' h: '+embedPlayer.getHeight());embedPlayer.getInterface().css({'width':_this.preFullscreenPlayerSize.width,'height':_this.preFullscreenPlayerSize.height});var topPos={'position':_this.windowPositionStyle,'z-index':_this.windowZindex,'overlow':'visible','top':'0px','left':'0px'};$([$interface,$interface.find('.playerPoster'),embedPlayer]).css(topPos);if(embedPlayer.getPlayerElement()){$(embedPlayer.getPlayerElement()).css(topPos)}$('body').css('overflow','auto');if(embedPlayer.isPersistentNativePlayer()){$(embedPlayer.getPlayerElement()).css({'z-index':'auto'});}},getOverlayWidth:function(){return(this.embedPlayer.getPlayerWidth()<300)?300:this.embedPlayer.getPlayerWidth();},getOverlayHeight:function(){return(this.embedPlayer.getPlayerHeight()<200)?200:this.embedPlayer.getPlayerHeight();},addControlBindings:function(){var embedPlayer=this.embedPlayer;var _this=this;var $interface=embedPlayer.getInterface();_this.onControlBar=false;$(embedPlayer).unbind(this.bindPostfix);var bindFirstPlay=false;_this.addRightClickBinding();_this.addPlayerClickBindings();$(embedPlayer).bind('onplay'+this.bindPostfix,function(){embedPlayer.controlBuilder.addRightClickBinding();});$(embedPlayer).bind('monitorEvent'+this.bindPostfix,function(){embedPlayer.updatePlayheadStatus();});$(embedPlayer).bind('monitorEvent'+this.bindPostfix,function(){embedPlayer.updateBufferStatus();});$(embedPlayer).bind('onEnableInterfaceComponents'+this.bindPostfix,function(){this.controlBuilder.controlsDisabled=false;this.controlBuilder.addPlayerClickBindings();});$(embedPlayer).bind('onDisableInterfaceComponents'+this.bindPostfix,function(){this.controlBuilder.controlsDisabled=true;this.controlBuilder.removePlayerClickBindings();});this.addPlayerTouchBindings();if($.browser.msie&&$.browser.version<=6){$('#'+embedPlayer.id+' .play-btn-large').pngFix();}this.doVolumeBinding();if(this.addSkinControlBindings&&typeof(this.addSkinControlBindings)=='function'){this.addSkinControlBindings();}$(embedPlayer).bind('onOpenFullScreen'+this.bindPostfix,function(){setTimeout(function(){embedPlayer.doUpdateLayout();},100)});$(embedPlayer).bind('onCloseFullScreen'+this.bindPostfix,function(){setTimeout(function(){embedPlayer.doUpdateLayout();},100)});mw.log('trigger::addControlBindingsEvent');$(embedPlayer).trigger('addControlBindingsEvent');},removePlayerTouchBindings:function(){$(this.embedPlayer).unbind("touchstart"+this.bindPostfix);},addPlayerTouchBindings:function(){var embedPlayer=this.embedPlayer;var _this=this;var $interface=embedPlayer.getInterface();var bindSpaceUp=function(){$(window).bind('keyup'+_this.bindPostfix,function(e){if(e.keyCode==32&&_this.spaceKeyBindingEnabled){if(embedPlayer.paused){embedPlayer.play();}else{embedPlayer.pause();}_this.embedPlayer.stopEventPropagation();setTimeout(function(){_this.embedPlayer.restoreEventPropagation();},1);return false;}});};var bindSpaceDown=function(){$(window).unbind('keyup'+_this.bindPostfix);};if(_this.checkNativeWarning()){_this.addWarningBinding('EmbedPlayer.ShowNativeWarning',gM('mwe-embedplayer-for_best_experience',$('<a />').attr({'href':'http://www.mediawiki.org/wiki/Extension:TimedMediaHandler/Client_download','target':'_new'})));}if(!_this.isOverlayControls()){$interface.show().hover(bindSpaceUp,bindSpaceDown);$(embedPlayer).bind('touchstart'+this.bindPostfix,function(){if(mw.isAndroid41()||mw.isAndroid42()||(mw.isAndroid()&&mw.isFirefox())){return;}mw.log("PlayerControlBuilder:: touchstart:"+' isPause:'+embedPlayer.paused);if(embedPlayer.paused){embedPlayer.play();}else{embedPlayer.pause();}});}else{$(embedPlayer).bind('touchstart'+this.bindPostfix,function(){if(embedPlayer.getInterface().find('.control-bar').is(':visible')){if(mw.isAndroid41()||mw.isAndroid42()||(mw.isAndroid()&&mw.isFirefox())){return;}if(embedPlayer.paused){embedPlayer.play();}else{embedPlayer.pause();}}else{_this.showControlBar();}clearTimeout(_this.hideControlBarCallback);_this.hideControlBarCallback=setTimeout(function(){_this.hideControlBar()},5000);return true;});var hoverIntentConfig={'sensitivity':100,'timeout':1000,'over':function(e){if(mw.isIE9()){clearTimeout(_this.hideControlBarCallback);_this.hideControlBarCallback=false;}_this.showControlBar();bindSpaceUp();},'out':function(e){_this.hideControlBar();bindSpaceDown();}};if(mw.isIE9()){$(embedPlayer.getPlayerElement()).hoverIntent(hoverIntentConfig);embedPlayer.getInterface().find('.control-bar').hover(function(e){_this.onControlBar=true;embedPlayer.getInterface().find('.control-bar').show();},function(e){if(!_this.hideControlBarCallback){_this.hideControlBarCallback=setTimeout(function(){_this.hideControlBar();},1000);}_this.onControlBar=false;});}else{if(!mw.isIpad()){$interface.hoverIntent(hoverIntentConfig);}}}},removePlayerClickBindings:function(){$(this.embedPlayer).unbind("click"+this.bindPostfix).unbind("dblclick"+this.bindPostfix);},addPlayerClickBindings:function(){var _this=this;var embedPlayer=this.embedPlayer;document.ontouchmove=function(e){if(_this.isInFullScreen()){e.preventDefault();}};this.removePlayerClickBindings();$(embedPlayer).bind('onEnableSpaceKey'+this.bindPostfix,function(){_this.spaceKeyBindingEnabled=true;});$(embedPlayer).bind('onDisableSpaceKey'+this.bindPostfix,function(){_this.spaceKeyBindingEnabled=false;});if(this.supportedComponents['fullscreen']){$(embedPlayer).bind("dblclick"+_this.bindPostfix,function(){embedPlayer.fullscreen();});}var dblClickTime=300;var lastClickTime=0;var didDblClick=false;$(embedPlayer).bind("click"+_this.bindPostfix,function(){mw.log("PlayerControlBuilder:: click:"+embedPlayer.id+' isPause:'+embedPlayer.paused);if(embedPlayer.useNativePlayerControls()||_this.isControlsDisabled()||mw.isIpad()||mw.isAndroid40()){return true;}var clickTime=new Date().getTime();if(clickTime-lastClickTime<dblClickTime){didDblClick=true;setTimeout(function(){didDblClick=false;},dblClickTime+10);}lastClickTime=clickTime;setTimeout(function(){if(!didDblClick){if(embedPlayer.paused){embedPlayer.play();}else{embedPlayer.pause();}}},dblClickTime);return true;});},addRightClickBinding:function(){var embedPlayer=this.embedPlayer;if(mw.getConfig('EmbedPlayer.EnableRightClick')===false){document.oncontextmenu=function(e){return false;};$(embedPlayer).mousedown(function(e){if(e.button==2){return false;}});}},hideControlBar:function(){var animateDuration='fast';var _this=this;if(_this.displayOptionsMenuFlag||_this.keepControlBarOnScreen){setTimeout(function(){_this.hideControlBar();},200);return;}if(this.onControlBar===true){return;}this.embedPlayer.getInterface().find('.control-bar').fadeOut(animateDuration);$(this.embedPlayer).trigger('onHideControlBar',{'bottom':15});},restoreControlsHover:function(){if(this.isOverlayControls()){this.keepControlBarOnScreen=false;}},showControlBar:function(keepOnScreen){var animateDuration='fast';if(!this.embedPlayer)return;if(this.embedPlayer.getPlayerElement&&!this.embedPlayer.isPersistentNativePlayer()){$(this.embedPlayer.getPlayerElement()).css('z-index','1');}mw.log('PlayerControlBuilder:: ShowControlBar,  keep on screen: '+keepOnScreen);this.embedPlayer.getInterface().find('.control-bar').fadeIn(animateDuration);if(keepOnScreen){this.keepControlBarOnScreen=true;}$(this.embedPlayer).trigger('onShowControlBar',{'bottom':this.getHeight()+15});},isOverlayControls:function(){if(!this.embedPlayer.supports['overlays']){return false;}if(this.embedPlayer.overlaycontrols===false){return false;}if(this.embedPlayer.isAudio()){return false;}if(mw.getConfig('EmbedPlayer.OverlayControls')===false){return false;}if(this.embedPlayer.controls===false){return false;}return true;},isControlsDisabled:function(){return this.controlsDisabled;},checkNativeWarning:function(){if(mw.getConfig('EmbedPlayer.ShowNativeWarning')===false){return false;}if(this.embedPlayer.instanceOf=='ImageOverlay'){return false;}if(this.embedPlayer.getPlayerHeight()<199){return false;}var supportingPlayers=mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('video/ogg');for(var i=0;i<supportingPlayers.length;i++){if(supportingPlayers[i].id=='oggNative'){return false;}}if(/chrome/.test(navigator.userAgent.toLowerCase())&&mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('video/webm').length){return false;}if((mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('video/mp4').length&&this.embedPlayer.mediaElement.getSources('video/mp4').length)||(mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('video/x-flv').length&&this.embedPlayer.mediaElement.getSources('video/x-flv').length)||(mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('application/vnd.apple.mpegurl').length&&this.embedPlayer.mediaElement.getSources('application/vnd.apple.mpegurl').length)||(mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('audio/mpeg').length&&this.embedPlayer.mediaElement.getSources('audio/mpeg').length)){return false;}return true;},addWarningBinding:function(preferenceId,warningMsg,hideDisableUi){mw.log('mw.PlayerControlBuilder: addWarningBinding: '+preferenceId+' wm: '+warningMsg);var embedPlayer=this.embedPlayer;var _this=this;if(embedPlayer.getWidth()<200){return false;}if(mw.getConfig(preferenceId)===true&&$.cookie(preferenceId)=='hidewarning'){return;}var warnId="warningOverlay_"+embedPlayer.id;$('#'+warnId).remove();var $targetWarning=$('<div />').attr({'id':warnId}).addClass('ui-state-highlight ui-corner-all').css({'position':'absolute','background':'#333','color':'#AAA','top':'10px','left':'10px','right':'10px','padding':'4px','z-index':2}).html(warningMsg);embedPlayer.getInterface().append($targetWarning);$targetWarning.append($('<br />'));if(!hideDisableUi){$targetWarning.append($('<input type="checkbox" />').attr({'id':'ffwarn_'+embedPlayer.id,'name':'ffwarn_'+embedPlayer.id}).click(function(){mw.log("WarningBindinng:: set "+preferenceId+' to hidewarning ');embedPlayer.setCookie(preferenceId,'hidewarning',{expires:30})
mw.setConfig(preferenceId,false);$('#warningOverlay_'+embedPlayer.id).fadeOut('slow');_this.addWarningFlag=false;}));$targetWarning.append($('<label />').text(gM('mwe-embedplayer-do_not_warn_again')).attr('for','ffwarn_'+embedPlayer.id));}return $targetWarning;},doVolumeBinding:function(){var embedPlayer=this.embedPlayer;var _this=this;embedPlayer.getInterface().find('.volume_control').unbind().buttonHover().click(function(){mw.log('Volume control toggle');embedPlayer.toggleMute();});if(this.volumeLayout=='vertical'){var hoverOverDelay=false;var $targetvol=embedPlayer.getInterface().find('.vol_container').hide();embedPlayer.getInterface().find('.volume_control').hover(function(){$targetvol.addClass('vol_container_top');if(embedPlayer&&embedPlayer.isPlaying&&embedPlayer.isPlaying()&&!embedPlayer.supports['overlays']){$targetvol.removeClass('vol_container_top').addClass('vol_container_below');}$targetvol.fadeIn('fast');hoverOverDelay=true;},function(){hoverOverDelay=false;setTimeout(function(){if(!hoverOverDelay){$targetvol.fadeOut('fast');}},500);});}var userSlide=false;var sliderConf={range:"min",value:80,min:0,max:100,slide:function(event,ui){var percent=ui.value/100;mw.log('PlayerControlBuilder::slide:update volume:'+percent);embedPlayer.setVolume(percent);userSlide=true;},change:function(event,ui){var percent=ui.value/100;if(percent==0){embedPlayer.getInterface().find('.volume_control span').removeClass('ui-icon-volume-on').addClass('ui-icon-volume-off');}else{embedPlayer.getInterface().find('.volume_control span').removeClass('ui-icon-volume-off').addClass('ui-icon-volume-on');}mw.log('PlayerControlBuilder::change:update volume:'+percent);embedPlayer.setVolume(percent,userSlide);userSlide=false;}};if(this.volumeLayout=='vertical'){sliderConf['orientation']="vertical";}embedPlayer.getInterface().find('.volume-slider').slider(sliderConf);},getOptionsMenu:function(){var $optionsMenu=$('<ul />');for(var menuItemKey in this.optionMenuItems){if($.inArray(menuItemKey,mw.getConfig('EmbedPlayer.EnabledOptionsMenuItems'))===-1){continue;}$optionsMenu.append(this.optionMenuItems[menuItemKey](this));}return $optionsMenu;},onClipDone:function(){},onSeek:function(){this.setStatus(gM('mwe-embedplayer-seeking'));this.embedPlayer.addPlayerSpinner();this.embedPlayer.hideSpinnerOncePlaying();},setStatus:function(value){if(this.embedPlayer.getInterface()){this.embedPlayer.getInterface().find('.time-disp').html(value);}},optionMenuItems:{'share':function(ctrlObj){return $.getLineItem(gM('mwe-embedplayer-share'),'mail-closed',function(){ctrlObj.displayMenuOverlay(ctrlObj.getShare());$(ctrlObj.embedPlayer).trigger('showShareEvent');});},'aboutPlayerLibrary':function(ctrlObj){return $.getLineItem(gM('mwe-embedplayer-about-library'),'info',function(){ctrlObj.displayMenuOverlay(ctrlObj.aboutPlayerLibrary());$(ctrlObj.embedPlayer).trigger('aboutPlayerLibrary');});}},closeMenuOverlay:function(){var _this=this;var embedPlayer=this.embedPlayer;var $overlay=embedPlayer.getInterface().find('.overlay-win,.ui-widget-overlay,.ui-widget-shadow');if($overlay.length&&!embedPlayer._playContorls&&!$overlay.find('.overlayCloseButton').length){embedPlayer.enablePlayControls();}this.displayOptionsMenuFlag=false;$overlay.fadeOut("slow",function(){$overlay.remove();});$overlay.remove();if(embedPlayer.isStopped()&&(embedPlayer.sequenceProxy&&embedPlayer.sequenceProxy.isInSequence==false)){embedPlayer.getInterface().find('.play-btn-large').fadeIn('slow');}$(embedPlayer).trigger('closeMenuOverlay');return false;},displayMenuOverlay:function(overlayContent,closeCallback,hideCloseButton){var _this=this;var embedPlayer=this.embedPlayer;mw.log('PlayerControlBuilder:: displayMenuOverlay');this.displayOptionsMenuFlag=true;if(!this.supportedComponents['overlays']){embedPlayer.stop();}embedPlayer.hideLargePlayBtn();if(embedPlayer.getInterface().find('.overlay-win').length!=0){embedPlayer.getInterface().find('.overlay-content').html(overlayContent);return;}var $overlayContainer=embedPlayer.getInterface();if(hideCloseButton){$overlayContainer=embedPlayer.getVideoHolder();embedPlayer.disablePlayControls(['playlistPrevNext']);embedPlayer.getInterface().find('.play-btn').unbind('click').click(function(){if(embedPlayer._playContorls){embedPlayer.play();}})}$overlayContainer.append($('<div />').addClass('ui-widget-overlay').css({'height':'100%','width':'100%','z-index':2}));var $closeButton=[];if(!hideCloseButton){$closeButton=$('<div />').addClass('ui-state-default ui-corner-all ui-icon_link rButton overlayCloseButton').css({'position':'absolute','cursor':'pointer','top':'2px','right':'2px'}).click(function(){_this.closeMenuOverlay();if(closeCallback){closeCallback();}}).append($('<span />').addClass('ui-icon ui-icon-closethick'));}var overlayMenuCss={'height':'100%','width':'100%','position':'absolute','margin':'0 10px 10px 0','overflow':'auto','padding':'4px','z-index':3};var $overlayMenu=$('<div />').addClass('overlay-win ui-state-default ui-widget-header ui-corner-all').css(overlayMenuCss).append($closeButton,$('<div />').addClass('overlay-content').append(overlayContent));$overlayContainer.prepend($overlayMenu).find('.overlay-win').fadeIn("slow");$(embedPlayer).trigger('displayMenuOverlay');return false;},closeAlert:function(keepOverlay){var embedPlayer=this.embedPlayer;var $alert=embedPlayer.getInterface().find('.alert-container');mw.log('mw.PlayerControlBuilder::closeAlert');if(!keepOverlay||(mw.isIpad()&&this.inFullScreen)){embedPlayer.controlBuilder.closeMenuOverlay();}$alert.remove();return false;},displayAlert:function(alertObj){var embedPlayer=this.embedPlayer;var callback;mw.log('PlayerControlBuilder::displayAlert:: '+alertObj.title);if(embedPlayer.getInterface().find('.overlay-win').length!=0){return;}if(typeof alertObj.callbackFunction=='string'){if(alertObj.isExternal){try{callback=window.parent[alertObj.callbackFunction];}catch(e){}}else{callback=window[alertObj.callbackFunction];}}else if(typeof alertObj.callbackFunction=='function'){callback=alertObj.callbackFunction;}else{callback=function(){};}var $container=$('<div />').addClass('alert-container');var $title=$('<div />').text(alertObj.title).addClass('alert-title alert-text');if(alertObj.props&&alertObj.props.titleTextColor){$title.removeClass('alert-text');$title.css('color',mw.getHexColor(alertObj.props.titleTextColor));}var $message=$('<div />').text(alertObj.message).addClass('alert-message alert-text');if(alertObj.isError){$message.addClass('error');}if(alertObj.props&&alertObj.props.textColor){$message.removeClass('alert-text');$message.css('color',mw.getHexColor(alertObj.props.textColor));}var $buttonsContainer=$('<div />').addClass('alert-buttons-container');if(alertObj.props&&alertObj.props.buttonRowSpacing){$buttonsContainer.css('margin-top',alertObj.props.buttonRowSpacing);}var $buttonSet=alertObj.buttons||[];var buttonsNum=$buttonSet.length;if(buttonsNum==0&&!alertObj.noButtons){$buttonSet=["OK"];buttonsNum++;}$.each($buttonSet,function(i){var label=this.toString();var $currentButton=$('<button />').addClass('alert-button').text(label).click(function(eventObject){callback(eventObject);embedPlayer.controlBuilder.closeAlert(alertObj.keepOverlay);});if(alertObj.props&&alertObj.props.buttonHeight){$currentButton.css('height',alertObj.props.buttonHeight);}if(buttonsNum>1){if(i<buttonsNum-1){if(alertObj.props&&alertObj.props.buttonSpacing){$currentButton.css('margin-right',alertObj.props.buttonSpacing);}}}$buttonsContainer.append($currentButton);});$container.append($title,$message,$buttonsContainer);return embedPlayer.controlBuilder.displayMenuOverlay($container,false,true);},aboutPlayerLibrary:function(){return $('<div />').append($('<h2 />').text(gM('mwe-embedplayer-about-library')),$('<span />').append(gM('mwe-embedplayer-about-library-desc',$('<a />').attr({'href':mw.getConfig('EmbedPlayer.LibraryPage'),'target':'_new'}))));},getShare:function(){var embedPlayer=this.embedPlayer;var embed_code=embedPlayer.getSharingEmbedCode();var _this=this;var $shareInterface=$('<div />');var $shareList=$('<ul />');$shareList.append($('<li />').text(gM('mwe-embedplayer-embed_site_or_blog')));$shareInterface.append($('<h2 />').text(gM('mwe-embedplayer-share_this_video')));$shareInterface.append($shareList);var $shareButton=false;if(!mw.isIpad()){$shareButton=$('<button />').addClass('ui-state-default ui-corner-all copycode').text(gM('mwe-embedplayer-copy-code')).click(function(){$shareInterface.find('textarea').focus().select();if(document.selection){var copiedTxt=document.selection.createRange();copiedTxt.execCommand("Copy");}});}$shareInterface.append($('<textarea />').attr('rows',4).html(embed_code).click(function(){$(this).select();}),$('<br />'),$('<br />'),$shareButton);return $shareInterface;},getPlayerSelect:function(){mw.log('PlayerControlBuilder::getPlayerSelect: source:'+this.embedPlayer.mediaElement.selectedSource.getSrc()+' player: '+this.embedPlayer.selectedPlayer.id);var embedPlayer=this.embedPlayer;var _this=this;var $playerSelect=$('<div />').append($('<h2 />').text(gM('mwe-embedplayer-choose_player')));$.each(embedPlayer.mediaElement.getPlayableSources(),function(sourceId,source){var isPlayable=(typeof mw.EmbedTypes.getMediaPlayers().defaultPlayer(source.getMIMEType())=='object');var isSelected=(source.getSrc()==embedPlayer.mediaElement.selectedSource.getSrc());$playerSelect.append($('<h3 />').text(source.getTitle()));if(isPlayable){var $playerList=$('<ul />');var supportingPlayers=mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers(source.getMIMEType());for(var i=0;i<supportingPlayers.length;i++){if(embedPlayer.selectedPlayer.id==supportingPlayers[i].id&&isSelected){var $playerLine=$('<span />').append($('<a />').attr({'href':'#'}).addClass('active').text(supportingPlayers[i].getName())).click(function(){embedPlayer.controlBuilder.closeMenuOverlay();});}else{$playerLine=$('<a />').attr({'href':'#','id':'sc_'+sourceId+'_'+supportingPlayers[i].id}).addClass('ui-corner-all').text(supportingPlayers[i].getName()).click(function(){var iparts=$(this).attr('id').replace(/sc_/,'').split('_');var sourceId=iparts[0];var player_id=iparts[1];mw.log('PlayerControlBuilder:: source id: '+sourceId+' player id: '+player_id);embedPlayer.controlBuilder.closeMenuOverlay();if(_this.isInFullScreen()){_this.restoreWindowPlayer();}embedPlayer.mediaElement.setSourceByIndex(sourceId);var playableSources=embedPlayer.mediaElement.getPlayableSources();mw.EmbedTypes.getMediaPlayers().setPlayerPreference(player_id,playableSources[sourceId].getMIMEType());embedPlayer.stop();return false;}).hover(function(){$(this).addClass('active');},function(){$(this).removeClass('active');});}$playerList.append($('<li />').append($playerLine));}$playerSelect.append($playerList);}else{$playerSelect.append(gM('mwe-embedplayer-no-player',source.getTitle()));}});return $playerSelect;},showDownload:function($target){var _this=this;var embedPlayer=this.embedPlayer;_this.showDownloadWithSources($target);},showDownloadWithSources:function($target){var _this=this;mw.log('PlayerControlBuilder:: showDownloadWithSources::'+$target.length);var embedPlayer=this.embedPlayer;$target.empty();$target.append($('<div />'));$target=$target.find('div');var $mediaList=$('<ul />');var $textList=$('<ul />');$.each(embedPlayer.mediaElement.getSources(),function(index,source){if(source.getSrc()){mw.log("showDownloadWithSources:: Add src: "+source.getTitle());var fileName=source.mwtitle;if(!fileName){var path=new mw.Uri(source.getSrc()).path;var pathParts=path.split('/');fileName=pathParts[pathParts.length-1];}var $dlLine=$('<li />').append($('<a />').attr({'href':source.getSrc(),'download':fileName}).text(source.getTitle()));if(source.getSrc().indexOf('?t=')!==-1){$target.append($dlLine);}else if(this.getMIMEType().indexOf('text')===0){$textList.append($dlLine);}else{$mediaList.append($dlLine);}}});if($mediaList.find('li').length!=0){$target.append($('<h2 />').text(gM('mwe-embedplayer-download_full')),$mediaList);}if($textList.find('li').length!=0){$target.append($('<h2 />').html(gM('mwe-embedplayer-download_text')),$textList);}},getSwitchSourceMenu:function(){var _this=this;var embedPlayer=this.embedPlayer;var $sourceMenu=$('<ul />');function addToSourceMenu(source){var icon=(source.getSrc()==embedPlayer.mediaElement.selectedSource.getSrc())?'bullet':'radio-on';$sourceMenu.append($.getLineItem(source.getShortTitle(),icon,function(){mw.log('PlayerControlBuilder::SwitchSourceMenu: '+source.getSrc());$(this).parent().siblings().find('span.ui-icon').removeClass('ui-icon-bullet').addClass('ui-icon-radio-on');$(this).find('span.ui-icon').removeClass('ui-icon-radio-on').addClass('ui-icon-bullet');embedPlayer.getInterface().find('.source-switch').text(source.getShortTitle());embedPlayer.mediaElement.setSource(source);if(!_this.embedPlayer.isStopped()){var oldMediaTime=_this.embedPlayer.getPlayerElement().currentTime;var oldPaused=_this.embedPlayer.paused;embedPlayer.playerSwitchSource(source,function(vid){embedPlayer.setCurrentTime(oldMediaTime,function(){if(oldPaused){embedPlayer.pause();}});});}}));}var sources=this.embedPlayer.mediaElement.getPlayableSources();if(sources[0].getBitrate()){sources.sort(function(a,b){return a.getBitrate()-b.getBitrate();});}$.each(sources,function(sourceIndex,source){var supportingPlayers=mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers(source.getMIMEType());for(var i=0;i<supportingPlayers.length;i++){if(supportingPlayers[i].library=='Native'){addToSourceMenu(source);}}});return $sourceMenu;},getComponent:function(componentId){if(this.components[componentId]){return this.components[componentId].o(this);}else{return false;}},getComponentHeight:function(componentId){if(this.components[componentId]&&this.components[componentId].h){return this.components[componentId].h;}return 0;},getComponentWidth:function(componentId){if(this.components[componentId]&&this.components[componentId].w){return this.components[componentId].w;}return 0;},disableSeekBar:function(){var $playHead=this.embedPlayer.getInterface().find(".play_head");if($playHead.length){$playHead.slider("option","disabled",true);}},enableSeekBar:function(){var $playHead=this.embedPlayer.getInterface().find(".play_head");if($playHead.length){$playHead.slider("option","disabled",false);}},components:{'playButtonLarge':{'w':70,'h':53,'o':function(ctrlObj){return $('<div />').attr({'title':gM('mwe-embedplayer-play_clip'),'class':"play-btn-large"}).click(function(){ctrlObj.embedPlayer.play();return false;});}},'attributionButton':{'w':28,'o':function(ctrlObj){var buttonConfig=mw.getConfig('EmbedPlayer.AttributionButton');if(buttonConfig.iconurl){var $icon=$('<img />').attr('src',buttonConfig.iconurl);}else{var $icon=$('<span />').addClass('ui-icon');if(buttonConfig['class']){$icon.addClass(buttonConfig['class']);}}if(typeof buttonConfig.style!='object'){buttonConfig.style={};}if(buttonConfig.style.width){this.w=parseInt(buttonConfig.style.width);}else{buttonConfig.style.width=parseInt(this.w)+'px';}return $('<div />').addClass('rButton').css({'top':'1px','left':'2px'}).css(buttonConfig.style).append($('<a />').attr({'href':buttonConfig.href,'title':buttonConfig.title,'target':'_new'}).append($icon));}},'options':{'w':28,'o':function(ctrlObj){return $('<div />').attr('title',gM('mwe-embedplayer-player_options')).addClass('ui-state-default ui-corner-all ui-icon_link rButton options-btn').append($('<span />').addClass('ui-icon ui-icon-wrench')).buttonHover().menu({'content':ctrlObj.getOptionsMenu(),'zindex':mw.getConfig('EmbedPlayer.FullScreenZIndex')+2,'positionOpts':{'directionV':'up','offsetY':30,'directionH':'left','offsetX':-28}});}},'fullscreen':{'w':24,'o':function(ctrlObj){var $btn=$('<div />').attr('title',gM('mwe-embedplayer-player_fullscreen')).addClass("ui-state-default ui-corner-all ui-icon_link rButton fullscreen-btn").append($('<span />').addClass("ui-icon ui-icon-arrow-4-diag")).buttonHover();if((mw.getConfig('EmbedPlayer.IsIframeServer')&&mw.isIpad3())||mw.getConfig("EmbedPlayer.NewWindowFullscreen")){var url=ctrlObj.embedPlayer.getIframeSourceUrl();return $('<a />').attr({'href':url,'target':'_new'}).click(function(){var url=$(this).attr('href');var iframeMwConfig={};iframeMwConfig['EmbedPlayer.IsFullscreenIframe']=true;iframeMwConfig['EmbedPlayer.IframeCurrentTime']=ctrlObj.embedPlayer.currentTime;iframeMwConfig['EmbedPlayer.IframeIsPlaying']=ctrlObj.embedPlayer.isPlaying();iframeMwConfig['EmbedPlayer.IframeParentUrl']=document.URL;url+='#'+encodeURIComponent(JSON.stringify({'mwConfig':iframeMwConfig,'playerId':ctrlObj.embedPlayer.id}));ctrlObj.embedPlayer.pause();var newwin=window.open(url,ctrlObj.embedPlayer.id,'width='+screen.width+', height='+(screen.height-90)+', top=0, left=0'+', fullscreen=yes');if(newwin===null){return true;}if(window.focus){newwin.focus();}return false;}).append($btn);}else{return $btn.click(function(){ctrlObj.embedPlayer.fullscreen();});}}},'pause':{'w':28,'o':function(ctrlObj){return $('<div />').attr('title',gM('mwe-embedplayer-play_clip')).addClass("ui-state-default ui-corner-all ui-icon_link lButton play-btn").append($('<span />').addClass("ui-icon ui-icon-play")).buttonHover().click(function(){ctrlObj.embedPlayer.play();});}},'volumeControl':{'w':28,'o':function(ctrlObj){mw.log('PlayerControlBuilder::Set up volume control for: '+ctrlObj.embedPlayer.id);var $volumeOut=$('<span />');if(ctrlObj.volumeLayout=='horizontal'){$volumeOut.append($('<div />').addClass("ui-slider ui-slider-horizontal rButton volume-slider"));}$volumeOut.append($('<div />').attr('title',gM('mwe-embedplayer-volume_control')).addClass("ui-state-default ui-corner-all ui-icon_link rButton volume_control").append($('<span />').addClass("ui-icon ui-icon-volume-on")));if(ctrlObj.volumeLayout=='vertical'){$volumeOut.find('.volume_control').append($('<div />').hide().addClass("vol_container ui-corner-all").append($('<div />').addClass("volume-slider")));}return $volumeOut.html();}},'sourceSwitch':{'w':70,'o':function(ctrlObj){var $menuContainer=$('<div />').addClass('swMenuContainer').hide();ctrlObj.embedPlayer.getInterface().append($menuContainer)
return $('<div />').addClass('ui-widget source-switch').css('height',ctrlObj.getHeight()).append(ctrlObj.embedPlayer.mediaElement.selectedSource.getShortTitle()).menu({'content':ctrlObj.getSwitchSourceMenu(),'zindex':mw.getConfig('EmbedPlayer.FullScreenZIndex')+2,'keepPosition':true,'targetMenuContainer':$menuContainer,'width':160,'showSpeed':0,'createMenuCallback':function(){var $interface=ctrlObj.embedPlayer.getInterface();var $sw=$interface.find('.source-switch');var $swMenuContainer=$interface.find('.swMenuContainer');var height=$swMenuContainer.find('li').length*24;if(height>$interface.height()-30){height=$interface.height()-30;}var top=$interface.height()-height-ctrlObj.getHeight()-8;$menuContainer.css({'position':'absolute','left':$sw[0].offsetLeft-30,'top':top,'bottom':ctrlObj.getHeight(),'height':height})
ctrlObj.showControlBar(true);},'closeMenuCallback':function(){ctrlObj.restoreControlsHover()}});}},'timeDisplay':{'w':mw.getConfig('EmbedPlayer.TimeDisplayWidth'),'o':function(ctrlObj){return $('<div />').addClass("ui-widget time-disp").append(ctrlObj.embedPlayer.getTimeRange());}},'playHead':{'w':0,'o':function(ctrlObj){var sliderConfig={range:"min",value:0,min:0,max:1000,animate:mw.getConfig('EmbedPlayer.MonitorRate')-(mw.getConfig('EmbedPlayer.MonitorRate')/30),start:function(event,ui){var id=(embedPlayer.pc!=null)?embedPlayer.pc.pp.id:embedPlayer.id;embedPlayer.userSlide=true;$(id+' .play-btn-large').fadeOut('fast');embedPlayer.startTimeSec=(embedPlayer.instanceOf=='mvPlayList')?0:mw.npt2seconds(embedPlayer.getTimeRange().split('/')[0]);},slide:function(event,ui){var perc=ui.value/1000;$(this).find('.ui-slider-handle').attr('data-title',mw.seconds2npt(perc*embedPlayer.getDuration()));embedPlayer.jumpTime=mw.seconds2npt(parseFloat(parseFloat(embedPlayer.getDuration())*perc)+embedPlayer.startTimeSec);if(_this.longTimeDisp){ctrlObj.setStatus(gM('mwe-embedplayer-seek_to',embedPlayer.jumpTime));}else{ctrlObj.setStatus(embedPlayer.jumpTime);}if(embedPlayer.isPlaying==false){embedPlayer.updateThumbPerc(perc);}},change:function(event,ui){var perc=ui.value/1000;$(this).find('.ui-slider-handle').attr('data-title',mw.seconds2npt(perc*embedPlayer.getDuration()));if(embedPlayer.userSlide){embedPlayer.userSlide=false;embedPlayer.seeking=true;embedPlayer.seekTimeSec=mw.npt2seconds(embedPlayer.jumpTime,true);mw.log('PlayerControlBuilder:: seek to: '+embedPlayer.jumpTime+' perc:'+perc+' sts:'+embedPlayer.seekTimeSec);ctrlObj.setStatus(gM('mwe-embedplayer-seeking'));if(embedPlayer.isStopped()){embedPlayer.play();}embedPlayer.seek(perc);}}};var embedPlayer=ctrlObj.embedPlayer;if(embedPlayer.sequenceProxy){sliderConfig['disabled']=true;}var _this=this;var $playHead=$('<div />').addClass("play_head").css({"position":'absolute',"left":(ctrlObj.components.pause.w+2)+'px',"right":((embedPlayer.getPlayerWidth()-ctrlObj.availableWidth)-ctrlObj.components.pause.w)+'px'}).slider(sliderConfig);$playHead.find('.ui-slider-handle').css('z-index',4).attr('data-title',mw.seconds2npt(0));$playHead.find('.ui-slider-range').addClass('ui-corner-all').css('z-index',2);$playHead.append($('<div />').addClass("ui-slider-range ui-slider-range-min ui-widget-header").addClass("ui-state-highlight ui-corner-all mw_buffer"));return $playHead;}}}};})(window.mediaWiki,window.jQuery);;},{"all":".mwPlayerContainer video{width:100%;height:100%}.videoHolder{position:relative;overflow:hidden;width:100%;height:100%;background:#000}.mwPlayerContainer.fullscreen{position:absolute !important;width:100% !important;height:100%! important;z-index:9999;min-height:100%;top:0;left:0;margin:0}.mwPlayerContainer{position:relative }.mwEmbedPlayer{width:100%;height:100%;overflow:hidden;position:absolute;top:0;left:0}.mv-player .control-bar.hover{width:100%;position:absolute;bottom:0;left:0}.player_select_list{color:white;font-size:10pt; }.player_select_list a:visited{color:white}.mv_playhead{position:absolute;top:0;left:0;width:17px;height:21px; }.mv_status{font-family:\"Times New Roman\",Times,serif;font-size:14px;float:left}.set_ogg_player_pref{text-align:left}.large_play_button{display:block;width:130px;height:96px;margin:auto; position:absolute;z-index:3;cursor:pointer} .mv-player .overlay-win{background:transparent;border:0} .mv-player .overlay-content{padding:10px}.mv-player .overlay-content h3{display:block;font-size:16px;font-weight:bold;color:#fff;font-family:arial}.mv-player .overlay-win h2{font-size:18px;margin-top:0}.mv-player .overlay-content div{font-size:12px;color:#fff;font-weight:bold}.mv-player .overlay-content div a{color:#00a8ff }.mv-player .overlay-content div a:hover{color:#3abcff }.mv-player .overlay-content ul{list-style:none;margin:0 0 10px 0;padding:0}.mv-player .vol_container{background:#272727;opacity:.90;filter:Alpha(Opacity=90);position:absolute;left:0px}.mv-player .ui-icon ui-icon-closethick{border:1px solid #606060;background:#222;font-weight:normal;color:#EEE}.mv-player .overlay-win textarea{background:#e4e4e4;height:35px;padding:6px;color:#666;border:0}.mv-player .overlay-content .copycode{color:#333;padding:8px 12px;font-weight:bold;float:right;cursor:pointer}.control-bar .ui-icon_link{border:0}.control-bar .ui-state-hover{border:0}.control-bar{position:relative;overflow:visible}\n\n/* cache key: resourceloader:filter:minify-css:7:b645274eaacc53b9eaa98f1fad1dab5a */\n"},{"mwe-embedplayer-credit-title":"Title: $1","mwe-embedplayer-credit-date":"Date: $1","mwe-embedplayer-credit-author":"Author: $1","mwe-embedplayer-nocredits":"No credits available","mwe-embedplayer-loading_plugin":"Loading plugin ...","mwe-embedplayer-select_playback":"Set playback preference","mwe-embedplayer-link_back":"Link back","mwe-embedplayer-error_swap_vid":"Error: mwEmbed was unable to swap the video tag for the mwEmbed interface","mwe-embedplayer-add_to_end_of_sequence":"Add to end of sequence","mwe-embedplayer-missing_video_stream":"The video file for this stream is missing","mwe-embedplayer-play_clip":"Play clip","mwe-embedplayer-pause_clip":"Pause clip","mwe-embedplayer-volume_control":"Volume control","mwe-embedplayer-volume-mute":"Mute","mwe-embedplayer-volume-unmute":"Unmute","mwe-embedplayer-player_options":"Player options","mwe-embedplayer-timed_text":"Timed text","mwe-embedplayer-player_fullscreen":"Fullscreen","mwe-embedplayer-player_closefullscreen":"Exit Fullscreen","mwe-embedplayer-next_clip_msg":"Play next clip","mwe-embedplayer-prev_clip_msg":"Play previous clip","mwe-embedplayer-current_clip_msg":"Continue playing this clip","mwe-embedplayer-seek_to":"Seek $1","mwe-embedplayer-paused":"paused","mwe-embedplayer-download_segment":"Download selection:","mwe-embedplayer-download_full":"Download full video file:","mwe-embedplayer-download_right_click":"To download, right click and select <i>Save link as...<\/i>","mwe-embedplayer-download_clip":"Download video","mwe-embedplayer-download_text":"Download text","mwe-embedplayer-download":"Download","mwe-embedplayer-share":"Share","mwe-embedplayer-credits":"Credits","mwe-embedplayer-about-library":"About Kaltura player","mwe-embedplayer-about-library-desc":"Kaltura's HTML5 media library enables you to take advantage of the HTML5 &lt;video&gt; and &lt;audio&gt; tags today with a consistent player interface across all major browsers.\r\n\r\n[$1 More about the Kaltura player library].","mwe-embedplayer-clip_linkback":"Clip source page","mwe-embedplayer-choose_player":"Choose video player","mwe-embedplayer-no-player":"No player available for $1","mwe-embedplayer-share_this_video":"Share this video","mwe-embedplayer-video_credits":"Video credits","mwe-embedplayer-no-video_credits":"No credits available","mwe-embedplayer-kaltura-platform-title":"Kaltura open source video platform","mwe-embedplayer-menu_btn":"Menu","mwe-embedplayer-close_btn":"Close","mwe-embedplayer-ogg-player-vlc-player":"VLC player","mwe-embedplayer-ogg-player-oggNative":"HTML5 Ogg player","mwe-embedplayer-ogg-player-h264Native":"HTML5 H.264 player","mwe-embedplayer-ogg-player-webmNative":"HTML5 WebM player","mwe-embedplayer-ogg-player-oggPlugin":"Generic Ogg plugin","mwe-embedplayer-ogg-player-quicktime-mozilla":"QuickTime plugin","mwe-embedplayer-ogg-player-quicktime-activex":"QuickTime ActiveX","mwe-embedplayer-ogg-player-cortado":"Java Cortado","mwe-embedplayer-ogg-player-flowplayer":"Flowplayer","mwe-embedplayer-ogg-player-kplayer":"Kaltura player","mwe-embedplayer-ogg-player-selected":"(selected)","mwe-embedplayer-ogg-player-omtkplayer":"OMTK Flash Vorbis","mwe-embedplayer-for_best_experience":"For a better video playback experience we recommend a [$1 html5 video browser].","mwe-embedplayer-download-warn":"No compatible in browser player was detected, for in browser playback please download the [$1 latest Firefox]","mwe-embedplayer-fullscreen-tip":"Press <b>F11<\/b> toggle <i>web browser<\/i> fullscreen","mwe-embedplayer-fullscreen-tip-osx":"Press <b>shift \u2318 F<\/b> to toggle fullscreen","mwe-embedplayer-do_not_warn_again":"In the future, do not show this message","mwe-embedplayer-playerSelect":"Players","mwe-embedplayer-read_before_embed":"<a href=\"http:\/\/mediawiki.org\/wiki\/Security_Notes_on_Remote_Embedding\" target=\"new\">Read this<\/a> before embedding.","mwe-embedplayer-embed_site_or_blog":"Embed on a page","mwe-embedplayer-related_videos":"Related videos","mwe-embedplayer-seeking":"seeking","mwe-embedplayer-buffering":"buffering","mwe-embedplayer-copy-code":"Copy code","mwe-embedplayer-video-h264":"H.264 video","mwe-embedplayer-video-webm":"WebM video","mwe-embedplayer-video-flv":"Flash video","mwe-embedplayer-video-ogg":"Ogg video","mwe-embedplayer-video-audio":"Ogg audio","mwe-embedplayer-audio-mpeg":"MPEG audio","mwe-embedplayer-video-3gp":"3GP video","mwe-embedplayer-video-mpeg":"MPEG video","mwe-embedplayer-video-msvideo":"AVI video","mwe-embedplayer-missing-source":"No source video was found"});mw.loader.implement("mw.EmbedPlayerImageOverlay",function($){(function(mw,$){"use strict";mw.EmbedPlayerImageOverlay={instanceOf:'ImageOverlay',playerReady:true,lastPauseTime:0,currentTime:0,startOffset:0,clockStartTime:0,imageLoaded:false,init:function(){if(this['native_instaceOf']=='Native'){return;}for(var i in mw.EmbedPlayerNative){if(typeof mw.EmbedPlayerImageOverlay[i]!='undefined'){this['native_'+i]=mw.EmbedPlayerNative[i];}else{this[i]=mw.EmbedPlayerNative[i];}}},updatePlaybackInterface:function(callback){mw.log('EmbedPlayerImageOverlay:: updatePlaybackInterface: '+$(this).siblings('.playerPoster').length);$(this.getPlayerElement()).css('left',0);this.parent_updatePlaybackInterface(callback);},updatePosterHTML:function(){var vid=this.getPlayerElement();$(vid).empty()
this.embedPlayerHTML();this.addLargePlayBtn();},play:function(){mw.log('EmbedPlayerImageOverlay::play> lastPauseTime:'+this.lastPauseTime+' ct: '+this.currentTime);this.captureUserGesture();this.applyIntrinsicAspect();if(this.currentTime>this.getDuration()){this.currentTime=this.pauseTime=0;}this.stopped=false;this.parent_play();this.playInterfaceUpdate();this.clockStartTime=new Date().getTime();this.bufferedPercent=0;this.monitor();},getDuration:function(){if(this.duration){return this.duration;}this.updateDuration();return this.duration;},updateDuration:function(){if($(this).data('imageDuration')){this.duration=parseFloat($(this).data('imageDuration'));}else{this.duration=parseFloat(mw.getConfig("EmbedPlayer.DefaultImageDuration"));}},stop:function(){this.currentTime=0;this.parent_stop();},_onpause:function(){},pause:function(){mw.log('EmbedPlayerImageOverlay::pause, lastPauseTime: '+this.lastPauseTime);this.lastPauseTime=this.currentTime;this.parent_pause();},monitor:function(){if(this.duration==0){return;}var oldCurrentTime=this.currentTime;if(this.currentTime>=this.duration){this.updatePlayHead(0);this.stopMonitor();$(this).trigger('ended');}else{this.parent_monitor();}if(oldCurrentTime!=this.currentTime){$(this).trigger('timeupdate');}},seek:function(seekPercent){this.lastPauseTime=seekPercent*this.getDuration();this.seeking=false;$(this).trigger('seeking');$(this).trigger('seeked');this.play();},setCurrentTime:function(time,callback){this.lastPauseTime=time;$(this).trigger('seeking');$(this).trigger('seeked');if(callback){callback();}},playerSwitchSource:function(source,switchCallback,doneCallback){mw.log("EmbedPlayerImageOverlay:: playerSwitchSource");var _this=this;this.mediaElement.selectedSource=source;this.addPlayerSpinner();this.captureUserGesture();this.embedPlayerHTML(function(){mw.log("EmbedPlayerImageOverlay:: playerSwitchSource, embedPlayerHTML callback");_this.applyIntrinsicAspect();_this.play();if(switchCallback){switchCallback(_this);}$(_this).bind('ended.playerSwitchSource',function(){_this.stopMonitor();$(_this).unbind('ended.playerSwitchSource');if(doneCallback){doneCallback(_this);}})});},captureUserGesture:function(){if(!$(this).data('previousInstanceOf')){$(this).data('previousInstanceOf',this.instanceOf);var vid=this.getPlayerElement();$(vid).attr('src',null);this.triggerHelper('AddEmptyBlackSources',[vid]);vid.load();}},updatePosterSrc:function(posterSrc){var _this=this;if(!posterSrc){posterSrc=mw.getConfig('EmbedPlayer.BlackPixel');}this.poster=posterSrc;$(this).find('img.playerPoster').attr('src',this.poster).load(function(){_this.applyIntrinsicAspect();})},embedPlayerHTML:function(callback){var _this=this;mw.log('EmbedPlayerImageOverlay::embedPlayerHTML: '+this.id);this.updateDuration();var currentSoruceObj=this.mediaElement.selectedSource;_this.imageLoaded=false;if(!currentSoruceObj){mw.log("Error:: EmbedPlayerImageOverlay:embedPlayerHTML> missing source");return;}var loadedCallback=function(){_this.applyIntrinsicAspect();_this.clockStartTime=new Date().getTime();_this.imageLoaded=true;_this.monitor();if($.isFunction(callback)){callback();}}
var $image=$('<img />').css({'position':'absolute'}).attr({'src':currentSoruceObj.getSrc()}).addClass('playerPoster').one('load',function(){if($.isFunction(loadedCallback)){loadedCallback();loadedCallback=null;}}).each(function(){if(this.complete){$(this).load();}})
$(this.getPlayerElement()).css({'left':this.getWidth()+50,'position':'absolute'});this.getPlayerElement().pause();$(this).html($image);},getPlayerElementTime:function(){if(!this.imageLoaded){mw.log('image not loaded: 0');this.currentTime=0;}else if(this.paused){this.currentTime=this.lastPauseTime;mw.log('paused time: '+this.currentTime);}else{this.currentTime=((new Date().getTime()-this.clockStartTime)/1000)+this.lastPauseTime;mw.log('clock time: '+this.currentTime);}return this.currentTime;}};})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.EmbedPlayerNative",function($){(function(mw,$){"use strict";mw.EmbedPlayerNative={instanceOf:'Native',onlyLoadFlag:false,onLoadedCallback:null,prevCurrentTime:-1,progressEventData:null,mediaLoadedFlag:null,keepPlayerOffScreenFlag:null,ignoreNextNativeEvent:null,currentSeekTargetTime:null,nativeEvents:['loadstart','progress','suspend','abort','error','emptied','stalled','play','pause','loadedmetadata','loadeddata','waiting','playing','canplay','canplaythrough','seeking','seeked','timeupdate','ended','ratechange','durationchange','volumechange'],supports:{'playHead':true,'pause':true,'fullscreen':true,'sourceSwitch':true,'timeDisplay':true,'volumeControl':true,'overlays':true},updateFeatureSupport:function(){if(this.useNativePlayerControls()){this.supports.overlays=false;}if(!this.supportsVolumeControl()){this.supports.volumeControl=false;}if(this.getPlayerElement()&&this.getSrc()){$(this.getPlayerElement()).attr('src',this.getSrc());}if(this.getPlayerElement()){this.applyMediaElementBindings();}this.parent_updateFeatureSupport();},supportsVolumeControl:function(){return!(mw.isIpad()||mw.isAndroid()||mw.isMobileChrome()||this.useNativePlayerControls())},addPlayScreenWithNativeOffScreen:function(){var _this=this;this.hidePlayerOffScreen();this.keepPlayerOffScreenFlag=true;this.addLargePlayBtn();this.$interface.find('.play-btn-large').click(function(){_this.$interface.find('.play-btn-large').hide();_this.addPlayerSpinner();_this.hideSpinnerOncePlaying();});var posterSrc=(this.poster)?this.poster:mw.getConfig('EmbedPlayer.BlackPixel');if($(this).find('.playerPoster').length){$(this).find('.playerPoster').attr('src',posterSrc);}else{$(this).append($('<img />').css({'margin':'0','width':'100%','height':'100%'}).attr('src',posterSrc).addClass('playerPoster'))}$(this).show();},embedPlayerHTML:function(){var _this=this;var vid=_this.getPlayerElement();this.ignoreNextNativeEvent=true;if(this.useLargePlayBtn()){this.addLargePlayBtn();}if(vid){$(vid).empty();}if(vid&&$(vid).attr('src')==this.getSrc(this.currentTime)){_this.postEmbedActions();return;}mw.log("EmbedPlayerNative::embedPlayerHTML > play url:"+this.getSrc(this.currentTime)+' startOffset: '+this.start_ntp+' end: '+this.end_ntp);if(this.isPersistentNativePlayer()&&vid){_this.postEmbedActions();return;}_this.bufferStartFlag=false;_this.bufferEndFlag=false;$(this).html(_this.getNativePlayerHtml());_this.postEmbedActions();},getNativePlayerHtml:function(playerAttribtues,cssSet){if(!playerAttribtues){playerAttribtues={};}if(!playerAttribtues['id']){playerAttribtues['id']=this.pid;}if(!playerAttribtues['src']){playerAttribtues['src']=this.getSrc(this.currentTime);}if(this.autoplay){playerAttribtues['autoplay']='true';}if(!cssSet){cssSet={};}if(!cssSet['width'])cssSet['width']='100%';if(!cssSet['height'])cssSet['height']='100%';if(this.loop){playerAttribtues['loop']='true';}var tagName=this.isAudio()?'audio':'video';return $('<'+tagName+' />').addClass('nativeEmbedPlayerPid').attr(playerAttribtues).css(cssSet)},canAutoPlay:function(){return!mw.isAndroid40()&&!mw.isMobileChrome()&&!mw.isIOS();},postEmbedActions:function(){var _this=this;var vid=this.getPlayerElement();if(!vid){return;}if($(vid).attr('src')!=this.getSrc(this.currentTime)){$(vid).attr('src',this.getSrc(this.currentTime));}if(mw.getConfig('EmbedPlayer.WebKitPlaysInline')){$(vid).attr('webkit-playsinline',1);}if(mw.getConfig('EmbedPlayer.WebKitAllowAirplay')){$(vid).attr('x-webkit-airplay',"allow");}if(this.useNativePlayerControls()){$(vid).attr('controls',"true");}$(vid).show();_this.applyMediaElementBindings();if(this.currentTime!=vid.currentTime){var waitReadyStateCount=0;var checkReadyState=function(){if(vid.readyState>0){vid.currentTime=this.currentTime;return;}if(waitReadyStateCount>1000){mw.log("Error: EmbedPlayerNative: could not run native seek");return;}waitReadyStateCount++;setTimeout(function(){checkReadyState();},10);};}if(!_this.loop&&mw.isIOS()){mw.log("EmbedPlayerNative::postEmbedActions: issue .load() call");vid.load();}},applyMediaElementBindings:function(){var _this=this;mw.log("EmbedPlayerNative::MediaElementBindings");var vid=this.getPlayerElement();if(!vid){mw.log(" Error: applyMediaElementBindings without player elemnet");return;}$.each(_this.nativeEvents,function(inx,eventName){$(vid).unbind(eventName+'.embedPlayerNative').bind(eventName+'.embedPlayerNative',function(){if(_this._propagateEvents&&_this.instanceOf=='Native'){var argArray=$.makeArray(arguments);if(_this['_on'+eventName]){_this['_on'+eventName].apply(_this,argArray);}else{$(_this).trigger(eventName,argArray);}}});});},monitor:function(){var _this=this;var vid=_this.getPlayerElement();if(vid&&vid.buffered&&vid.buffered.end&&vid.duration){try{this.bufferedPercent=(vid.buffered.end(vid.buffered.length-1)/vid.duration);}catch(e){}}_this.parent_monitor();},seek:function(percent,stopAfterSeek){var _this=this;if(percent<0){percent=0;}if(percent>1){percent=1;}mw.log('EmbedPlayerNative::seek p: '+percent+' : '+this.supportsURLTimeEncoding()+' dur: '+this.getDuration()+' sts:'+this.seekTimeSec);this.kPreSeekTime=_this.currentTime;this.triggerHelper('preSeek',percent);this.seeking=true;this.currentTime=(percent*this.duration).toFixed(2);mw.log('EmbedPlayerNative::seek:trigger');this.triggerHelper('seeking');this.controlBuilder.onSeek();if(this.supportsURLTimeEncoding()){if(percent<this.bufferedPercent&&this.playerElement.duration&&!this.didSeekJump){mw.log("EmbedPlayerNative::seek local seek "+percent+' is already buffered < '+this.bufferedPercent);this.doNativeSeek(percent);}else{this.parent_seek(percent);}}else{this.doNativeSeek(percent,function(){if(stopAfterSeek){_this.hideSpinnerAndPlayBtn();_this.pause();_this.updatePlayheadStatus();}});}},doNativeSeek:function(percent,callback){var _this=this;if((navigator.userAgent.indexOf('Chrome')===-1)&&_this.playerElement.seeking){return;}mw.log('EmbedPlayerNative::doNativeSeek::'+percent);this.seeking=true;this.seekTimeSec=0;if(mw.isIOS()){this.hidePlayerOffScreen();}var targetTime=percent*this.getDuration();if(this.startOffset){targetTime+=parseFloat(this.startOffset);}this.setCurrentTime(targetTime,function(){_this.currentTime=_this.getPlayerElement().currentTime;if(_this.seeking){_this.seeking=false;$(_this).trigger('seeked');}_this.restorePlayerOnScreen();_this.monitor();if(callback){callback();}});},doPlayThenSeek:function(percent){mw.log('EmbedPlayerNative::doPlayThenSeek::'+percent+' isPaused '+this.paused);var _this=this;var oldPauseState=this.paused;this.play();var retryCount=0;var readyForSeek=function(){_this.getPlayerElement();if(_this.playerElement&&_this.playerElement.duration){_this.doNativeSeek(percent,function(){if(oldPauseState){_this.pause();}});}else{if(retryCount<800){setTimeout(readyForSeek,10);retryCount++;}else{mw.log('EmbedPlayerNative:: Error: doPlayThenSeek failed :'+_this.playerElement.duration);}}};readyForSeek();},setCurrentTime:function(seekTime,callback,callbackCount){var _this=this;if(!callbackCount){callbackCount=0;}seekTime=parseFloat(seekTime);mw.log("EmbedPlayerNative:: setCurrentTime seekTime:"+seekTime+' count:'+callbackCount);var vid=this.getPlayerElement();if(callbackCount==0&&vid.currentTime==0){$(vid).attr('preload','auto')[0].load();}$(this).data('currentSeekTarget',seekTime);var callbackHandler=function(){_this.seeking=false;if($.isFunction(callback)){callback();callback=null;}}
if(vid.readyState<1){if(callbackCount==0&&vid.paused){this.stopEventPropagation();$(vid).on('play.seekPrePlay',function(){_this.restoreEventPropagation();$(vid).off('play.seekPrePlay');});vid.load();vid.play();}if(callbackCount>=15){mw.log("Error:: EmbedPlayerNative: with seek request, media never in ready state");callbackHandler();return;}setTimeout(function(){if($(_this).data('currentSeekTarget')!=seekTime){mw.log("EmbedPlayerNative:: expired seek target");return;}_this.setCurrentTime(seekTime,callback,callbackCount+1);},1000);return;}if(vid.currentTime.toFixed(2)==seekTime.toFixed(2)){mw.log("EmbedPlayerNative:: setCurrentTime: current time matches seek target: "+vid.currentTime.toFixed(2)+' == '+seekTime.toFixed(2));callbackHandler();return;}var seekBind='seeked.nativeSeekBind';$(vid).unbind(seekBind).bind(seekBind,function(event){$(vid).unbind(seekBind);if(seekTime==0&&vid.currentTime==0){callbackHandler();return;}if(vid.currentTime>0){callbackHandler();}else{mw.log("Error:: EmbedPlayerNative: seek callback without time updatet "+vid.currentTime);}});setTimeout(function(){if($(_this).data('currentSeekTarget')!=seekTime){mw.log("EmbedPlayerNative:: Expired seek target");return;}if($.isFunction(callback)){if(Math.abs(vid.currentTime-seekTime)<5){mw.log("EmbedPlayerNative:: Video time: "+vid.currentTime+" is within 5 seconds of target"+seekTime+", sucessfull seek");callbackHandler();}else{mw.log("Error:: EmbedPlayerNative: Seek still has not made a callback after 5 seconds, retry");_this.setCurrentTime(seekTime,callback,callbackCount++);}}},5000);try{_this.seeking=true;_this.currentSeekTargetTime=seekTime.toFixed(2);vid.currentTime=_this.currentSeekTargetTime;}catch(e){mw.log("Error:: EmbedPlayerNative: Could not set video tag seekTime");callbackHandler();return;}if(!vid.seeking){mw.log("Error:: not entering seek state, play and wait for positive time");vid.play();setTimeout(function(){_this.waitForPositiveCurrentTime(function(){mw.log("EmbedPlayerNative:: Got possitive time:"+vid.currentTime.toFixed(2)+", trying to seek again");_this.setCurrentTime(seekTime,callback,callbackCount+1);});},mw.getConfig('EmbedPlayer.MonitorRate'));}},waitForPositiveCurrentTime:function(callback){var _this=this;var vid=this.getPlayerElement();this.waitForPositiveCurrentTimeCount++;if(vid.currentTime>0){mw.log('EmbedPlayerNative:: waitForPositiveCurrentTime success');callback();}else if(this.waitForPositiveCurrentTimeCount>200){mw.log("Error:: waitForPositiveCurrentTime failed to reach possitve time");callback();}else{setTimeout(function(){_this.waitForPositiveCurrentTime(callback)},50)}},getPlayerElementTime:function(){var _this=this;this.getPlayerElement();if(!this.playerElement){mw.log('EmbedPlayerNative::getPlayerElementTime: '+this.id+' not in dom ( stop monitor)');this.stop();return false;}var ct=this.playerElement.currentTime;if(!ct||isNaN(ct)||ct<0||!isFinite(ct)){return 0;}return this.playerElement.currentTime;},updatePosterSrc:function(src){if(this.getPlayerElement()){$(this.getPlayerElement()).attr('poster',src);}this.parent_updatePosterSrc(src);},emptySources:function(){$(this.getPlayerElement()).attr('src',null);this.parent_emptySources();},playerSwitchSource:function(source,switchCallback,doneCallback){var _this=this;var src=source.getSrc();var vid=this.getPlayerElement();var switchBindPostfix='.playerSwitchSource';this.isPauseLoading=false;if(!src||src==vid.src){if($.isFunction(switchCallback)){switchCallback(vid);}if($.isFunction(doneCallback)){doneCallback();}return;}$(vid).attr('preload','auto');mw.log('EmbedPlayerNative:: playerSwitchSource: '+src+' native time: '+vid.currentTime);this.ignoreNextNativeEvent=true;this.currentTime=0;this.previousTime=0;if(vid){try{$(vid).unbind(switchBindPostfix);vid.pause();var originalControlsState=vid.controls;vid.removeAttribute('controls');_this.seeking=false;_this.addPlayerSpinner();$(vid).empty();vid.src=src;_this.hidePlayerOffScreen();$(vid).bind('loadedmetadata'+switchBindPostfix,function(){$(vid).unbind('loadedmetadata'+switchBindPostfix);mw.log("EmbedPlayerNative:: playerSwitchSource> loadedmetadata callback for:"+src);_this.restorePlayerOnScreen();if($.isFunction(switchCallback)){vid.play();}});var handleSwitchCallback=function(){_this.restorePlayerOnScreen();_this.hideSpinnerAndPlayBtn();vid.controls=originalControlsState;if($.isFunction(switchCallback)){mw.log("EmbedPlayerNative:: playerSwitchSource> call switchCallback");switchCallback(vid);switchCallback=null;}}
$(vid).bind('playing'+switchBindPostfix,function(){$(vid).unbind('playing'+switchBindPostfix);mw.log("EmbedPlayerNative:: playerSwitchSource> playing callback: "+vid.currentTime);handleSwitchCallback();});if($.isFunction(doneCallback)){$(vid).bind('ended'+switchBindPostfix,function(event){$(vid).unbind(switchBindPostfix);doneCallback();return false;});}vid.play();setTimeout(function(){if(vid.readyState===0&&$.isFunction(switchCallback)&&!_this.canAutoPlay()){mw.log("EmbedPlayerNative:: Error: possible play without user click gesture, issue callback");handleSwitchCallback();_this.pause();_this.addLargePlayBtn();}},5000);}catch(e){mw.log("Error: EmbedPlayerNative Error in switching source playback");}}},hidePlayerOffScreen:function(vid){var vid=this.getPlayerElement();$(vid).css({'position':'absolute','left':'-4048px'});},restorePlayerOnScreen:function(vid){var vid=this.getPlayerElement();if(this.keepPlayerOffScreenFlag||this.instanceOf!='Native'){return;}$(this).find('.playerPoster').remove();$(vid).css({'left':'0px','top':'0px'});},pause:function(){this.getPlayerElement();this.parent_pause();if(this.playerElement){this.playerElement.pause();}},play:function(){var vid=this.getPlayerElement();var _this=this;if(this.isStopped()&&this._playContorls){this.restorePlayerOnScreen();}if(_this.parent_play()){if(this.getPlayerElement()&&this.getPlayerElement().play){mw.log("EmbedPlayerNative:: issue native play call:");if($(vid).attr('src')!=this.getSrc()){$(vid).attr('src',this.getSrc());}if(this.isPauseLoading){this.hideSpinnerOncePlaying();}$(this.getPlayerElement()).show();$(this).find('.playerPoster').remove();if(this.useNativePlayerControls()&&$(this).find('video ').length==0){$(this).hide();}$(this.getPlayerElement()).attr('preload',"auto");this.getPlayerElement().play();this.monitor();}}else{mw.log("EmbedPlayerNative:: parent play returned false, don't issue play on native element");}},stop:function(){var _this=this;if(this.playerElement&&this.playerElement.currentTime){this.playerElement.currentTime=0;this.playerElement.pause();}this.parent_stop();},toggleMute:function(){this.parent_toggleMute();this.getPlayerElement();if(this.playerElement)this.playerElement.muted=this.muted;},setPlayerElementVolume:function(percent){if(this.getPlayerElement()){if(percent!=0){this.playerElement.muted=false;}this.playerElement.volume=percent;}},getPlayerElementVolume:function(){if(this.getPlayerElement()){return this.playerElement.volume;}},getPlayerElementMuted:function(){if(this.getPlayerElement()){return this.playerElement.muted;}},getNativeDuration:function(){if(this.playerElement){return this.playerElement.duration;}},load:function(callback){this.getPlayerElement();if(!this.playerElement){mw.log('EmbedPlayerNative::load() ... doEmbed');this.onlyLoadFlag=true;this.embedPlayerHTML();this.onLoadedCallback=callback;}else{this.playerElement.load();if(callback){callback();}}},getPlayerElement:function(){this.playerElement=$('#'+this.pid).get(0);return this.playerElement;},_onseeking:function(){mw.log("EmbedPlayerNative::onSeeking "+this.seeking+' new time: '+this.getPlayerElement().currentTime);if(this.seeking&&Math.round(this.getPlayerElement().currentTime-this.currentSeekTargetTime)>2){mw.log("Error:: EmbedPlayerNative Seek time missmatch: target:"+this.getPlayerElement().currentTime+' actual '+this.currentSeekTargetTime+', note apple HLS can only seek to 10 second targets');}if(!this.seeking){this.currentSeekTargetTime=this.getPlayerElement().currentTime;this.seeking=true;this.controlBuilder.onSeek();mw.log("EmbedPlayerNative::seeking:trigger:: "+this.seeking);if(this._propagateEvents){this.triggerHelper('seeking');}}},_onseeked:function(){mw.log("EmbedPlayerNative::onSeeked "+this.seeking+' ct:'+this.playerElement.currentTime);this.previousTime=this.currentTime=this.playerElement.currentTime;this.kPreSeekTime=null;if(this.seeking){if(Math.abs(this.currentSeekTargetTime-this.getPlayerElement().currentTime)>2){mw.log("Error:: EmbedPlayerNative:seeked triggred with time mismatch: target:"+this.currentSeekTargetTime+' actual:'+this.getPlayerElement().currentTime);return;}this.seeking=false;if(this._propagateEvents){mw.log("EmbedPlayerNative:: trigger: seeked");this.triggerHelper('seeked');}}this.hideSpinner();this.updatePlayheadStatus();if(this.isStopped()){this.addLargePlayBtn();}this.monitor();},_onpause:function(){var _this=this;if(this.ignoreNextNativeEvent){this.ignoreNextNativeEvent=false;return;}var timeSincePlay=Math.abs(this.absoluteStartPlayTime-new Date().getTime());mw.log("EmbedPlayerNative:: OnPaused:: propagate:"+this._propagateEvents+' time since play: '+timeSincePlay+' isNative=true');if(timeSincePlay>mw.getConfig('EmbedPlayer.MonitorRate')){_this.parent_pause();if(mw.isIphone()){_this.updatePosterHTML();}}else{this.getPlayerElement().play();}},_onplay:function(){mw.log("EmbedPlayerNative:: OnPlay:: propogate:"+this._propagateEvents+' paused: '+this.paused);if(this.useNativePlayerControls()&&$(this).find('video ').length==0){$(this).hide();}if(!this.ignoreNextNativeEvent&&this._propagateEvents&&this.paused&&(mw.getConfig('EmbedPlayer.EnableIpadHTMLControls')===true)){this.parent_play();}else{this.playInterfaceUpdate();this.absoluteStartPlayTime=new Date().getTime();}this.ignoreNextNativeEvent=false;},_onloadedmetadata:function(){this.getPlayerElement();if(!this.duration&&this.playerElement&&!isNaN(this.playerElement.duration)&&isFinite(this.playerElement.duration)){mw.log('EmbedPlayerNative :onloadedmetadata metadata ready Update duration:'+this.playerElement.duration+' old dur: '+this.getDuration());this.setDuration(this.playerElement.duration);}if(!this.paused&&this._propagateEvents){this.getPlayerElement().play();}if(typeof this.onLoadedCallback=='function'){this.onLoadedCallback();}if(!this.mediaLoadedFlag){$(this).trigger('mediaLoaded');this.mediaLoadedFlag=true;}},_onprogress:function(event){var e=event.originalEvent;if(e&&e.loaded&&e.total){this.bufferedPercent=e.loaded/e.total;this.progressEventData=e.loaded;}},_onended:function(event){var _this=this;if(this.getPlayerElement()){mw.log('EmbedPlayer:native: onended:'+this.playerElement.currentTime+' real dur:'+this.getDuration()+' ended '+this._propagateEvents);if(this._propagateEvents){this.onClipDone();}}},onClipDone:function(){var _this=this;$(this).unbind('onEndedDone.onClipDone').bind('onEndedDone.onClipDone',function(){_this.addPlayScreenWithNativeOffScreen();if(!_this.isImagePlayScreen()){_this.keepPlayerOffScreenFlag=false;}});this.parent_onClipDone();}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.EmbedTypes",function($){(function(mw,$){"use strict";var kplayer=new mw.MediaPlayer('kplayer',['video/x-flv','video/h264','video/mp4','audio/mpeg'],'Kplayer');var cortadoPlayer=new mw.MediaPlayer('cortado',['video/ogg','audio/ogg','application/ogg'],'Java');var oggNativePlayer=new mw.MediaPlayer('oggNative',['video/ogg','audio/ogg','application/ogg'],'Native');var h264NativePlayer=new mw.MediaPlayer('h264Native',['video/h264','video/mp4'],'Native');var appleVdnPlayer=new mw.MediaPlayer('appleVdn',['application/vnd.apple.mpegurl'],'Native');var mp3NativePlayer=new mw.MediaPlayer('mp3Native',['audio/mpeg','audio/mp3'],'Native');var webmNativePlayer=new mw.MediaPlayer('webmNative',['video/webm'],'Native');var imageOverlayPlayer=new mw.MediaPlayer('imageOverlay',['image/jpeg','image/png'],'ImageOverlay');mw.EmbedTypes={mediaPlayers:null,detect_done:false,init:function(){this.detect();this.detect_done=true;},getMediaPlayers:function(){if(this.mediaPlayers){return this.mediaPlayers;}this.mediaPlayers=new mw.MediaPlayers();this.detectPlayers();return this.mediaPlayers;},supportedMimeType:function(mimeType){for(var i=0;i<navigator.plugins.length;i++){var plugin=navigator.plugins[i];if(typeof plugin[mimeType]!="undefined"){return true;}}return false;},addFlashPlayer:function(){if(!mw.getConfig('EmbedPlayer.DisableHTML5FlashFallback')){this.mediaPlayers.addPlayer(kplayer);}},addJavaPlayer:function(){if(!mw.getConfig('EmbedPlayer.DisableJava')){this.mediaPlayers.addPlayer(cortadoPlayer);}},detectPlayers:function(){mw.log("EmbedTypes::detectPlayers running detect");this.mediaPlayers.addPlayer(imageOverlayPlayer);try{var javaEnabled=navigator.javaEnabled();}catch(e){}var uniqueMimesOnly=$.browser.opera||$.browser.safari;if(javaEnabled&&(navigator.appName=='Opera')){this.addJavaPlayer();}if(mw.supportsFlash()){this.addFlashPlayer();}if($.browser.msie){if(this.testActiveX('JavaWebStart.isInstalled')){this.addJavaPlayer();}}if(!mw.getConfig('EmbedPlayer.DisableVideoTagSupport')&&(typeof HTMLVideoElement=='object'||typeof HTMLVideoElement=='function')){try{var dummyvid=document.createElement("video");if(dummyvid.canPlayType){if(dummyvid.canPlayType('video/webm; codecs="vp8, vorbis"')&&!mw.isAndroid40()){this.mediaPlayers.addPlayer(webmNativePlayer);}if(this.supportedMimeType('audio/mpeg')||dummyvid.canPlayType('audio/mpeg; codecs="mp3"')){this.mediaPlayers.addPlayer(mp3NativePlayer);}if(dummyvid.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')){this.mediaPlayers.addPlayer(h264NativePlayer);if(dummyvid.canPlayType('application/vnd.apple.mpegurl; codecs="avc1.42E01E"')){if(navigator.userAgent.indexOf('Android 3.')==-1){this.mediaPlayers.addPlayer(appleVdnPlayer);}}}if(mw.isAndroid2()){this.mediaPlayers.addPlayer(h264NativePlayer);}if(dummyvid.canPlayType('video/ogg; codecs="theora,vorbis"')){this.mediaPlayers.addPlayer(oggNativePlayer);}else if(this.supportedMimeType('video/ogg')){this.mediaPlayers.addPlayer(oggNativePlayer);}}}catch(e){mw.log('could not run canPlayType '+e);}}if(navigator.mimeTypes&&navigator.mimeTypes.length>0){for(var i=0;i<navigator.mimeTypes.length;i++){var type=navigator.mimeTypes[i].type;var semicolonPos=type.indexOf(';');if(semicolonPos>-1){type=type.substr(0,semicolonPos);}var pluginName=navigator.mimeTypes[i].enabledPlugin?navigator.mimeTypes[i].enabledPlugin.name:'';if(!pluginName){pluginName='';}if(type=='application/x-java-applet'){this.addJavaPlayer();continue;}if((type=='video/mpeg'||type=='video/x-msvideo')){}if(type=='application/ogg'){continue;}else if(uniqueMimesOnly){if(type=='application/x-vlc-player'){continue;}else if(type=='video/quicktime'){continue;}}}}mw.log("EmbedPlayer::trigger:EmbedPlayerUpdateMediaPlayers");$(mw).trigger('EmbedPlayerUpdateMediaPlayers',this.mediaPlayers);},testActiveX:function(name){mw.log("EmbedPlayer::detect: test testActiveX: "+name);var hasObj=true;try{var obj=new ActiveXObject(''+name);}catch(e){hasObj=false;}return hasObj;}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.KAnalytics",function($){(function(mw,$){"use strict";window['Kaltura']=true;mw.KAnalytics=function(embedPlayer){this.init(embedPlayer);};mw.addKAnalytics=function(embedPlayer){embedPlayer.kAnalytics=new mw.KAnalytics(embedPlayer);}
mw.KAnalytics.prototype={embedPlayer:null,reportSet:null,lastSeekEventTime:0,bindPostFix:'.kAnalytics',startReportTime:0,kEventTypes:{'WIDGET_LOADED':1,'MEDIA_LOADED':2,'PLAY':3,'PLAY_REACHED_25':4,'PLAY_REACHED_50':5,'PLAY_REACHED_75':6,'PLAY_REACHED_100':7,'OPEN_EDIT':8,'OPEN_VIRAL':9,'OPEN_DOWNLOAD':10,'OPEN_REPORT':11,'BUFFER_START':12,'BUFFER_END':13,'OPEN_FULL_SCREEN':14,'CLOSE_FULL_SCREEN':15,'REPLAY':16,'SEEK':17,'OPEN_UPLOAD':18,'SAVE_PUBLISH':19,'CLOSE_EDITOR':20,'PRE_BUMPER_PLAYED':21,'POST_BUMPER_PLAYED':22,'BUMPER_CLICKED':23,'FUTURE_USE_1':24,'FUTURE_USE_2':25,'FUTURE_USE_3':26},init:function(embedPlayer){this.version=mw.getConfig('version');this.embedPlayer=embedPlayer;if(!this.kClient){this.kClient=mw.kApiGetPartnerClient(embedPlayer.kwidgetid);}$(embedPlayer).unbind(this.bindPostFix);this.resetPlayerflags();this.bindPlayerEvents();},resetPlayerflags:function(){this._p25Once=false;this._p50Once=false;this._p75Once=false;this._p100Once=false;this.hasSeeked=false;this.lastSeek=0;},sendAnalyticsEvent:function(KalturaStatsEventKey){var _this=this;this.kClient.getKS(function(ks){_this.doSendAnalyticsEvent(ks,KalturaStatsEventKey);});},doSendAnalyticsEvent:function(ks,KalturaStatsEventKey){var _this=this;mw.log("KAnalytics :: doSendAnalyticsEvent > "+KalturaStatsEventKey);if(this.embedPlayer.evaluate('{sequenceProxy.isInSequence}')){return;}var eventKeyId=this.kEventTypes[KalturaStatsEventKey];var eventSet={'eventType':eventKeyId,'clientVer':this.version,'currentPoint':parseInt(this.embedPlayer.currentTime*1000),'duration':this.embedPlayer.getDuration(),'eventTimestamp':new Date().getTime(),'isFirstInSession':'false','objectType':'KalturaStatsEvent','partnerId':this.embedPlayer.kpartnerid,'sessionId':this.embedPlayer.evaluate('{configProxy.sessionId}'),'uiconfId':0};if(isNaN(eventSet.duration)){eventSet.duration=0;}eventSet['seek']=(this.hasSeeked)?'true':'false';if(this.embedPlayer.kentryid){eventSet['entryId']=this.embedPlayer.kentryid;}else{eventSet['entryId']=this.embedPlayer.getSrc();}if(this.embedPlayer.kuiconfid){eventSet['uiconfId']=this.embedPlayer.kuiconfid;}if(this.embedPlayer.kwidgetid){eventSet['widgetId']=this.embedPlayer.kwidgetid;}var flashVarEvents={'playbackContext':'contextId','originFeature':'featureType','applicationName':'applicationId','userId':'userId'}
for(var fvKey in flashVarEvents){if(this.embedPlayer.getKalturaConfig('',fvKey)){eventSet[flashVarEvents[fvKey]]=this.embedPlayer.getKalturaConfig('',fvKey);}}eventSet['referrer']=encodeURIComponent(mw.getConfig('EmbedPlayer.IframeParentUrl'));var eventRequest={'service':'stats','action':'collect'};for(var i in eventSet){eventRequest['event:'+i]=eventSet[i];}$(this.embedPlayer).trigger('KalturaSendAnalyticEvent',[KalturaStatsEventKey,eventSet]);var parentTrackName=this.embedPlayer.getKalturaConfig('statistics','trackEventMonitor');if(mw.getConfig('EmbedPlayer.IsFriendlyIframe')){try{if(window.parent[parentTrackName]){window.parent[parentTrackName](KalturaStatsEventKey,eventSet);}}catch(e){}}this.kClient.doRequest(eventRequest);},bindPlayerEvents:function(){var embedPlayer=this.embedPlayer;var _this=this;var b=function(hookName,eventType){$(_this.embedPlayer).bind(hookName+_this.bindPostFix,function(){_this.sendAnalyticsEvent(eventType);});};b('widgetLoaded','WIDGET_LOADED');b('KalturaSupport_EntryDataReady','MEDIA_LOADED');b('firstPlay','PLAY');b('showShareEvent','OPEN_VIRAL');b('showDownloadEvent','OPEN_DOWNLOAD');b('bufferStartEvent','BUFFER_START');b('bufferEndEvent','BUFFER_END');b('onOpenFullScreen','OPEN_FULL_SCREEN');b('onCloseFullScreen','CLOSE_FULL_SCREEN');b('replayEvent','REPLAY');$(embedPlayer).bind('seeked'+this.bindPostFix,function(seekTarget){if(_this.lastSeekEventTime==0||_this.lastSeekEventTime+2000<new Date().getTime()){_this.sendAnalyticsEvent('SEEK');}_this.lastSeekEventTime=new Date().getTime();this.hasSeeked=true;this.lastSeek=seekTarget;});$(embedPlayer).bind('monitorEvent'+this.bindPostFix,function(){_this.updateTimeStats();});},updateTimeStats:function(){var embedPlayer=this.embedPlayer;var _this=this;var percent=embedPlayer.currentTime/embedPlayer.duration;var seekPercent=this.lastSeek/embedPlayer.duration;if(!_this._p25Once&&percent>=.25&&seekPercent<=.25){_this._p25Once=true;_this.sendAnalyticsEvent('PLAY_REACHED_25');}else if(!_this._p50Once&&percent>=.50&&seekPercent<.50){_this._p50Once=true;_this.sendAnalyticsEvent('PLAY_REACHED_50');}else if(!_this._p75Once&&percent>=.75&&seekPercent<.75){_this._p75Once=true;_this.sendAnalyticsEvent('PLAY_REACHED_75');}else if(!_this._p100Once&&percent>=.98&&seekPercent<1){_this._p100Once=true;_this.sendAnalyticsEvent('PLAY_REACHED_100');}}};})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.KApi",function($){(function(mw,$){"use strict";mw.KApi=function(widgetId){return this.init(widgetId);};mw.KApi.prototype={baseParam:{'apiVersion':'3.1','clientTag':'html5:v'+window['MWEMBED_VERSION'],'expiry':'86400','format':9,'ignoreNull':1},playerLoaderCache:[],ks:null,init:function(widgetId){this.widgetId=widgetId;},clearCache:function(){this.playerLoaderCache=[];this.ks=null;},callbackIndex:0,getWidgetId:function(){return this.widgetId;},doRequest:function(requestObject,callback){var _this=this;var param={};if(!requestObject.length&&!this.ks){requestObject=[requestObject];}if(mw.getConfig('Kaltura.NoApiCache')===true){param['nocache']='true';}if(requestObject.length){param['service']='multirequest';param['action']='null';var mulitRequestIndex=1;for(var i=0;i<requestObject.length;i++){var requestInx=mulitRequestIndex+i;for(var paramKey in requestObject[i]){if(typeof requestObject[i][paramKey]=='object'){for(var subParamKey in requestObject[i][paramKey]){param[requestInx+':'+paramKey+':'+subParamKey]=requestObject[i][paramKey][subParamKey];}}else{param[requestInx+':'+paramKey]=requestObject[i][paramKey];}}}}else{param=requestObject;}for(var i in this.baseParam){if(typeof param[i]=='undefined'){param[i]=this.baseParam[i];}};this.getKS(function(ks){param['ks']=ks;_this.doApiRequest(param,callback);});},setKS:function(ks){this.ks=ks;},getKS:function(callback){if(this.ks){callback(this.ks);return true;}var _this=this;var ksParam={'action':'startwidgetsession','widgetId':'_'+this.widget_id};var param=$.extend({'service':'session'},this.baseParam,ksParam);this.doApiRequest(param,function(data){_this.ks=data.ks;callback(_this.ks);});},doApiRequest:function(param,callback){var _this=this;var serviceType=param['service'];delete param['service'];if(serviceType!='session'){param['kalsig']=_this.getSignature(param);}var requestURL=_this.getApiUrl(serviceType)+'&'+$.param(param);var globalCBName='kapi_'+_this.getSignature(param);if(window[globalCBName]){mw.log("Error global callback name already exists: "+globalCBName);this.callbackIndex++;globalCBName=globalCBName+this.callbackIndex;}window[globalCBName]=function(data){if(callback){callback(data);callback=null;}};requestURL+='&callback='+globalCBName;mw.log("kAPI:: doApiRequest: "+requestURL);$.getScript(requestURL);},getApiUrl:function(serviceType){var serviceUrl=mw.getConfig('Kaltura.ServiceUrl');if(serviceType&&serviceType=='stats'&&mw.getConfig('Kaltura.StatsServiceUrl')){serviceUrl=mw.getConfig('Kaltura.StatsServiceUrl');}return serviceUrl+mw.getConfig('Kaltura.ServiceBase')+serviceType;},getSignature:function(params){params=this.ksort(params);var str="";for(var v in params){var k=params[v];str+=k+v;}return MD5(str);},ksort:function(arr){var sArr=[];var tArr=[];var n=0;for(i in arr){tArr[n++]=i+"|"+arr[i];}tArr=tArr.sort();for(var i=0;i<tArr.length;i++){var x=tArr[i].split("|");sArr[x[0]]=x[1];}return sArr;},playerLoader:function(kProperties,callback){var _this=this;var requestObject=[];var entryIdValue;var refIndex;if(!kProperties.reference_id&&kProperties.flashvars&&kProperties.flashvars['referenceId']){kProperties.reference_id=kProperties.flashvars['referenceId'];}if(this.getCacheKey(kProperties)&&this.playerLoaderCache[this.getCacheKey(kProperties)]){mw.log("KApi:: playerLoader load from cache: "+!!(this.playerLoaderCache[this.getCacheKey(kProperties)]));callback(this.playerLoaderCache[this.getCacheKey(kProperties)]);return;}var fillCacheAndRunCallback=function(namedData){_this.playerLoaderCache[_this.getCacheKey(kProperties)]=namedData;callback(namedData);}
if(!kProperties.reference_id&&!kProperties.entry_id){mw.log("KApi:: entryId and referenceId not found, exit.");callback({error:"Empty player"});return;}if(kProperties.flashvars&&kProperties.flashvars.ks){this.setKS(kProperties.flashvars.ks);}if(kProperties.entry_id){entryIdValue=kProperties.entry_id;requestObject.push({'service':'baseentry','action':'get','version':'-1','entryId':kProperties.entry_id});}else if(kProperties.reference_id){requestObject.push({'service':'baseentry','action':'listByReferenceId','refId':kProperties.reference_id});if(kProperties.uiconf_id){refIndex=2;}else{refIndex=1;}entryIdValue='{'+refIndex+':result:objects:0:id}';}requestObject.push({'contextDataParams':{'referrer':window.kWidgetSupport.getHostPageUrl(),'objectType':'KalturaEntryContextDataParams'},'service':'baseentry','entryId':entryIdValue,'action':'getContextData'});requestObject.push({'service':'flavorasset','action':'list','filter:entryIdEqual':entryIdValue});requestObject.push({'service':'metadata_metadata','action':'list','version':'-1','filter:metadataObjectTypeEqual':1,'filter:orderBy':'+createdAt','filter:objectIdEqual':entryIdValue,'pager:pageSize':1});var loadCuePoints=true;if(kProperties.flashvars&&kProperties.flashvars.getCuePointsData&&kProperties.flashvars.getCuePointsData=="false"){loadCuePoints=false;}if(loadCuePoints){requestObject.push({'service':'cuepoint_cuepoint','action':'list','filter:objectType':'KalturaCuePointFilter','filter:orderBy':'+startTime','filter:statusEqual':1,'filter:entryIdEqual':entryIdValue});}_this.getNamedDataFromRequest(requestObject,fillCacheAndRunCallback);},getNamedDataFromRequest:function(requestObject,callback){var _this=this;this.doRequest(requestObject,function(data){var namedData={};if(data[0].code){mw.log('Error in kaltura api response: '+data[0].message);callback({'error':data[0].message});return;}var dataIndex=0;if(data[0]['confFile']){namedData['uiConf']=data[dataIndex]['confFile'];dataIndex++;if(data.length==1){callback(namedData);return;}}if(requestObject[dataIndex]['action']=='listByReferenceId'){if(!data[dataIndex].objects||(data[dataIndex].objects&&data[dataIndex].objects.length==0)){namedData['meta']={code:'ENTRY_ID_NOT_FOUND',message:'Entry with reference id '+requestObject[dataIndex]['refId']+' not found'};}else{namedData['meta']=data[dataIndex].objects[0];}}else{namedData['meta']=data[dataIndex];}dataIndex++;namedData['accessControl']=data[dataIndex];dataIndex++;namedData['flavors']=data[dataIndex];if(data[dataIndex].objects){namedData['flavors']=data[dataIndex].objects;}dataIndex++;namedData['entryMeta']=_this.convertCustomDataXML(data[dataIndex]);dataIndex++;if(data[dataIndex]&&data[dataIndex].totalCount>0){namedData['entryCuePoints']=data[dataIndex].objects;}callback(namedData);});},convertCustomDataXML:function(data){var result={};if(data&&data.objects&&data.objects[0]){var xml=$.parseXML(data.objects[0].xml);var $xml=$(xml).find('metadata').children();$.each($xml,function(inx,node){result[node.nodeName]=node.textContent;});}return result;},getCacheKey:function(kProperties){var rKey='';if(kProperties){$.each(kProperties,function(inx,value){if(inx=='flashvars'){if(typeof kProperties.flashvars=='object'){rKey+=kProperties.flashvars.getCuePointsData;rKey+=kProperties.flashvars.ks}}else{rKey+=inx+'_'+value;}});}return rKey;}};mw.KApiPartnerCache=[];mw.kApiGetPartnerClient=function(widgetId){if(!mw.KApiPartnerCache[widgetId]){mw.KApiPartnerCache[widgetId]=new mw.KApi(widgetId);}return mw.KApiPartnerCache[widgetId];};mw.KApiPlayerLoader=function(kProperties,callback){if(!kProperties.widget_id){mw.log("Error:: mw.KApiPlayerLoader:: cant run player loader with widget_id "+kProperties.widget_id);}var kClient=mw.kApiGetPartnerClient(kProperties.widget_id);kClient.playerLoader(kProperties,function(data){setTimeout(function(){callback(data);},0);});return kClient;};mw.KApiRequest=function(widgetId,requestObject,callback){var kClient=mw.kApiGetPartnerClient(widgetId);kClient.doRequest(requestObject,callback);};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.KCuePoints",function($){(function(mw,$){"use strict";mw.KCuePoints=function(embedPlayer){return this.init(embedPlayer);};mw.KCuePoints.prototype={bindPostfix:'.kCuePoints',midCuePointsArray:[],init:function(embedPlayer){var _this=this;this.destroy();this.embedPlayer=embedPlayer;embedPlayer.bindHelper('KalturaSupport_CuePointsReady'+this.bindPostfix,function(){_this.processCuePoints();_this.addPlayerBindings();});},destroy:function(){$(this.embedPlayer).unbind(this.bindPostfix);},processCuePoints:function(){var _this=this;var cuePoints=this.getCuePoints();var newCuePointsArray=[];$.each(cuePoints,function(idx,cuePoint){if(_this.getVideoAdType(cuePoint)=='pre'||_this.getVideoAdType(cuePoint)=='post'){_this.triggerCuePoint(cuePoint);}else{newCuePointsArray.push(cuePoint);}});this.midCuePointsArray=newCuePointsArray;},addPlayerBindings:function(){var _this=this;var currentCuePoint=this.getNextCuePoint(0);var embedPlayer=this.embedPlayer;if(!currentCuePoint){return;}$(embedPlayer).bind('onChangeMedia'+this.bindPostfix,function(){_this.destroy();});$(embedPlayer).bind("seeked"+this.bindPostfix,function(){var currentTime=embedPlayer.currentTime*1000;currentCuePoint=_this.getNextCuePoint(currentTime);});$(embedPlayer).bind("monitorEvent"+this.bindPostfix,function(){if(!currentCuePoint){return;}var currentTime=embedPlayer.currentTime*1000;if(currentTime>currentCuePoint.startTime&&embedPlayer._propagateEvents){var cuePointToBeTriggered=$.extend({},currentCuePoint);currentCuePoint=_this.getNextCuePoint(currentTime);_this.triggerCuePoint(cuePointToBeTriggered);}});},getEndTime:function(){return this.embedPlayer.evaluate('{mediaProxy.entry.msDuration}');},getCuePoints:function(){if(!this.embedPlayer.rawCuePoints||!this.embedPlayer.rawCuePoints.length){return[];}return this.embedPlayer.rawCuePoints;},getNextCuePoint:function(time){var cuePoints=this.midCuePointsArray;for(var i=0;i<cuePoints.length;i++){if(cuePoints[i].startTime>=time){return cuePoints[i];}}return false;},triggerCuePoint:function(rawCuePoint){var eventName;rawCuePoint.sourceUrl=this.embedPlayer.evaluate(rawCuePoint.sourceUrl);var cuePointWrapper={'cuePoint':rawCuePoint};if(rawCuePoint.cuePointType=='codeCuePoint.Code'){eventName='KalturaSupport_CuePointReached';}else if(rawCuePoint.cuePointType=='adCuePoint.Ad'){eventName='KalturaSupport_AdOpportunity';cuePointWrapper.context=this.getVideoAdType(rawCuePoint);}else{return;}mw.log('mw.KCuePoints :: Trigger event: '+eventName+' - '+rawCuePoint.cuePointType+' at: '+rawCuePoint.startTime);$(this.embedPlayer).trigger(eventName,cuePointWrapper);},getVideoAdType:function(rawCuePoint){if(rawCuePoint.startTime===0){return'pre';}else if(rawCuePoint.startTime==this.getEndTime()){return'post';}else{return'mid';}mw.log("Error:: KCuePoints could not determine adType");},getAdSlotType:function(cuePointWrapper){if(cuePointWrapper.cuePoint.adType==1){return this.getVideoAdType(cuePointWrapper.cuePoint)+'roll';}else{return'overlay';}},getRawAdSlotType:function(rawCuePoint){if(rawCuePoint.adType==1){return this.getVideoAdType(rawCuePoint)+'roll';}else{return'overlay';}},getCuePointsCount:function(filter){var _this=this;var cuePoints=this.getCuePoints();if(!cuePoints)return 0;if(!filter)return cuePoints.length;var totalResults={'preroll':0,'midroll':0,'postroll':0,'overlay':0};$.each(cuePoints,function(idx,rawCuePoint){totalResults[_this.getRawAdSlotType(rawCuePoint)]++;});if(filter&&totalResults[filter]){return totalResults[filter];}return 0;}};})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.KDPMapping",function($){(function(mw,$){"use strict";mw.KDPMapping=function(embedPlayer){return this.init(embedPlayer);};mw.KDPMapping.prototype={listenerList:{},init:function(embedPlayer){var _this=this;var kdpApiMethods=['addJsListener','removeJsListener','sendNotification','setKDPAttribute','evaluate'];var parentProxyDiv=null;if(mw.getConfig('EmbedPlayer.IsFriendlyIframe')){try{parentProxyDiv=window['parent'].document.getElementById(embedPlayer.id);}catch(e){}}$.each(kdpApiMethods,function(inx,methodName){embedPlayer[methodName]=function(){var args=$.makeArray(arguments);args.splice(0,0,embedPlayer);return _this[methodName].apply(_this,args);}
if(parentProxyDiv){parentProxyDiv[methodName]=function(){var args=$.makeArray(arguments);args.splice(0,0,embedPlayer);return _this[methodName].apply(_this,args);}}});var runCallbackOnParent=false;if(mw.getConfig('EmbedPlayer.IsFriendlyIframe')){try{if(window['parent']&&window['parent']['kWidget']&&parentProxyDiv){runCallbackOnParent=true;window['parent']['kWidget'].jsCallbackReady(embedPlayer.id);}}catch(e){runCallbackOnParent=false;}}if(!runCallbackOnParent){window.kWidget.jsCallbackReady(embedPlayer.id);}},setKDPAttribute:function(embedPlayer,componentName,property,value){mw.log("KDPMapping::setKDPAttribute "+componentName+" p:"+property+" v:"+value+' for: '+embedPlayer.id);switch(property){case'autoPlay':embedPlayer.autoplay=value;break;default:var subComponent=null;var pConf=embedPlayer.playerConfig['plugins'];var baseComponentName=componentName;if(componentName.indexOf('.')!=-1){var cparts=componentName.split('.');baseComponentName=cparts[0];subComponent=cparts[1];}if(!pConf[baseComponentName]){pConf[baseComponentName]={};}if(subComponent){if(!pConf[baseComponentName][subComponent]){pConf[baseComponentName][subComponent]={};}pConf[baseComponentName][subComponent][property]=value;}else{pConf[baseComponentName][property]=value;}break;}if(property=='mediaPlayFrom'){embedPlayer.startTime=parseFloat(value);}if(property=='mediaPlayTo'){embedPlayer.pauseTime=parseFloat(value);}if(baseComponentName=='servicesProxy'&&subComponent&&subComponent=='kalturaClient'&&property=='ks'){this.updateKS(embedPlayer,value);}$(embedPlayer).trigger('Kaltura_SetKDPAttribute',[componentName,property,value]);},updateKS:function(embedPlayer,ks){var client=mw.kApiGetPartnerClient(embedPlayer.kwidgetid);client.clearCache();client.setKS(ks);embedPlayer.setFlashvars('ks',ks);embedPlayer.sendNotification('changeMedia',{'entryId':embedPlayer.kentryid});},evaluate:function(embedPlayer,objectString,limit){var _this=this;var result;limit=limit||0;if(limit>4){mw.log('KDPMapping::evaluate: recursive calls are limited to 5');return objectString;}if(typeof objectString!=='string'){return objectString;}if(objectString[0]=='{'&&objectString[objectString.length-1]=='}'&&objectString.split('{').length==2){result=_this.evaluateExpression(embedPlayer,objectString.substring(1,objectString.length-1));}else if(objectString.split('{').length>1){result=objectString.replace(/\{([^\}]*)\}/g,function(match,contents,offset,s){return _this.evaluateExpression(embedPlayer,contents);});}else{result=objectString;}if(result===0){return result;}if(result==="undefined"||result==="null"||result==="")result=undefined;if(result==="false"){result=false;}if(result==="true"){result=true;}if(typeof result==='string'&&result[0]=='{'&&result[result.length-1]=='}'){result=this.evaluate(embedPlayer,result,limit++);}return result;},getEvaluateExpression:function(embedPlayer,expression){var _this=this;if(expression.indexOf('(')!==-1){var fparts=expression.split('(');return _this.evaluateStringFunction(fparts[0],_this.getEvaluateExpression(embedPlayer,fparts[1].slice(0,-1)));}var objectPath=expression.split('.');if(embedPlayer.playerConfig&&embedPlayer.playerConfig.plugins&&embedPlayer.playerConfig.plugins[objectPath[0]]){var kObj=embedPlayer.playerConfig.plugins[objectPath[0]];if(!objectPath[1]){return kObj;}if(!objectPath[2]&&(objectPath[1]in kObj)){return kObj[objectPath[1]];}if(objectPath[2]&&kObj[objectPath[1]]&&typeof kObj[objectPath[1]][objectPath[2]]!='undefined'){return kObj[objectPath[1]][objectPath[2]];}}switch(objectPath[0]){case'isHTML5':return true;break;case'sequenceProxy':if(!embedPlayer.sequenceProxy){return null;}if(objectPath[1]){switch(objectPath[1]){case'timeRemaining':case'isInSequence':return embedPlayer.sequenceProxy[objectPath[1]];break;case'activePluginMetadata':if(objectPath[2]){if(!embedPlayer.sequenceProxy.activePluginMetadata){return null;}return embedPlayer.sequenceProxy.activePluginMetadata[objectPath[2]]}return embedPlayer.sequenceProxy.activePluginMetadata;break;}return null;}return embedPlayer.sequenceProxy;break;case'video':switch(objectPath[1]){case'volume':return embedPlayer.volume;break;case'player':switch(objectPath[2]){case'currentTime':if(embedPlayer.kPreSeekTime!==null){return embedPlayer.kPreSeekTime;}return embedPlayer.currentTime;break;}break;}break;case'duration':return embedPlayer.getDuration();break;case'mediaProxy':switch(objectPath[1]){case'entryCuePoints':if(!embedPlayer.rawCuePoints){return null;}var kdpCuePointFormat={};$.each(embedPlayer.rawCuePoints,function(inx,cuePoint){var startTime=parseInt(cuePoint.startTime);if(kdpCuePointFormat[startTime]){kdpCuePointFormat[startTime].push(cuePoint)}else{kdpCuePointFormat[startTime]=[cuePoint];}});return kdpCuePointFormat;break;case'entryMetadata':if(!embedPlayer.kalturaEntryMetaData){return null;}if(objectPath[2]){return embedPlayer.kalturaEntryMetaData[objectPath[2]];}else{return embedPlayer.kalturaEntryMetaData;}break;case'entry':if(!embedPlayer.kalturaPlayerMetaData){return null;}if(objectPath[2]){return embedPlayer.kalturaPlayerMetaData[objectPath[2]];}else{return embedPlayer.kalturaPlayerMetaData;}break;case'isLive':return embedPlayer.isLive();break;case'isOffline':if($.isFunction(embedPlayer.isOffline)){return embedPlayer.isOffline();}return true;break;}break;case'configProxy':var fv=embedPlayer.getFlashvars();switch(objectPath[1]){case'flashvars':if(objectPath[2]){switch(objectPath[2]){case'autoPlay':return embedPlayer.autoplay;break;case'referer':if(fv&&fv[objectPath[2]]){return fv[objectPath[2]];}return mw.getConfig('EmbedPlayer.IframeParentUrl');break;default:if(fv&&fv[objectPath[2]]){return fv[objectPath[2]]}return null;break;}}else{return fv;}break;case'kw':var kw={'objectType':"KalturaWidget",'id':embedPlayer.kwidgetid,'partnerId':embedPlayer.kpartnerid,'uiConfId':embedPlayer.kuiconfid}
if(objectPath[2]){if(typeof kw[objectPath[2]]!='undefined'){return kw[objectPath[2]]}return null;}return kw;break;case'sessionId':return window.kWidgetSupport.getGUID();break;}return{'flashvars':fv,'sessionId':window.kWidgetSupport.getGUID()};break;case'playerStatusProxy':switch(objectPath[1]){case'kdpStatus':if(embedPlayer.kdpEmptyFlag){return"empty";}if(embedPlayer.playerReadyFlag){return'ready';}return null;break;case'loadTime':return kWidget.loadTime[embedPlayer.kwidgetid];break;}break;case'playlistAPI':switch(objectPath[1]){case'dataProvider':if(!embedPlayer.kalturaPlaylistData){return null;}var plData=embedPlayer.kalturaPlaylistData;var plId=null;if(plData['currentPlaylistId']){plId=plData['currentPlaylistId'];}else{for(var plKey in plData)break;plId=plKey;}var dataProvider={'content':plData[plId],'length':plData[plId].length,'selectedIndex':plData['selectedIndex']}
if(objectPath[2]=='selectedIndex'){return dataProvider.selectedIndex;}return dataProvider;break;}break;}var pluginConfigValue=null;if(!objectPath[1]&&$.isEmptyObject(embedPlayer.getKalturaConfig(objectPath[0]))){pluginConfigValue=embedPlayer.getKalturaConfig('',objectPath[0]);}else{pluginConfigValue=embedPlayer.getKalturaConfig(objectPath[0],objectPath[1]);if($.isEmptyObject(pluginConfigValue)){return;}}return pluginConfigValue;},evaluateExpression:function(embedPlayer,expression){var evalVal=this.getEvaluateExpression(embedPlayer,expression);if(evalVal===null||typeof evalVal=='undefined'||evalVal==='undefined'){return'';}return evalVal;},evaluateStringFunction:function(functionName,value){switch(functionName){case'encodeUrl':return encodeURI(value);break;}},removeJsListener:function(embedPlayer,eventName,callbackName){mw.log("KDPMapping:: removeJsListener:: "+eventName);if(typeof eventName=='string'){var eventData=eventName.split('.',2);var eventNamespace=eventData[1];if(eventNamespace&&eventName[0]==='.'){$(embedPlayer).unbind('.'+eventNamespace);}else if(!eventNamespace){eventNamespace='kdpMapping';}eventName=eventData[0];if(!callbackName){callbackName='anonymous';}else{var listenerId=this.getListenerId(embedPlayer,eventName,eventNamespace,callbackName);if(!this.listenerList[listenerId]){return;}}if(this.listenerList[listenerId]){this.listenerList[listenerId]=null;}else{for(var listenerItem in this.listenerList){if(listenerItem.indexOf(embedPlayer.id+'_'+eventName+'.'+eventNamespace)!=-1){this.listenerList[listenerItem]=null;}}}}},getListenerId:function(embedPlayer,eventName,eventNamespace,callbackName){return embedPlayer.id+'_'+eventName+'.'+eventNamespace+'_'+callbackName;},addJsListener:function(embedPlayer,eventName,callbackName){var _this=this;if(typeof eventName=='string'){var eventData=eventName.split('.',2);var eventNamespace=(eventData[1])?eventData[1]:'kdpMapping';eventName=eventData[0];}if(typeof callbackName=='string'){var listenerId=this.getListenerId(embedPlayer,eventName,eventNamespace,callbackName);this.listenerList[listenerId]=callbackName;var callback=function(){var callbackName=_this.listenerList[listenerId];var callbackToRun=kWidgetSupport.getFunctionByName(callbackName,window);if(!$.isFunction(callbackToRun)){callbackToRun=kWidgetSupport.getFunctionByName(callbackName,window['parent']);}if($.isFunction(callbackToRun)){callbackToRun.apply(embedPlayer,$.makeArray(arguments));}else{mw.log('kdpMapping::addJsListener: callback name: '+callbackName+' not found');}};}else if(typeof callbackName=='function'){var listenerId=this.getListenerId(embedPlayer,eventName,eventNamespace,'anonymous');_this.listenerList[listenerId]=true;var callback=function(){if(_this.listenerList[listenerId]){callbackName.apply(embedPlayer,$.makeArray(arguments));}}}else{mw.log("Error: KDPMapping : bad callback type: "+callbackName);return;}var b=function(bindName,bindCallback){if(!bindCallback){bindCallback=function(){callback(embedPlayer.id);};}bindName+='.'+eventNamespace;embedPlayer.bindHelper(bindName,function(){bindCallback.apply(embedPlayer,$.makeArray(arguments));});};switch(eventName){case'layoutReady':b('KalturaSupport_DoneWithUiConf');break;case'mediaLoadError':b('mediaLoadError');break;case'mediaError':b('mediaError');break;case'kdpEmpty':case'readyToLoad':if(embedPlayer.playerReadyFlag){if(!embedPlayer.kentryid){embedPlayer.kdpEmptyFlag=true;callback(embedPlayer.id);}}else{b('playerReady',function(){if(!embedPlayer.kentryid){embedPlayer.kdpEmptyFlag=true;setTimeout(function(){callback(embedPlayer.id);},0)}});}break;case'kdpReady':b('playerReady',function(){if(!embedPlayer.getError()){embedPlayer.kdpEmptyFlag=false;}callback(embedPlayer.id);});break;case'playerLoaded':case'playerReady':b('playerReady');break;case'changeVolume':case'volumeChanged':b('volumeChanged',function(event,percent){callback({'newVolume':percent},embedPlayer.id);});break;case'playerStateChange':b('preCheckPlayerSources',function(){callback('loading',embedPlayer.id);})
b('playerReady',function(){callback('ready',embedPlayer.id);});b('onpause',function(){callback('paused',embedPlayer.id);});b('onplay',function(){callback('playing',embedPlayer.id);});break;case'doStop':case'stop':b("doStop");break;case'playerPaused':case'pause':case'doPause':b("onpause");break;case'playerPlayed':b("onplay");break;case'play':case'doPlay':b("onplay");break;case'playerSeekStart':b("seeking");break;case'seek':case'doSeek':case'doIntelligentSeek':b("seeking",function(){var seekTime=(embedPlayer.kPreSeekTime!==null)?embedPlayer.kPreSeekTime:embedPlayer.currentTime;callback(seekTime,embedPlayer.id);});break;case'playerSeekEnd':b("seeked",function(){embedPlayer.kPreSeekTime=null
callback(embedPlayer.id);});break;case'playerPlayEnd':b("postEnded");break;case'playbackComplete':b("playbackComplete");b("AdSupport_EndAdPlayback",function(e,slotType){if(slotType!='postroll'){callback();}});break;case'durationChange':b("durationchange",function(){callback({'newValue':embedPlayer.duration},embedPlayer.id);});break;case'openFullScreen':case'hasOpenedFullScreen':b("onOpenFullScreen");break;case'hasCloseFullScreen':case'closeFullScreen':b("onCloseFullScreen");break;case'playerUpdatePlayhead':b('monitorEvent',function(){if(embedPlayer.isPlaying()){callback(embedPlayer.currentTime);}});break;case'changeMedia':b('playerReady',function(event){callback({'entryId':embedPlayer.kentryid},embedPlayer.id);});break;case'entryReady':b('KalturaSupport_EntryDataReady',function(event,entryData){callback(entryData,embedPlayer.id);});break;case'entryFailed':b('KalturaSupport_EntryFailed');break;case'mediaReady':b('playerReady',function(event){if(embedPlayer.kentryid){setTimeout(function(){callback(embedPlayer.id)},0);}});break;case'metadataReceived':b('KalturaSupport_MetadataReceived');break;case'bufferChange':var triggeredBufferStart=false;var triggeredBufferEnd=false;b('monitorEvent',function(){if(!triggeredBufferStart){callback(true,embedPlayer.id);triggeredBufferStart=true;}if(!triggeredBufferEnd&&embedPlayer.bufferedPercent==1){callback(false,embedPlayer.id);triggeredBufferEnd=true;}})
break;case'bytesDownloadedChange':var prevBufferBytes=0;b('monitorEvent',function(){if(typeof embedPlayer.bufferedPercent!='undefined'){var bufferBytes=parseInt(embedPlayer.bufferedPercent*embedPlayer.mediaElement.selectedSource.getSize());if(bufferBytes!=prevBufferBytes){callback({'newValue':bufferBytes},embedPlayer.id);prevBufferBytes=bufferBytes;}}})
break;case'playerDownloadComplete':b('monitorEvent',function(){if(embedPlayer.bufferedPercent==1){callback(embedPlayer.id);}});break;case'bufferProgress':var prevBufferTime=0;b('monitorEvent',function(){if(typeof embedPlayer.bufferedPercent!='undefined'){var bufferTime=parseInt(embedPlayer.bufferedPercent*embedPlayer.duration);if(bufferTime!=prevBufferTime){callback({'newTime':bufferTime},embedPlayer.id);prevBufferTime=bufferTime;}}})
break;case'bytesTotalChange':var prevBufferBytesTotal=0;b('mediaLoaded',function(){callback({'newValue':embedPlayer.mediaElement.selectedSource.getSize()});})
break;case'preSequenceStart':case'prerollStarted':b('AdSupport_prerollStarted',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'preSequenceComplete':b('AdSupport_preSequenceComplete',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'midrollStarted':b('AdSupport_midrollStarted',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'midSequenceComplete':b('AdSupport_midSequenceComplete',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'postRollStarted':b('AdSupport_midrollStarted',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'postSequenceComplete':b('AdSupport_postSequenceComplete',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'adStart':b('AdSupport_StartAdPlayback',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id);});break;case'adEnd':b('AdSupport_EndAdPlayback',function(e,slotType){callback({'timeSlot':slotType},embedPlayer.id)});break;case'adUpdatePlayhead':b('AdSupport_AdUpdatePlayhead',function(event,adTime){callback(adTime,embedPlayer.id);});break;case'pre1start':b('AdSupport_PreSequence');break;case'post1start':b('AdSupport_PostSequence');break;case'cuePointsReceived':b('KalturaSupport_CuePointsReady',function(event,cuePoints){callback(embedPlayer.rawCuePoints,embedPlayer.id);});break;case'cuePointReached':b('KalturaSupport_CuePointReached',function(event,cuePointWrapper){callback(cuePointWrapper,embedPlayer.id);});break;case'adOpportunity':b('KalturaSupport_AdOpportunity',function(event,cuePointWrapper){callback(cuePointWrapper,embedPlayer.id);});break;case'videoView':b('firstPlay');break;case'share':b('showShareEvent');break;case'openFullscreen':b('openFullScreen');break;case'closefullscreen':b('closeFullScreen');break;case'replay':case'doReplay':b('replayEvent');break;case'save':case'gotoContributorWindow':case'gotoEditorWindow':mw.log("Warning: kdp event: "+eventName+" does not have an html5 mapping");break;case'freePreviewEnd':b('KalturaSupport_FreePreviewEnd');break;case'ccDataLoaded':b('KalturaSupport_CCDataLoaded');break;case'newClosedCaptionsData':b('KalturaSupport_NewClosedCaptionsData');break;case'changedClosedCaptions':b('TimedText_ChangeSource');break;default:b(eventName,function(){var args=$.makeArray(arguments);if(args.length){args.shift();}callback.apply(embedPlayer,args);});break;};return true;},sendNotification:function(embedPlayer,notificationName,notificationData){mw.log('KDPMapping:: sendNotification > '+notificationName,notificationData);switch(notificationName){case'doPlay':if(embedPlayer.playerReadyFlag==false){mw.log('Warning:: KDPMapping, Calling doPlay before player ready');$(embedPlayer).bind('playerReady.sendNotificationDoPlay',function(){$(embedPlayer).unbind('.sendNotificationDoPlay');embedPlayer.play();})
return;}embedPlayer.play();break;case'doPause':embedPlayer.pause();break;case'doStop':embedPlayer.stop();break;case'doReplay':embedPlayer.stop();embedPlayer.play();break;case'doSeek':var percent=(parseFloat(notificationData)-embedPlayer.startOffset)/embedPlayer.getDuration();embedPlayer.kPreSeekTime=embedPlayer.currentTime;embedPlayer.bindHelper('seeked.kdpMapOnce',function(){embedPlayer.kPreSeekTime=null;});embedPlayer.seek(percent,embedPlayer.paused);break;case'changeVolume':embedPlayer.setVolume(parseFloat(notificationData));embedPlayer.setInterfaceVolume(parseFloat(notificationData));break;case'openFullScreen':embedPlayer.controlBuilder.doFullScreenPlayer();break;case'closeFullScreen':embedPlayer.controlBuilder.restoreWindowPlayer();break;case'cleanMedia':embedPlayer.emptySources();break;case'changeMedia':if(embedPlayer.playlist&&!notificationData.playlistCall){var clipList=embedPlayer.playlist.sourceHandler.getClipList();for(var inx=0;inx<clipList.length;inx++){var clip=clipList[inx];var autoContinue=embedPlayer.playlist.sourceHandler.autoContinue
if(clip.id==notificationData.entryId){embedPlayer.playlist.playClip(inx,autoContinue);return;}};}if((!notificationData.entryId||notificationData.entryId==""||notificationData.entryId==-1)&&(!notificationData.referenceId||notificationData.referenceId==""||notificationData.referenceId==-1)){mw.log("KDPMapping:: ChangeMedia missing entryId or refrenceid, empty sources.")
embedPlayer.emptySources();break;}if((notificationData.entryId&&notificationData.entryId!=-1)||(notificationData.referenceId&&notificationData.referenceId!=-1)){if(embedPlayer.changeMediaStarted){break;}embedPlayer.changeMediaStarted=true;if(!notificationData.entryId&&notificationData.referenceId){embedPlayer.kreferenceid=notificationData.referenceId;}else{embedPlayer.kreferenceid=null;}embedPlayer.kentryid=notificationData.entryId;embedPlayer.kalturaPlayerMetaData=null;embedPlayer.kalturaEntryMetaData=null;embedPlayer.rawCuePoints=null;embedPlayer.kCuePoints=null;embedPlayer.kAds=null;embedPlayer.updatePosterSrc();embedPlayer.changeMedia();break;}case'alert':embedPlayer.controlBuilder.displayAlert(notificationData);break;case'removealert':embedPlayer.controlBuilder.closeAlert();break;default:$(embedPlayer).trigger(notificationName,[notificationData]);break;}$(embedPlayer).trigger('Kaltura_SendNotification',[notificationName,notificationData]);}};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.KLayout",function($){(function(mw,$){"use strict";mw.KLayout=function(options){this.init(options);};mw.KLayout.prototype={titleLength:45,descriptionLength:75,init:function(options){var _this=this;var validOptions=['$layoutBox','embedPlayer','evaluateCallback','getEmbedPlayerCallback','titleLength','descriptionLength'];$.each(validOptions,function(inx,optionName){if(options[optionName]){_this[optionName]=options[optionName];}});},getLayout:function($uiConfBox){if(!$uiConfBox){$uiConfBox=this.$layoutBox;}var _this=this;var offsetLeft=0;var $boxContainer=$('<div />');$j.each($uiConfBox.children(),function(inx,boxItem){var $node=$('<div />');switch(boxItem.nodeName.toLowerCase()){case'video':if(_this.getEmbedPlayerCallback){$node.append(_this.getEmbedPlayerCallback());}break;case'img':var $node=$('<img />');break;case'vbox':case'hbox':case'canvas':if(offsetLeft)$node.css('margin-left',offsetLeft);$node.append(_this.getLayout($(boxItem)));break;case'spacer':$node.css('display','inline');break;case'label':case'text':var $node=$('<span />').css('display','block');break;default:return[];break;}mw.log("KLayout::getLayout > "+boxItem.nodeName.toLowerCase());$node.addClass(boxItem.nodeName.toLowerCase());if($node&&$node.length){_this.applyUiConfAttributes($node,boxItem);if($node.css('width').indexOf('%')===-1){offsetLeft+=$node.width();}if($node[0].nodeName.toLowerCase()=='div'){$node.css('width','');}$boxContainer.append($node);if(boxItem.nodeName.toLowerCase()=='hbox'){$boxContainer.append($("<div />").css('height',$node.css('height')));}}});this.applyUiConfAttributes($boxContainer,$uiConfBox[0]);return $boxContainer;},applyUiConfAttributes:function($target,confTag){var _this=this;if(!confTag){return;}var styleName=null;var idName=null;$.each(confTag.attributes,function(inx,attr){switch(attr.nodeName.toLowerCase()){case'id':idName=attr.nodeValue;$target.data('id',idName).addClass(idName);break;case'stylename':styleName=attr.nodeValue;$target.addClass(styleName);break;case'url':$target.attr('src',_this.uiConfValueLookup(attr.nodeValue));break;case'width':case'height':var appendPx='';if(attr.nodeValue.indexOf('%')==-1){appendPx='px';}$target.css(attr.nodeName,attr.nodeValue+appendPx);break;case'paddingtop':$target.css('padding-top',attr.nodeValue);break;case'paddingright':$target.css('padding-right',attr.nodeValue);break;case'text':$target.text(_this.uiConfValueLookup(attr.nodeValue));break;case'font':var str=attr.nodeValue;if(str.indexOf('bold')!==-1){$target.css('font-weight','bold');str=str.replace('bold','');}var f=str.charAt(0).toUpperCase();$target.css('font-family',f+str.substr(1));break;case'x':$target.css({'left':attr.nodeValue});break;case'y':$target.css({'top':attr.nodeValue});break;}});mw.log("KLayout:: applyUiConfAttributes > style: "+styleName);switch(styleName){case'itemRendererLabel':case'alertBodyText':if(idName=='movieDescription'||idName=='irDescriptionIrScreen'||idName=='irDescriptionIrText'){$target.text(_this.formatDescription($target.text()));}else{$target.text(_this.formatTitle($target.text()));}break;}},uiConfValueLookup:function(objectString){if(this.evaluateCallback){return this.evaluateCallback(objectString);}return this.embedPlayer.evaluate(objectString);},formatTitle:function(text){if(text.length>this.titleLength)return text.substr(0,this.titleLength-3)+' ...';return text;},formatDescription:function(text){if(text.length>this.descriptionLength)return text.substr(0,this.descriptionLength-3)+' ...';return text;}};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.KTimedText",function($){(function(mw,$){"use strict";mw.KTimedText=function(embedPlayer,captionPluginName,callback){return this.init(embedPlayer,captionPluginName,callback);};mw.KTimedText.prototype={bindPostFix:'.kTimedText',init:function(embedPlayer,captionPluginName,callback){var _this=this;this.embedPlayer=embedPlayer;this.pluginName=captionPluginName;if(_this.getConfig('timeOffset')){_this.timeOffset=_this.getConfig('timeOffset');}var existingLayout=null;if(embedPlayer.timedText){existingLayout=embedPlayer.timedText.getPersistentConfig('layout');}if(this.pluginName=='closedCaptionsOverPlayer'||this.pluginName=='closedCaptionsFlexible'){this.defaultDisplayMode='ontop';}else if(this.pluginName=='closedCaptionsUnderPlayer'){if(_this.getConfig('ccUrl')&&_this.getConfig('ccUrl').substr(-4)=='.xml'){this.defaultDisplayMode='ontop';}else{this.defaultDisplayMode='below';}}var baseTimedText=new mw.TimedText(embedPlayer);for(var i in _this){if(baseTimedText[i]){baseTimedText['parent_'+i]=baseTimedText[i];}baseTimedText[i]=_this[i];}embedPlayer.timedText=baseTimedText;if(_this.embedPlayer.getKalturaConfig('','customCaptionsButton')){existingLayout='off';}var defaultLanguageKey=_this.embedPlayer.getKalturaConfig(this.pluginName,'defaultLanguageKey');if(defaultLanguageKey&&defaultLanguageKey!="None"){embedPlayer.timedText.setPersistentConfig('userLanguage',defaultLanguageKey);}else{embedPlayer.timedText.defaultDisplayMode='off';}$(embedPlayer).bind('playerReady'+this.bindPostFix,function(){if(existingLayout!==null){embedPlayer.timedText.setLayoutMode(existingLayout);}else if(_this.getConfig('hideClosedCaptions')==true){embedPlayer.timedText.setLayoutMode('off');}else{embedPlayer.timedText.setLayoutMode(_this.defaultDisplayMode);}_this.bindPlayer(embedPlayer);});callback();},bindTextButton:function($textButton){var _this=this;$textButton.unbind('click.textMenu').bind('click.textMenu',function(){if(_this.embedPlayer.getKalturaConfig('','customCaptionsButton')){_this.toggleCaptions();}else{_this.showTextMenu();}return true;});},buildMenu:function(autoShow){var _this=this;if(_this.embedPlayer.getKalturaConfig('','customCaptionsButton')){return;}else{this.parent_buildMenu(autoShow);}},getCaptionCss:function(){var style={'display':'inline'};if(this.getConfig('bg')){style["background-color"]=mw.getHexColor(this.getConfig('bg'));}if(this.getConfig('fontColor')){style["color"]=mw.getHexColor(this.getConfig('fontColor'));}if(this.getConfig('fontFamily')){style["font-family"]=this.getConfig('fontFamily');}if(this.getConfig('fontsize')){var emFontMap={'6':.5,'7':.583,'8':.666,'9':.75,'10':.833,'11':.916,'12':1,'13':1.083,'14':1.166,'15':1.25,'16':1.333,'17':1.416,'18':1.5,'19':1.583,'20':1.666,'21':1.75,'22':1.833,'23':1.916,'24':2};var fontsize=parseInt(this.getConfig('fontsize'));style["font-size"]=(emFontMap[fontsize])?emFontMap[fontsize]+'em':(fontsize>24)?emFontMap[24]+'em':emFontMap[6];}if(this.getConfig('useGlow')&&this.getConfig('glowBlur')&&this.getConfig('glowColor')){style["text-shadow"]='0 0 '+this.getConfig('glowBlur')+'px '+mw.getHexColor(this.getConfig('glowColor'));}return style;},bindPlayer:function(embedPlayer){var _this=this;$(embedPlayer).unbind(this.bindPostFix);$(embedPlayer).bind('TimedText_ChangeSource'+this.bindPostFix,function(){$(embedPlayer).trigger('changedClosedCaptions');});$(embedPlayer).bind('Kaltura_SendNotification'+this.bindPostFix,function(event,notificationName,notificationData){switch(notificationName){case'showHideClosedCaptions':embedPlayer.timedText.toggleCaptions();break;case'showClosedCaptions':var mode=embedPlayer.timedText.defaultDisplayMode
if(mode=='off'){mode='ontop';}embedPlayer.timedText.setLayoutMode(mode);break;case'hideClosedCaptions':embedPlayer.timedText.setLayoutMode('off');break;}});$(embedPlayer).bind('Kaltura_SetKDPAttribute'+this.bindPostFix,function(event,componentName,property,value){if(componentName==_this.pluginName){if(property=='ccUrl'){embedPlayer.timedText.textSources=null;embedPlayer.timedText.setupTextSources();}}});},includeCaptionButton:function(){return true;},getConfig:function(attrName){return this.embedPlayer.getKalturaConfig(this.pluginName,attrName);},getKalturaClient:function(){if(!this.kClient){this.kClient=mw.kApiGetPartnerClient(this.embedPlayer.kwidgetid);}return this.kClient;},loadTextSources:function(callback){var _this=this;mw.log("KTimedText::loadTextSources");if(this.textSources&&this.textSources.length){mw.log('KTimedText:: loadTextSources > already loaded');callback();return;}var entry=this.embedPlayer.evaluate('{mediaProxy.entry}');if(!entry||!entry.id){mw.log("KTimedText::loadTextSources without entry data ( skip )");callback();return;}if(this.getConfig('ccUrl')){mw.log('KTimedText:: loadTextSources> add textSources from ccUrl:'+this.getConfig('ccUrl'));var textSource=this.getTextSource(this.getConfig('ccUrl'),this.getConfig('type'));if(textSource){_this.textSources.push(textSource);}callback();return;}_this.getKalturaClient().getKS(function(ks){mw.log('KTimedText:: loadTextSources> from api');_this.ksCache=ks;_this.getTextSourcesFromApi(function(dbTextSources){var multiRequest=[];$.each(dbTextSources,function(inx,dbTextSource){multiRequest.push({'service':'caption_captionasset','action':'getUrl','id':dbTextSource.id});});if(multiRequest.length){_this.getKalturaClient().doRequest(multiRequest,function(result){var captionsURLs=[];$.each(result,function(){var startIndex=this.indexOf('captionAssetId/')+"captionAssetId/".length;var endIndex=this.indexOf('/ks/');var captionAssetId=this.substr(startIndex,(endIndex-startIndex));captionsURLs[captionAssetId]=this;});$.each(dbTextSources,function(inx,dbTextSource){dbTextSource.src=captionsURLs[dbTextSource.id];mw.log('KTimedText:: loadTextSources> add textSources from db:'+inx);_this.textSources.push(_this.getTextSourceFromDB(dbTextSource));});$(_this.embedPlayer).trigger('KalturaSupport_CCDataLoaded');mw.log('KTimedText:: loadTextSources> total source count: '+_this.textSources.length);callback();});}});});},getTextSourcesFromApi:function(callback){var _this=this;this.getKalturaClient().doRequest({'service':'caption_captionasset','action':'list','filter:objectType':'KalturaAssetFilter','filter:entryIdEqual':_this.embedPlayer.kentryid,'filter:statusEqual':2},function(data){mw.log("KTimedText:: getTextSourcesFromApi: "+data.totalCount,data.objects);$(_this.embedPlayer).trigger('KalturaSupport_NewClosedCaptionsData');if(data.totalCount>0){callback(data.objects);}else{callback([]);}});},getTextContentType:function(type){switch(type){case'srt':return'text/x-srt';break;case'tt':return'text/xml';break;}},getTextSource:function(ccUrl,type){var _this=this;if(!ccUrl){mw.log("Error: KTimedText error missing text source from custom vars");return null;}if(!type){type='text/x-srt';}var embedSource=this.embedPlayer.mediaElement.tryAddSource($('<track />').attr({'kind':'subtitles','label':'English','srclang':'en','fileExt':type,'type':this.getTextContentType(type),'src':ccUrl})[0]);return new mw.TextSource(embedSource);},getTextSourceFromDB:function(dbTextSource){var _this=this;if(dbTextSource.fileExt==''){if(dbTextSource.format=='2'){dbTextSource.fileExt='xml';}}var embedSource=this.embedPlayer.mediaElement.tryAddSource($('<track />').attr({'kind':'subtitles','language':dbTextSource.language,'srclang':dbTextSource.languageCode,'label':dbTextSource.label,'id':dbTextSource.id,'fileExt':dbTextSource.fileExt,'src':dbTextSource.src+'/.'+dbTextSource.fileExt,'title':dbTextSource.label,'default':dbTextSource.isDefault})[0]);return new mw.TextSource(embedSource);},getCaptionUrl:function(captionId,type){var params={'action':'serve','captionAssetId':captionId,'ks':this.ksCache};var kalsig=this.getKalturaClient().getSignature(params);var baseUrl=mw.getConfig('Kaltura.ServiceUrl')+mw.getConfig('Kaltura.ServiceBase').replace('index.php','');return baseUrl+'caption_captionasset&'+$.param(params)+'&kalsig='+kalsig+'&.'+type;}};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.KWidgetSupport",function($){(function(mw,$){"use strict";mw.KWidgetSupport=function(options){return this.init(options);};mw.KWidgetSupport.prototype={kClient:null,kSessionId:null,init:function(options){if(options){$.extend(this,options);}this.addPlayerHooks();},isIframeApiServer:function(){return(mw.getConfig('EmbedPlayer.IsIframeServer')&&mw.getConfig('EmbedPlayer.EnableIframeApi')&&mw.getConfig('EmbedPlayer.IframeParentUrl'))},addPlayerHooks:function(){var _this=this;$(mw).bind('KalturaSupportNewPlayer',function(event,embedPlayer){if(!embedPlayer.kwidgetid){mw.log("Error:: KalturaSupportNewPlayer without kwidgetid");return;}_this.bindPlayer(embedPlayer);new mw.KDPMapping(embedPlayer);});},bindPlayer:function(embedPlayer){var _this=this;this.addPlayerMethods(embedPlayer);_this.setUiConf(embedPlayer);embedPlayer.bindHelper('directDownloadLink',function(event,downloadUrlCallback){var baseUrl=mw.getConfig('wgLoadScript').replace('load.php','');var downloadUrl=baseUrl+'modules/KalturaSupport/download.php/wid/'+embedPlayer.kwidgetid;if(embedPlayer.kuiconfid){downloadUrl+='/uiconf_id/'+embedPlayer.kuiconfid;}if(embedPlayer.kentryid){downloadUrl+='/entry_id/'+embedPlayer.kentryid;}var client=mw.kApiGetPartnerClient(embedPlayer.kwidgetid);var referrer=base64_encode(kWidgetSupport.getHostPageUrl());client.getKS(function(ks){downloadUrl+='/?ks='+ks+'&referrer='+referrer;downloadUrlCallback(downloadUrl);});});embedPlayer.bindHelper('checkPlayerSourcesEvent',function(event,callback){_this.loadAndUpdatePlayerData(embedPlayer,callback);});embedPlayer.bindHelper('KalturaSupport_EntryDataReady',function(){var thumbUrl=_this.getKalturaThumbnailUrl({url:embedPlayer.evaluate('{mediaProxy.entry.thumbnailUrl}'),width:embedPlayer.getWidth(),height:embedPlayer.getHeight()});if(embedPlayer.getFlashvars('loadThumbnailWithKs')===true){thumbUrl+='?ks='+embedPlayer.getFlashvars('ks');}embedPlayer.updatePosterSrc(thumbUrl);});embedPlayer.bindHelper('AddEmptyBlackSources',function(event,vid){$(vid).empty();$.each(mw.getConfig('Kaltura.BlackVideoSources'),function(inx,sourceAttr){$(vid).append($('<source />').attr(sourceAttr))});});embedPlayer.bindHelper('getShareIframeSrc',function(event,callback){var iframeUrl=mw.getMwEmbedPath()+'mwEmbedFrame.php';iframeUrl+='/wid/'+embedPlayer.kwidgetid+'/uiconf_id/'+embedPlayer.kuiconfid+'/entry_id/'+embedPlayer.kentryid+'/'+'?'+kWidget.flashVarsToUrl(embedPlayer.getFlashvars());callback(iframeUrl);});},setUiConf:function(embedPlayer){if(!embedPlayer.playerConfig||!embedPlayer.playerConfig.uiConf){mw.log('Error: KWidgetSupport::setUiConf error UiConf not found');return;}var uiConf=embedPlayer.playerConfig.uiConf;uiConf=$.trim(uiConf.replace(/\<\?xml.*\?\>/,''));$(embedPlayer).trigger('KalturaSupport_RawUiConfReady',[uiConf]);embedPlayer.$uiConf=$($.parseXML(uiConf));},loadAndUpdatePlayerData:function(embedPlayer,callback){var _this=this;mw.log("KWidgetSupport::loadAndUpdatePlayerData");_this.loadPlayerData(embedPlayer,function(playerData){if(!playerData){mw.log("KWidgetSupport::loadAndUpdatePlayerData> error no player data!");callback();return;}_this.updatePlayerData(embedPlayer,playerData,callback);});},updatePlayerData:function(embedPlayer,playerData,callback){var _this=this;if(playerData.error){embedPlayer.setError(playerData.error);}if(playerData.meta&&playerData.meta.type==7){if(mw.EmbedTypes.getMediaPlayers().isSupportedPlayer('appleVdn')){_this.addLiveEntrySource(embedPlayer,playerData.meta);embedPlayer.setLive(true);}else{embedPlayer.setError(embedPlayer.getKalturaMsg('LIVE-STREAM-NOT-SUPPORTED'));}}if(playerData.flavors){_this.addFlavorSources(embedPlayer,playerData);}if(playerData.meta&&playerData.meta.mediaType==2){mw.log('KWidgetSupport::updatePlayerData: Add Entry Image');embedPlayer.mediaElement.tryAddSource($('<source />').attr({'src':_this.getKalturaThumbnailUrl({url:playerData.meta.thumbnailUrl,width:embedPlayer.getWidth(),height:embedPlayer.getHeight()}),'type':'image/jpeg'}).get(0));}if(playerData.meta&&playerData.meta.type=="externalMedia.externalMedia"){$(embedPlayer).trigger('KalturaSupport_AddExternalMedia',playerData.meta);}mw.log("KWidgetSupport::updatePlayerData: check for meta:");if(playerData.meta&&playerData.meta.code=='ENTRY_ID_NOT_FOUND'){$(embedPlayer).trigger('KalturaSupport_EntryFailed');}else{if(playerData.entryMeta){embedPlayer.kalturaEntryMetaData=playerData.entryMeta;}if(playerData.meta){mw.log("KWidgetSupport::updatePlayerData: update duration:"+playerData.meta.duration);embedPlayer.setDuration(playerData.meta.duration);embedPlayer.kalturaPlayerMetaData=playerData.meta;}}if($(embedPlayer).data('uiConfXml')){embedPlayer.$uiConf=$(embedPlayer).data('uiConfXml');}if(playerData.accessControl){embedPlayer.kalturaAccessControl=playerData.accessControl;}if(playerData.entryCuePoints&&playerData.entryCuePoints.length>0){mw.load(["mw.KCuePoints"],function(){mw.log("KCuePoints:: Add: "+playerData.entryCuePoints.length+" CuePoints to embedPlayer");embedPlayer.rawCuePoints=playerData.entryCuePoints;embedPlayer.kCuePoints=new mw.KCuePoints(embedPlayer);_this.handleUiConf(embedPlayer,callback);});}else{_this.handleUiConf(embedPlayer,callback);}},addPlayerMethods:function(embedPlayer){var _this=this;embedPlayer.getRawKalturaConfig=function(confPrefix,attr){var rawConfigArray=_this.getRawPluginConfig(embedPlayer,confPrefix,attr);if(attr){return rawConfigArray[attr];}return rawConfigArray;};embedPlayer.getKalturaConfig=function(confPrefix,attr){return _this.getPluginConfig(embedPlayer,confPrefix,attr);};embedPlayer.setKalturaConfig=function(pluginName,key,value){if(!pluginName||!key){return;}var objectSet={};if(typeof key==="string"){objectSet[key]=value;}if(typeof key==="object"){objectSet=key;}if(!embedPlayer.playerConfig){embedPlayer.playerConfig={'plugins':{},'vars':{}};}if(!embedPlayer.playerConfig['plugins'][pluginName]){embedPlayer.playerConfig['plugins'][pluginName]=objectSet;}else{if(typeof key==='object'){$.extend(embedPlayer.playerConfig['plugins'][pluginName],objectSet);mw.log('merged:: ',embedPlayer.playerConfig['plugins'][pluginName]);}else if(typeof embedPlayer.playerConfig['plugins'][pluginName][key]==='object'&&typeof value==='object'){$.extend(embedPlayer.playerConfig['plugins'][pluginName][key],value);}else{embedPlayer.playerConfig['plugins'][pluginName][key]=value;}}};embedPlayer.addExportedObject=function(pluginName,objectSet){if(console&&console.log){console.log("KwidgetSupport:: addExportedObject is deprecated, please use standard setKalturaConfig");}for(var key in objectSet){embedPlayer.setKalturaConfig(pluginName,key,objectSet[key]);}};embedPlayer.isPluginEnabled=function(pluginName){var lcPluginName=(pluginName[0])?pluginName[0].toLowerCase()+pluginName.substr(1):false;if(lcPluginName&&_this.getPluginConfig(embedPlayer,lcPluginName,'plugin')){if(_this.getPluginConfig(embedPlayer,lcPluginName,'disableHTML5')){return false;}return true;}return false;};embedPlayer.getFlashvars=function(param){if(!embedPlayer.playerConfig||!embedPlayer.playerConfig.vars){return{};}var fv=embedPlayer.playerConfig['vars']||{};if(param){if(param in fv){return fv[param];}else{return undefined;}}return fv;}
embedPlayer.setFlashvars=function(key,value){if(key){embedPlayer.playerConfig['vars'][key]=value;}}
embedPlayer.getKalturaMsg=function(msgKey){var localeMsgKey=msgKey;if(embedPlayer.currentLocale){localeMsgKey=embedPlayer.currentLocale+'_'+msgKey;}if(_this.getPluginConfig(embedPlayer,'strings',localeMsgKey)){return _this.getPluginConfig(embedPlayer,'strings',localeMsgKey);}if(mw.messages.exists(msgKey)){return gM(msgKey);}msgKey='ks-'+msgKey;if(mw.messages.exists(msgKey)){return gM(msgKey);}if(msgKey.indexOf('_TITLE')==-1){return gM('ks-GENERIC_ERROR');}return gM('ks-GENERIC_ERROR_TITLE');};embedPlayer.getKalturaMsgTitle=function(msgKey){return embedPlayer.getKalturaMsg(msgKey+'_TITLE');};embedPlayer.getKalturaMsgObject=function(msgKey){return{'title':embedPlayer.getKalturaMsgTitle(msgKey),'message':embedPlayer.getKalturaMsg(msgKey)}};},handleUiConf:function(embedPlayer,callback){var _this=this;var doneWithUiConf=function(){if(embedPlayer.rawCuePoints){mw.log("KWidgetSupport:: trigger KalturaSupport_CuePointsReady",embedPlayer.rawCuePoints);$(embedPlayer).trigger('KalturaSupport_CuePointsReady',embedPlayer.rawCuePoints);}if(embedPlayer.kalturaPlayerMetaData){$(embedPlayer).trigger('KalturaSupport_EntryDataReady',embedPlayer.kalturaPlayerMetaData);}if(embedPlayer.kalturaEntryMetaData){$(embedPlayer).trigger('KalturaSupport_MetadataReceived',embedPlayer.kalturaEntryMetaData);}mw.log("KWidgetSupport:: trigger KalturaSupport_DoneWithUiConf");setTimeout(function(){$(embedPlayer).trigger('KalturaSupport_DoneWithUiConf');callback();},0);};if(embedPlayer.$uiConf){_this.baseUiConfChecks(embedPlayer);mw.log("KWidgetSupport:: trigger KalturaSupport_CheckUiConf");$(embedPlayer).triggerQueueCallback('KalturaSupport_CheckUiConf',embedPlayer.$uiConf,function(){mw.log("KWidgetSupport::KalturaSupport_CheckUiConf done with all uiConf checks");$(mw).triggerQueueCallback('Kaltura_CheckConfig',embedPlayer,function(){doneWithUiConf();});});}else{doneWithUiConf();}},baseUiConfChecks:function(embedPlayer){var _this=this;var getAttr=function(attrName){return _this.getPluginConfig(embedPlayer,'',attrName);}
var autoPlay=getAttr('autoPlay');if(autoPlay){embedPlayer.autoplay=true;}var loop=getAttr('loop');if(loop){embedPlayer.loop=true;}if(getAttr('disableAlerts')){mw.setConfig('EmbedPlayer.ShowPlayerAlerts',false);}if(getAttr('disableBitrateCookie')&&getAttr('mediaProxy.preferedFlavorBR')){embedPlayer.setCookie('EmbedPlayer.UserBandwidth',getAttr('mediaProxy.preferedFlavorBR')*1000);}var imageDuration=getAttr('imageDefaultDuration');if(imageDuration){$(embedPlayer).data('imageDuration',imageDuration);}var mediaPlayFrom=embedPlayer.evaluate('{mediaProxy.mediaPlayFrom}');if(mediaPlayFrom){embedPlayer.startTime=parseFloat(mediaPlayFrom);}var mediaPlayTo=embedPlayer.evaluate('{mediaProxy.mediaPlayTo}');if(mediaPlayTo){embedPlayer.pauseTime=parseFloat(mediaPlayTo);}if(getAttr('adsOnReplay')){embedPlayer.adsOnReplay=true;}if(embedPlayer.$uiConf.find('#endScreen').find('button[command="play"],button[kclick="sendNotification(\'doPlay\')"]').length==0){$(embedPlayer).data('hideEndPlayButton',true);}else{$(embedPlayer).data('hideEndPlayButton',false);}},getPluginConfig:function(embedPlayer,confPrefix,attr){var singleAttrName=false;if(typeof attr=='string'){singleAttrName=attr;}var rawConfigArray=this.getRawPluginConfig(embedPlayer,confPrefix,singleAttrName);var configArray=this.postProcessConfig(embedPlayer,rawConfigArray);if(singleAttrName!=false){return configArray[singleAttrName];}else{return configArray;}},getRawPluginConfig:function(embedPlayer,confPrefix,attr){var _this=this;if(!embedPlayer.playerConfig){if(window.kalturaIframePackageData.playerConfig){embedPlayer.playerConfig=window.kalturaIframePackageData.playerConfig;delete(window.kalturaIframePackageData.playerConfig);}if(attr){attr=[attr];}return this.getLegacyPluginConfig(embedPlayer,confPrefix,attr);}var plugins=embedPlayer.playerConfig['plugins'];var returnConfig={};if(confPrefix&&confPrefix[0]){confPrefix=confPrefix[0].toLowerCase()+confPrefix.substr(1);}if(confPrefix&&plugins[confPrefix]){if(!attr){return plugins[confPrefix];}if(attr&&typeof plugins[confPrefix][attr]!=='undefined'){returnConfig[attr]=plugins[confPrefix][attr];}if(attr&&typeof attr=='object'){for(var currAttr in attr){if(plugins[confPrefix][attr[currAttr]]){returnConfig[attr[currAttr]]=plugins[confPrefix][attr[currAttr]];}}}}if(!confPrefix&&attr){returnConfig[attr]=embedPlayer.playerConfig['vars'][attr]}return returnConfig;},getLegacyPluginConfig:function(embedPlayer,confPrefix,attr){if(!this.logLegacyErrorOnce){this.logLegacyErrorOnce=true;mw.log("Error: kWidgetSupport get config from uiCOnf has been deprecated please load via iframe");}var _this=this;var flashvars=embedPlayer.getFlashvars();var $uiConf=embedPlayer.$uiConf;if(!$uiConf){mw.log("Error::getLegacyPluginConfig missing $uiConf");}if(attr&&$.inArray('plugin',attr)!=-1){attr.push("disableHTML5");}var config={};var $plugin=[];var $uiPluginVars=[];if(confPrefix){$plugin=$uiConf.find('#'+confPrefix);if($plugin.length&&attr&&$.inArray('plugin',attr)!=-1){config['plugin']=true;}$uiPluginVars=$uiConf.find('var[key^="'+confPrefix+'"]');}else{var uiPluginVarsSelect='';var coma='';$.each(attr,function(inx,attrName){uiPluginVarsSelect+=coma+'var[key="'+attrName+'"]';coma=',';});if(uiPluginVarsSelect){$uiPluginVars=$uiConf.find(uiPluginVarsSelect);}}if(!attr&&confPrefix){if($plugin.length){$.each($plugin[0].attributes,function(i,nodeAttr){config[nodeAttr.name]=nodeAttr.value;});}$.each(flashvars,function(key,val){if(key.indexOf(confPrefix)===0){config[key]=val;}})
$uiPluginVars.each(function(inx,node){var attrName=$(node).attr('key');if($(node).attr('overrideflashvar')!="false"||!config[attrName]){var attrKey=attrName.replace(confPrefix+'.','');config[attrKey]=$(node)[0].getAttribute('value');}});}else{$.each(attr,function(inx,attrName){if($plugin.length){if($plugin.attr(attrName)){config[attrName]=$plugin.attr(attrName);}if($plugin.attr(attrName.toLowerCase())){config[attrName]=$plugin.attr(attrName.toLowerCase());}}var pluginPrefix=(confPrefix)?confPrefix+'.':'';if(flashvars[pluginPrefix+attrName]){config[attrName]=flashvars[pluginPrefix+attrName];}$uiPluginVars.each(function(inx,node){if($(node).attr('key')==pluginPrefix+attrName){if($(node).attr('overrideflashvar')=="true"||!config[attrName]){config[attrName]=$(node)[0].getAttribute('value');}return false;}});});}return config;},postProcessConfig:function(embedPlayer,config){var _this=this;var returnSet=$.extend({},config);$.each(returnSet,function(attrName,value){if(value&&(typeof value==='string')){returnSet[attrName]=unescape(value);}if(embedPlayer.evaluate){returnSet[attrName]=embedPlayer.evaluate(returnSet[attrName]);}});return returnSet;},getEntryIdSourcesFromApi:function(widgetId,partnerId,entryId,size,callback){var _this=this;var sources;mw.log("KWidgetSupport:: getEntryIdSourcesFromApi: w:"+widgetId+' entry:'+entryId);this.kClient=mw.KApiPlayerLoader({'widget_id':widgetId,'entry_id':entryId},function(playerData){if(playerData.accessControl){var acStatus=_this.getAccessControlStatus(playerData.accessControl);if(acStatus!==true){callback(acStatus);return;}}if(playerData.meta&&playerData.meta.mediaType==2){sources=[{'src':_this.getKalturaThumbnailUrl({url:playerData.meta.thumbnailUrl,width:size.width,height:size.height}),'type':'image/jpeg'}];}else{sources=_this.getEntryIdSourcesFromPlayerData(partnerId,playerData);}callback(sources);});},loadPlayerData:function(embedPlayer,callback){var _this=this;var playerRequest={};if(!embedPlayer.kwidgetid){mw.log("Error: missing required widget paramater ( kwidgetid ) ");callback(false);return;}else{playerRequest.widget_id=embedPlayer.kwidgetid;}if(!this.checkForUrlEntryId(embedPlayer)&&embedPlayer.kentryid){playerRequest.entry_id=embedPlayer.kentryid;}if(embedPlayer.kreferenceid){playerRequest.reference_id=embedPlayer.kreferenceid;}playerRequest.flashvars=embedPlayer.getFlashvars();this.kClient=mw.kApiGetPartnerClient(playerRequest.widget_id);this.kClient.setKS(embedPlayer.getFlashvars('ks'));if(window.kalturaIframePackageData&&window.kalturaIframePackageData.playlistResult){embedPlayer.kalturaPlaylistData=window.kalturaIframePackageData.playlistResult;delete(window.kalturaIframePackageData.playlistResult);}if(window.kalturaIframePackageData&&window.kalturaIframePackageData.entryResult){this.handlePlayerData(embedPlayer,kalturaIframePackageData.entryResult);callback(window.kalturaIframePackageData.entryResult);delete(window.kalturaIframePackageData.entryResult);}else{this.kClient=mw.KApiPlayerLoader(playerRequest,function(playerData){_this.handlePlayerData(embedPlayer,playerData);callback(playerData);});}},handlePlayerData:function(embedPlayer,entryResult){if(entryResult.meta&&entryResult.meta.id){embedPlayer.kentryid=entryResult.meta.id;embedPlayer.kpartnerid=entryResult.meta.partnerId;}var errObj=null;if(entryResult.flavors&&entryResult.flavors.code=="INVALID_KS"){errObj=embedPlayer.getKalturaMsgObject("NO_KS");}if(entryResult.error){errObj=embedPlayer.getKalturaMsgObject('GENERIC_ERROR');errObj.message=entryResult.error;}if(errObj){embedPlayer.hideSpinner();embedPlayer.setError(errObj);}},getAccessControlStatus:function(ac,embedPlayer){if(ac.isAdmin){return true;}if(ac.isCountryRestricted){return embedPlayer.getKalturaMsgObject('UNAUTHORIZED_COUNTRY');}if(ac.isScheduledNow===0){return embedPlayer.getKalturaMsgObject('OUT_OF_SCHEDULING');}if(ac.isIpAddressRestricted){return embedPlayer.getKalturaMsgObject('UNAUTHORIZED_IP_ADDRESS');}if(ac.isSessionRestricted&&ac.previewLength===-1){return embedPlayer.getKalturaMsgObject('NO_KS');}if(ac.isSiteRestricted){return embedPlayer.getKalturaMsgObject('UNAUTHORIZED_DOMAIN');}if(ac.isUserAgentRestricted){return embedPlayer.getKalturaMsgObject('USER_AGENT_RESTRICTED');}if(ac.accessControlActions&&ac.accessControlActions.length){var msgObj=embedPlayer.getKalturaMsgObject('GENERIC_ERROR');var err=false;$.each(ac.accessControlActions,function(){if(this.type==1){msgObj.message='';if(ac.accessControlMessages&&ac.accessControlMessages.length){$.each(ac.accessControlMessages,function(){msgObj.message+=this.value+'\n';err=true;});}else{msgObj=embedPlayer.getKalturaMsgObject('NO_KS');err=true;}}});if(err){return msgObj;}}return true;},getUiConfId:function(embedPlayer){return embedPlayer.kuiconfid;},checkForUrlEntryId:function(embedPlayer){if(embedPlayer.kentryid&&typeof embedPlayer.kentryid=='string'&&embedPlayer.kentryid.indexOf('://')!=-1){embedPlayer.mediaElement.tryAddSource($('<source />').attr({'src':embedPlayer.kentryid}).get(0));return true;}return false;},addFlavorSources:function(embedPlayer,playerData){var _this=this;mw.log('KWidgetSupport::addEntryIdSources:');var sources=embedPlayer.mediaElement.getSources();if(sources[0]&&sources[0]['data-flavorid']){return;}var flavorSources=_this.getEntryIdSourcesFromPlayerData(embedPlayer.kpartnerid,playerData);var preferedBitRate=embedPlayer.evaluate('{mediaProxy.preferedFlavorBR}');var flashvarsPlayMainfestParams=this.getPlayMainfestParams(embedPlayer);var qp='';for(var i=0;i<flavorSources.length;i++){var source=flavorSources[i];if(preferedBitRate&&source.type=='application/vnd.apple.mpegurl'){qp=(source.src.indexOf('?')===-1)?'?':'&';source.src=source.src+qp+'preferredBitrate='+preferedBitRate;}qp=(source.src.indexOf('?')===-1)?'?':'&';source.src=source.src+qp+flashvarsPlayMainfestParams;mw.log('KWidgetSupport:: addSource::'+embedPlayer.id+' : '+source.src+' type: '+source.type);var sourceElm=$('<source />').attr(source).get(0);embedPlayer.mediaElement.tryAddSource(sourceElm);}},getPlayMainfestParams:function(embedPlayer){var p='';var and='';var urlParms=["deliveryCode","storageId","maxBitrate","playbackContext","seekFrom","clipTo"];$.each(urlParms,function(inx,param){if(embedPlayer.getFlashvars(param)){p+=and+param+'='+embedPlayer.getFlashvars(param);and='&';}});return p;},getHostPageUrl:function(){var hostUrl=(mw.getConfig('EmbedPlayer.IframeParentUrl'))?mw.getConfig('EmbedPlayer.IframeParentUrl'):document.URL;if(hostUrl.indexOf("#")!==-1){hostUrl=hostUrl.substr(0,hostUrl.indexOf("#"));}hostUrl=hostUrl.substr(0,hostUrl.indexOf("/",8));return hostUrl;},getBaseFlavorUrl:function(partnerId){if(mw.getConfig('Kaltura.UseManifestUrls')){return mw.getConfig('Kaltura.ServiceUrl')+'/p/'+partnerId+'/sp/'+partnerId+'00/playManifest';}else{return mw.getConfig('Kaltura.CdnUrl')+'/p/'+partnerId+'/sp/'+partnerId+'00/flvclipper';}},getEntryIdSourcesFromPlayerData:function(partnerId,playerData){var _this=this;var flavorData=playerData.flavors;if(!flavorData){mw.log("Error: KWidgetSupport: flavorData is not defined ");return;}var protocol=mw.getConfig('Kaltura.Protocol');if(!protocol){protocol=window.location.protocol.replace(':','');}var deviceSources=[];var ipadAdaptiveFlavors=[];var iphoneAdaptiveFlavors=[];var flavorUrl=_this.getBaseFlavorUrl(partnerId);for(var i=0;i<flavorData.length;i++){var asset=flavorData[i];var sourceAspect=Math.round((asset.width/asset.height)*100)/100
var source={'data-sizebytes':asset.size*1024,'data-bandwidth':asset.bitrate*1024,'data-width':asset.width,'data-height':asset.height,'data-aspect':sourceAspect};var tags=asset.tags.toLowerCase().split(',');if(asset.status!=2){if(asset.status==4){source.error='not-ready-transcoding';mw.log("KWidgetSupport:: Skip sources that are not ready: "+asset.id+' '+asset.tags);}continue;}if(mw.getConfig('Kaltura.UseManifestUrls')){var src=flavorUrl+'/entryId/'+asset.entryId;if(mw.getConfig('Kaltura.UseAppleAdaptive')&&$.inArray('applembr',tags)!=-1){src+='/format/applehttp/protocol/'+protocol+'/a.m3u8';deviceSources.push({'data-aspect':sourceAspect,'data-flavorid':'AppleMBR','type':'application/vnd.apple.mpegurl','src':src});continue;}else{src+='/flavorId/'+asset.id+'/format/url/protocol/'+protocol;}}else{mw.log("Error: KWidgetSupport: non-manifest urls are deprecated");var src=flavorUrl+'/entry_id/'+asset.entryId+'/flavor/'+asset.id;}if($.inArray('ipad',tags)!=-1){source['src']=src+'/a.mp4';source['data-flavorid']='iPad';source['type']='video/mp4; codecs="avc1.42E01E, mp4a.40.2';}if($.inArray('iphone',tags)!=-1){source['src']=src+'/a.mp4';source['data-flavorid']='iPhone';source['type']='video/mp4; codecs="avc1.42E01E, mp4a.40.2';}if($.inArray('mbr',tags)!=-1&&$.isEmptyObject(source['src'])&&!mw.isMobileDevice()&&asset.fileExt.toLowerCase()=='mp4'){source['src']=src+'/a.mp4';source['type']='video/mp4; codecs="avc1.42E01E, mp4a.40.2';}if(asset.fileExt&&(asset.fileExt.toLowerCase()=='ogg'||asset.fileExt.toLowerCase()=='ogv'||(asset.containerFormat&&asset.containerFormat.toLowerCase()=='ogg'))){source['src']=src+'/a.ogg';source['data-flavorid']='ogg';source['type']='video/ogg';}if(asset.fileExt&&asset.containerFormat&&(asset.fileExt=='webm'||$.inArray('webm',tags)!=-1||(asset.containerFormat.toLowerCase()=='webm'))){source['src']=src+'/a.webm';source['data-flavorid']='webm';source['type']='video/webm; codecs="vp8, vorbis';}if(asset.fileExt&&asset.fileExt=='3gp'){source['src']=src+'/a.3gp';source['data-flavorid']='3gp';source['type']='video/3gp';}if(asset.fileExt&&asset.fileExt=='mp3'){source['src']=src+'/a.mp3';source['data-flavorid']='mp3';source['type']='audio/mp3';}if(source['src']){deviceSources.push(source);}if(navigator.userAgent.indexOf('Android')!==-1&&asset.width==0&&asset.height==0){continue;}if($.inArray('ipadnew',tags)!=-1){ipadAdaptiveFlavors.push(asset.id);}if($.inArray('iphonenew',tags)!=-1){ipadAdaptiveFlavors.push(asset.id);iphoneAdaptiveFlavors.push(asset.id);}}for(var i=0;i<deviceSources.length;i++){var source=deviceSources[i];if(!this.isValidAspect(source['data-aspect'])){source['data-aspect']=this.getValidAspect(deviceSources);}mw.log("KWidgetSupport:: set aspect for: "+source['data-flavorid']+' = '+source['data-aspect']);}if(mw.getConfig('Kaltura.UseFlavorIdsUrls')&&$.grep(deviceSources,function(a){if(a['data-flavorid']=='AppleMBR'){return true;}}).length==0){var validClipAspect=this.getValidAspect(deviceSources);if(ipadAdaptiveFlavors.length>1&&mw.getConfig('Kaltura.UseAppleAdaptive')){deviceSources.push({'data-aspect':validClipAspect,'data-flavorid':'iPadNew','type':'application/vnd.apple.mpegurl','src':flavorUrl+'/entryId/'+asset.entryId+'/flavorIds/'+ipadAdaptiveFlavors.join(',')+'/format/applehttp/protocol/'+protocol+'/a.m3u8'});}if(iphoneAdaptiveFlavors.length>1&&mw.getConfig('Kaltura.UseAppleAdaptive')){deviceSources.push({'data-aspect':validClipAspect,'data-flavorid':'iPhoneNew','type':'application/vnd.apple.mpegurl','src':flavorUrl+'/entryId/'+asset.entryId+'/flavorIds/'+iphoneAdaptiveFlavors.join(',')+'/format/applehttp/protocol/'+protocol+'/a.m3u8'});}}if(playerData.meta.duration<10){deviceSources=this.removeAdaptiveFlavors(deviceSources);}if(mw.getConfig('playlistAPI.kpl0Url')&&playerData.meta&&playerData.meta.mediaType==5){deviceSources=this.removeAdaptiveFlavors(deviceSources);}var ksCheck=false;this.kClient.getKS(function(ks){ksCheck=true;$.each(deviceSources,function(inx,source){deviceSources[inx]['src']=deviceSources[inx]['src']+'?ks='+ks+'&referrer='+base64_encode(_this.getHostPageUrl());});});if(!ksCheck){mw.log("Error:: KWidgetSupport: KS not defined in time, streams will be missing ks paramter");}return deviceSources;},removeAdaptiveFlavors:function(sources){for(var i=0;i<sources.length;i++){if(sources[i].type=='application/vnd.apple.mpegurl'){sources.splice(i,1);i--;}}return sources;},getValidAspect:function(sources){var _this=this;for(var i=0;i<sources.length;i++){var source=sources[i];var aspect=source['data-aspect'];if(this.isValidAspect(aspect)){return aspect;}}var aspectParts=mw.getConfig('EmbedPlayer.DefaultSize').split('x');return Math.round((aspectParts[0]/aspectParts[1])*100)/100;},addLiveEntrySource:function(embedPlayer,entry){var _this=this;var srcUrl=this.getBaseFlavorUrl(entry.partnerId)+'/entryId/'+entry.id+'/format/applehttp/protocol/http/a.m3u8';this.kClient.getKS(function(ks){srcUrl=srcUrl+'?ks='+ks+'&referrer='+base64_encode(_this.getHostPageUrl());});mw.log('KWidgetSupport::addLiveEntrySource: Add Live Entry Source - '+srcUrl);embedPlayer.mediaElement.tryAddSource($('<source />').attr({'src':srcUrl,'type':'application/vnd.apple.mpegurl'})[0]);},isValidAspect:function(aspect){return!isNaN(aspect)&&isFinite(aspect);},generateGUID:function(){var S4=function(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);};return(S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());},getGUID:function(){if(!this.kSessionId){this.kSessionId=this.generateGUID();}return this.kSessionId;},getKalturaThumbnailUrl:function(thumb){if(!thumb.url){return mw.getConfig('EmbedPlayer.BlackPixel');}var thumbUrl=thumb.url;if(thumbUrl.indexOf("thumbnail/entry_id")!=-1){thumbUrl+='/width/'+thumb.width;thumbUrl+='/height/'+thumb.height;}return thumbUrl;},getFunctionByName:function(functionName,context){try{var args=Array.prototype.slice.call(arguments).splice(2);var namespaces=functionName.split(".");var func=namespaces.pop();for(var i=0;i<namespaces.length;i++){context=context[namespaces[i]];}return context[func];}catch(e){mw.log("kWidgetSupport::executeFunctionByName: Error could not find function: "+functionName+' error: '+e);return false;}}};if(!window.kWidgetSupport){window.kWidgetSupport=new mw.KWidgetSupport();}mw.getEntryIdSourcesFromApi=function(widgetId,partnerId,entryId,size,callback){kWidgetSupport.getEntryIdSourcesFromApi(widgetId,partnerId,entryId,size,callback);};})(window.mw,jQuery);;},{},{"ks-CLIP_NOT_FOUND":"Media not found","ks-CLIP_NOT_FOUND_TITLE":"Sorry, clip not found","ks-ENTRY_CONVERTING":"Media is currently being converted, please try again in a few minutes.","ks-ENTRY_CONVERTING_TITLE":"Entry is converting","ks-ENTRY_DELETED":"We're sorry, this content is no longer available.","ks-ENTRY_DELETED_TITLE":"Entry is deleted ","ks-ENTRY_IMPORTING":"Media is currently being converted, please try again in a few minutes.","ks-ENTRY_IMPORTING_TITLE":"Entry is converting","ks-ENTRY_MODERATE":"Media is awaiting moderation","ks-ENTRY_MODERATE_TITLE":"Entry is awaiting moderation","ks-ENTRY_PENDING":"Free preview completed, need to purchase ","ks-ENTRY_PENDING_TITLE":"Free preview completed, need to purchase ","ks-ENTRY_PRECONVERT":"Media is currently being converted, please try again in a few minutes.","ks-ENTRY_PRECONVERT_TITLE":"Entry is converting","ks-ENTRY_REJECTED":"We're sorry, this content was removed","ks-ENTRY_REJECTED_TITLE":"Entry is rejected","ks-ERROR_PROCESSING_MEDIA":"There was an error processing this media.","ks-ERROR_PROCESSING_MEDIA_TITLE":"Error processing media ","ks-FREE_PREVIEW_END":"Access to the rest of the content is restricted.","ks-FREE_PREVIEW_END_TITLE":"Free preview completed, need to purchase ","ks-GENERIC_ERROR":"An internal error has occurred","ks-GENERIC_ERROR_TITLE":"Error","ks-NO_KS":"We're sorry, access to this content is restricted. ","ks-NO_KS_TITLE":"No KS where KS is required ","ks-NO_MIX_PLUGIN":"In order to view mix entry, you must add the mix plugin to the uiconf xml","ks-NO_MIX_PLUGIN_TITLE":"No Mix Plugin","ks-OUT_OF_SCHEDULING":"We're sorry, this content is currently unavailable.","ks-OUT_OF_SCHEDULING_TITLE":"Out of scheduling  ","ks-SERVICE_ERROR":"Service error","ks-SERVICE_GET_ENTRY_ERROR":"Error in Get Entry","ks-SERVICE_GET_EXTRA_ERROR":"Error in get base entry extra data","ks-SERVICE_GET_EXTRA_ERROR_TITLE":"Error Get Extra Data","ks-SERVICE_GET_FLAVORS_ERROR":"Error in Get Flavors","ks-SERVICE_GET_UICONF_ERROR":"Error in Get Uiconf","ks-SERVICE_GET_WIDGET_ERROR":"Error in Get Widget","ks-SERVICE_START_WIDGET_ERROR":"Error in Start Widget Session","ks-UNAUTHORIZED_COUNTRY":"We're sorry, this content is only available in certain countries.","ks-UNAUTHORIZED_COUNTRY_TITLE":"Unauthorized country","ks-UNAUTHORIZED_DOMAIN":"We're sorry, this content is only available on certain domains.","ks-UNAUTHORIZED_DOMAIN_TITLE":"Unauthorized domain","ks-UNAUTHORIZED_IP_ADDRESS":"We're sorry, this content is only available for ceratin IP addresses.","ks-UNAUTHORIZED_IP_ADDRESS_TITLE":"Unauthorized IP address","ks-UNKNOWN_STATUS":"Unknown status","ks-UNKNOWN_STATUS_TITLE":"Unknown status","ks-USER_AGENT_RESTRICTED":"User Agent Restricted\nWe're sorry, this content is not available for your device.","ks-LIVE-STREAM-NOT-SUPPORTED":"Your browser does not support Live stream playback."});mw.loader.implement("mw.KalturaIframePlayerSetup",function($){(function(mw,$,playerData){"use strict";try{if(window['parent']&&window['parent']['kWidget']){mw.config.set('EmbedPlayer.IsFriendlyIframe',true);}else{mw.config.set('EmbedPlayer.IsFriendlyIframe',false);}}catch(e){mw.config.set('EmbedPlayer.IsFriendlyIframe',false);}if(mw.config.get('EmbedPlayer.IsFriendlyIframe')){try{if(window['parent']&&window['parent']['preMwEmbedConfig']){mw.config.set(window['parent']['preMwEmbedConfig']);mw.config.set('EmbedPlayer.IframeParentUrl',document.URL.replace(/#.*/,''));}}catch(e){}}else{try{var hashObj=JSON.parse(unescape(hashString.replace(/^#/,'')));if(hashObj&&hashObj.mwConfig){mw.config.set(hashObj.mwConfig);}}catch(e){kWidget.log("KalturaIframePlayerSetup, could not get configuration ");}}mw.config.set('KalturaSupport.PlayerConfig',playerData['playerConfig']);mw.config.set('Kaltura.IframeRewrite',false);mw.config.set('Mw.LogPrepend','iframe:');mw.config.set('Kaltura.LoadScriptForVideoTags',false);mw.config.set('EmbedPlayer.WaitForMeta',false);mw.config.set('EmbedPlayer.IframeParentPlayerId',playerData['playerId']);mw.config.set(playerData['enviornmentConfig']);if(mw.config.get('EmbedPlayer.IsFullscreenIframe')){mw.config.set('EmbedPlayer.EnableFullscreen',false);}else{if(mw.config.get('EmbedPlayer.IframeParentUrl')===null){mw.config.set("EmbedPlayer.NewWindowFullscreen",true);}}var removeElement=function(elemId){if(document.getElementById(elemId)){try{var el=document.getElementById(elemId);el.parentNode.removeChild(el);}catch(e){}}};if(kWidget.isUiConfIdHTML5(playerData.playerConfig.uiConfId)||!(kWidget.supportsFlash()||mw.config.get('Kaltura.ForceFlashOnDesktop'))){removeElement('kaltura_player_iframe_no_rewrite');$('#'+playerData.playerId).embedPlayer(function(){$('#kaltura_player_iframe_no_rewrite').remove();var embedPlayer=$('#'+playerData.playerId)[0];if(mw.config.get('EmbedPlayer.IframeCurrentTime')){embedPlayer.currentTime=mw.config.get('EmbedPlayer.IframeCurrentTime');}if(mw.config.get('EmbedPlayer.IframeIsPlaying')){embedPlayer.play();}});}else{mw.log("Error: KalturaIframePlayer:: rendering flash player after loading html5 lib");}})(window.mw,window.jQuery,window.kalturaIframePackageData);;},{},{});mw.loader.implement("mw.MediaElement",function($){(function(mw,$){"use strict";mw.MediaElement=function(element){this.init(element);};mw.MediaElement.prototype={sources:null,addedROEData:false,selectedSource:null,init:function(videoElement){var _this=this;mw.log("EmbedPlayer::mediaElement:init:"+videoElement.id);this.parentEmbedId=videoElement.id;this.sources=new Array();if(videoElement){if($(videoElement).attr("src")){_this.tryAddSource(videoElement);}$(videoElement).find('source,track').each(function(){_this.tryAddSource(this);});}},updateSourceTimes:function(startNpt,endNpt){var _this=this;$.each(this.sources,function(inx,mediaSource){mediaSource.updateSrcTime(startNpt,endNpt);});},getTextTracks:function(){var textTracks=[];$.each(this.sources,function(inx,source){if(source.nodeName=='track'||(source.mimeType&&source.mimeType.indexOf('text/')!==-1)){textTracks.push(source);}});return textTracks;},getSources:function(mimeFilter){if(!mimeFilter){return this.sources;}var source_set=new Array();for(var i=0;i<this.sources.length;i++){if(this.sources[i].mimeType&&this.sources[i].mimeType.indexOf(mimeFilter)!=-1){source_set.push(this.sources[i]);}}return source_set;},getSourceById:function(sourceId){for(var i=0;i<this.sources.length;i++){if(this.sources[i].id==sourceId){return this.sources[i];}}return null;},setSourceByIndex:function(index){mw.log('EmbedPlayer::mediaElement:selectSource: '+index);var oldSrc=this.selectedSource.getSrc();var playableSources=this.getPlayableSources();for(var i=0;i<playableSources.length;i++){if(i==index){this.selectedSource=playableSources[i];break;}}if(oldSrc!=this.selectedSource.getSrc()){$('#'+this.parentEmbedId).trigger('SourceChange');}},setSource:function(source){var oldSrc=this.selectedSource.getSrc();this.selectedSource=source;if(oldSrc!=this.selectedSource.getSrc()){$('#'+this.parentEmbedId).trigger('SourceChange');}},autoSelectSource:function(){mw.log('EmbedPlayer::mediaElement::autoSelectSource');var _this=this;var playableSources=this.getPlayableSources();var flash_flag=false,ogg_flag=false;if(playableSources.length==0){return false;}var setSelectedSource=function(source){_this.selectedSource=source;return _this.selectedSource;};$(this).trigger('onSelectSource',playableSources);if(_this.selectedSource){mw.log('MediaElement::autoSelectSource: Set via trigger::'+_this.selectedSource.getTitle());return _this.selectedSource;}$.each(playableSources,function(inx,source){if(source.markedDefault){mw.log('MediaElement::autoSelectSource: Set via marked default: '+source.markedDefault);return setSelectedSource(source);;}});var vndSources=this.getPlayableSources('application/vnd.apple.mpegurl')
if(vndSources.length&&mw.EmbedTypes.getMediaPlayers().getMIMETypePlayers('application/vnd.apple.mpegurl').length){var desktopVdn,mobileVdn;$.each(vndSources,function(inx,source){if(source.getFlavorId()&&source.getFlavorId().toLowerCase()=='iphonenew'){mobileVdn=source;}else{desktopVdn=source;}})
if(mw.isIphone()&&mobileVdn){setSelectedSource(mobileVdn);}else if(desktopVdn){setSelectedSource(desktopVdn);}}if(this.selectedSource){mw.log('MediaElement::autoSelectSource: Set via Adaptive HLS: source flavor id:'+_this.selectedSource.getFlavorId()+' src: '+_this.selectedSource.getSrc());return this.selectedSource;}if($.cookie('EmbedPlayer.UserBandwidth')){var bandwidthDelta=999999999;var bandwidthTarget=$.cookie('EmbedPlayer.UserBandwidth');$.each(playableSources,function(inx,source){if(source.bandwidth){var player=mw.EmbedTypes.getMediaPlayers().defaultPlayer(source.mimeType);if(!player||player.library!='Native'){return true;}if(Math.abs(source.bandwidth-bandwidthTarget)<bandwidthDelta){bandwidthDelta=Math.abs(source.bandwidth-bandwidthTarget);setSelectedSource(source);}}});}if(this.selectedSource){mw.log('MediaElement::autoSelectSource: Set via bandwidth prefrence: source '+this.selectedSource.bandwidth+' user: '+$.cookie('EmbedPlayer.UserBandwidth'));return this.selectedSource;}var nativePlayableSources=[];$.each(playableSources,function(inx,source){var mimeType=source.mimeType;var player=mw.EmbedTypes.getMediaPlayers().defaultPlayer(mimeType);if(player&&player.library=='Native'){nativePlayableSources.push(source);}});var namedSourceSet={};$.each(playableSources,function(inx,source){var mimeType=source.mimeType;var player=mw.EmbedTypes.getMediaPlayers().defaultPlayer(mimeType);if(player&&player.library=='Native'){switch(player.id){case'mp3Native':var shortName='mp3';break;case'oggNative':var shortName='ogg';break;case'webmNative':var shortName='webm';break;case'h264Native':var shortName='h264';break;case'appleVdn':var shortName='appleVdn';break;}if(!namedSourceSet[shortName]){namedSourceSet[shortName]=[];}namedSourceSet[shortName].push(source);}});if(mw.isMobileDevice()&&namedSourceSet['h264']&&namedSourceSet['h264'].length){var minSize=99999999;$.each(namedSourceSet['h264'],function(inx,source){if(source.width<minSize&&source.width!=0){minSize=source.width;setSelectedSource(source);}})}if(this.selectedSource){mw.log('MediaElement::autoSelectSource: mobileDevice; most compatible h.264 because of resolution:'+this.selectedSource.width);return this.selectedSource;}var codecPref=mw.getConfig('EmbedPlayer.CodecPreference');if(codecPref){for(var i=0;i<codecPref.length;i++){var codec=codecPref[i];if(!namedSourceSet[codec]){continue;}if(namedSourceSet[codec].length==1){mw.log('MediaElement::autoSelectSource: Set 1 source via EmbedPlayer.CodecPreference: '+namedSourceSet[codec][0].getTitle());return setSelectedSource(namedSourceSet[codec][0]);}else if(namedSourceSet[codec].length>1){var minSizeDelta=null;if(this.parentEmbedId){var displayWidth=$('#'+this.parentEmbedId).width();$.each(namedSourceSet[codec],function(inx,source){if(parseInt(source.width)&&displayWidth){var sizeDelta=Math.abs(source.width-displayWidth);if(minSizeDelta==null||sizeDelta<minSizeDelta){minSizeDelta=sizeDelta;setSelectedSource(source);}}});}if(this.selectedSource){mw.log('MediaElement::autoSelectSource: from  '+this.selectedSource.mimeType+' because of resolution:'+this.selectedSource.width+' close to: '+displayWidth);return this.selectedSource;}if(namedSourceSet[codec][0]){mw.log('MediaElement::autoSelectSource: first codec prefrence source');return setSelectedSource(namedSourceSet[codec][0]);}}};}$.each(playableSources,function(inx,source){var mimeType=source.mimeType;var player=mw.EmbedTypes.getMediaPlayers().defaultPlayer(mimeType);if(mimeType=='video/h264'&&player&&(player.library=='Native'||player.library=='Kplayer')){if(source){mw.log('MediaElement::autoSelectSource: Set h264 via native or flash fallback:'+source.getTitle());return setSelectedSource(source);}}});if(!this.selectedSource&&playableSources[0]){mw.log('MediaElement::autoSelectSource: Set via first source: '+playableSources[0].getTitle()+' mime: '+playableSources[0].getMIMEType());return setSelectedSource(playableSources[0]);}mw.log('MediaElement::autoSelectSource: no match found');return false;},isOgg:function(mimeType){if(mimeType=='video/ogg'||mimeType=='ogg/video'||mimeType=='video/annodex'||mimeType=='application/ogg'){return true;}return false;},getPosterSrc:function(){return this.poster;},hasStreamOfMIMEType:function(mimeType){for(var i=0;i<this.sources.length;i++){if(this.sources[i].getMIMEType()==mimeType){return true;}}return false;},isPlayableType:function(mimeType){if(mw.EmbedTypes.getMediaPlayers().defaultPlayer(mimeType)){return true;}else{return false;}},tryAddSource:function(element){var newSrc=$(element).attr('src');if(newSrc){for(var i=0;i<this.sources.length;i++){if(this.sources[i].src==newSrc){this.sources[i].updateSource(element);return this.sources[i];}}}var source=new mw.MediaSource(element);this.sources.push(source);return source;},getPlayableSources:function(mimeFilter){var playableSources=[];for(var i=0;i<this.sources.length;i++){if(this.isPlayableType(this.sources[i].mimeType)&&(!mimeFilter||this.sources[i].mimeType.indexOf(mimeFilter)!=-1)){playableSources.push(this.sources[i]);}};mw.log("MediaElement::GetPlayableSources mimeFilter:"+mimeFilter+" "+playableSources.length+' sources playable out of '+this.sources.length);return playableSources;}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.MediaPlayer",function($){(function(mw,$){"use strict";mw.MediaPlayer=function(id,supportedTypes,library){this.id=id;this.supportedTypes=supportedTypes;this.library=library;this.loaded=false;this.loading_callbacks=new Array();return this;};mw.MediaPlayer.prototype={id:null,supportedTypes:null,library:null,loaded:false,supportsMIMEType:function(type){for(var i=0;i<this.supportedTypes.length;i++){if(this.supportedTypes[i]==type)return true;}return false;},getName:function(){return gM('mwe-embedplayer-ogg-player-'+this.id);},load:function(callback){mw.load(['mw.EmbedPlayer'+this.library.substr(0,1).toUpperCase()+this.library.substr(1)],function(){if(callback){callback();}});}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.MediaPlayers",function($){(function(mw,$){"use strict";mw.MediaPlayers=function(){this.init();};mw.MediaPlayers.prototype={players:null,preference:{},defaultPlayers:{},init:function(){this.players=new Array();this.loadPreferences();this.defaultPlayers['video/x-flv']=['Kplayer','Vlc'];this.defaultPlayers['video/h264']=['Native','Kplayer','Vlc'];this.defaultPlayers['video/mp4']=['Native','Kplayer','Vlc'];this.defaultPlayers['application/vnd.apple.mpegurl']=['Native'];this.defaultPlayers['video/ogg']=['Native','Vlc','Java','Generic'];this.defaultPlayers['video/webm']=['Native','Vlc'];this.defaultPlayers['application/ogg']=['Native','Vlc','Java','Generic'];this.defaultPlayers['audio/ogg']=['Native','Vlc','Java'];this.defaultPlayers['audio/mpeg']=['Native','Kplayer'];this.defaultPlayers['audio/mp3']=['Native','Kplayer'];this.defaultPlayers['video/mpeg']=['Vlc'];this.defaultPlayers['video/x-msvideo']=['Vlc'];this.defaultPlayers['image/jpeg']=['ImageOverlay'];this.defaultPlayers['image/png']=['ImageOverlay'];},addPlayer:function(player){for(var i=0;i<this.players.length;i++){if(this.players[i].id==player.id){return;}}this.players.push(player);},isSupportedPlayer:function(playerId){for(var i=0;i<this.players.length;i++){if(this.players[i].id==playerId){return true;}}return false;},getMIMETypePlayers:function(mimeType){var mimePlayers=new Array();var _this=this;if(this.defaultPlayers[mimeType]){$.each(this.defaultPlayers[mimeType],function(d,lib){var library=_this.defaultPlayers[mimeType][d];for(var i=0;i<_this.players.length;i++){if(_this.players[i].library==library&&_this.players[i].supportsMIMEType(mimeType)){mimePlayers.push(_this.players[i]);}}});}return mimePlayers;},defaultPlayer:function(mimeType){var mimePlayers=this.getMIMETypePlayers(mimeType);if(mimePlayers.length>0){for(var i=0;i<mimePlayers.length;i++){if(mimePlayers[i].id==this.preference[mimeType])return mimePlayers[i];}return mimePlayers[0];}return null;},setFormatPreference:function(mimeFormat){this.preference['formatPreference']=mimeFormat;$.cookie('EmbedPlayer.Preference',JSON.stringify(this.preference));},loadPreferences:function(){this.preference={};if($.cookie('EmbedPlayer.Preference')){this.preference=JSON.parse($.cookie('EmbedPlayer.Preference'));}},setPlayerPreference:function(playerId,mimeType){var selectedPlayer=null;for(var i=0;i<this.players.length;i++){if(this.players[i].id==playerId){selectedPlayer=this.players[i];mw.log('EmbedPlayer::setPlayerPreference: choosing '+playerId+' for '+mimeType);this.preference[mimeType]=playerId;$.cookie('EmbedPlayer.Preference',JSON.stringify(this.preference));break;}}if(selectedPlayer){$('.mwEmbedPlayer').each(function(inx,playerTarget){var embedPlayer=$(playerTarget).get(0);if(embedPlayer.mediaElement.selectedSource&&(embedPlayer.mediaElement.selectedSource.mimeType==mimeType)){embedPlayer.selectPlayer(selectedPlayer);}});}}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.MediaSource",function($){(function(mw,$){"use strict";mw.mergeConfig('EmbedPlayer.SourceAttributes',['id','src','title','URLTimeEncoding','nodeName','data-startoffset','data-durationhint','data-shorttitle','data-width','data-height','data-bandwidth','data-sizebytes','data-framerate','data-flavorid','data-aspect','data-mwtitle','data-mwprovider','start','end','default']);mw.MediaSource=function(element){this.init(element);};mw.MediaSource.prototype={mimeType:null,uri:null,title:null,markedDefault:false,URLTimeEncoding:false,startOffset:0,duration:0,id:null,startNpt:null,endNpt:null,srclang:null,init:function(element){var _this=this;this.src=$(element).attr('src');var pUrl=new mw.Uri(this.src);if(typeof pUrl.query['t']!='undefined'){this.URLTimeEncoding=true;}var sourceAttr=mw.getConfig('EmbedPlayer.SourceAttributes');$.each(sourceAttr,function(inx,attr){if($(element).attr(attr)){var attrName=(attr.indexOf('data-')===0)?attr.substr(5):attr
_this[attrName]=$(element).attr(attr);if(attrName=='default'){_this[attrName]=$(element).attr(attr)=="true"?true:false;}}});if(this.label){this.title=this.label;}if($(element).attr('type')){this.mimeType=$(element).attr('type');}else if($(element).attr('content-type')){this.mimeType=$(element).attr('content-type');}else if($(element)[0].tagName.toLowerCase()=='audio'){this.mimeType='audio/ogg';}else{this.mimeType=this.detectType(this.src);}if(this.mimeType=='video/theora'){this.mimeType='video/ogg';}if(this.mimeType=='audio/vorbis'){this.mimeType='audio/ogg';}if(this.mimeType){this.mimeType=this.mimeType.split(';')[0];}if($(element).parent().attr('category')){this.category=$(element).parent().attr('category');}if($(element).attr('default')){this.markedDefault=true;}this.getURLDuration();},updateSource:function(element){if($(element).attr("title")){this.title=$(element).attr("title");}},updateSrcTime:function(startNpt,endNpt){if(this.URLTimeEncoding){if(!mw.npt2seconds(startNpt)){startNpt=this.startNpt;}if(!mw.npt2seconds(endNpt)){endNpt=this.endNpt;}this.src=mw.replaceUrlParams(this.src,{'t':startNpt+'/'+endNpt});this.getURLDuration();}},setDuration:function(duration){this.duration=duration;if(!this.endNpt){this.endNpt=mw.seconds2npt(this.startOffset+duration);}},getMIMEType:function(){if(this.mimeType){return this.mimeType;}this.mimeType=this.detectType(this.src);return this.mimeType;},setSrc:function(src){this.src=src;},getSrc:function(serverSeekTime){if(!serverSeekTime||!this.URLTimeEncoding){return this.src;}var endvar='';if(this.endNpt){endvar='/'+this.endNpt;}return mw.replaceUrlParams(this.src,{'t':mw.seconds2npt(serverSeekTime)+endvar});},getTitle:function(){if(this.title){return this.title;}if(this.label){return this.label;}switch(this.getMIMEType()){case'video/h264':return gM('mwe-embedplayer-video-h264');break;case'video/x-flv':return gM('mwe-embedplayer-video-flv');break;case'video/webm':return gM('mwe-embedplayer-video-webm');break;case'video/ogg':return gM('mwe-embedplayer-video-ogg');break;case'audio/ogg':return gM('mwe-embedplayer-video-audio');break;case'audio/mpeg':return gM('mwe-embedplayer-audio-mpeg');break;case'video/3gp':return gM('mwe-embedplayer-video-3gp');break;case'video/mpeg':return gM('mwe-embedplayer-video-mpeg');break;case'video/x-msvideo':return gM('mwe-embedplayer-video-msvideo');break;}try{var fileName=new mw.Uri(mw.absoluteUrl(this.getSrc())).path.split('/').pop();if(fileName){return fileName;}}catch(e){}return this.mimeType;},getShortTitle:function(){var _this=this;if(this.shorttitle){return this.shorttitle;}var genTitle='';if(this.height){if(this.heigth<255){genTitle+='240P ';}else if(this.height<370){genTitle+='360P ';}else if(this.height<500){genTitle+='480P ';}else if(this.height<800){genTitle+='720P ';}else{genTitle+='1080P ';}}genTitle+=this.getTitle().replace('video','').replace('a.','');if(genTitle.length>20){genTitle=genTitle.substring(0,17)+"...";}if(this.getBitrate()){var bits=(Math.round(this.getBitrate()/1024*10)/10)+'';if(bits[0]=='0'){bits=bits.substring(1);}genTitle+=' '+bits+'Mbs ';}return genTitle},getURLDuration:function(){if(this.URLTimeEncoding){var annoURL=new mw.Uri(this.src);if(annoURL.query.t){var times=annoURL.query.t.split('/');this.startNpt=times[0];this.endNpt=times[1];this.startOffset=mw.npt2seconds(this.startNpt);this.duration=mw.npt2seconds(this.endNpt)-this.startOffset;}else{if(this.startOffset){this.startNpt=mw.seconds2npt(this.startOffset);}if(this.duration){this.endNpt=mw.seconds2npt(parseInt(this.duration)+parseInt(this.startOffset));}}}},getExt:function(uri){var urlParts=new mw.Uri(uri);var ext=(urlParts.file)?/[^.]+$/.exec(urlParts.file):/[^.]+$/.exec(uri);if(!ext){return'';}ext=/[^#]*/g.exec(ext.toString());return ext.toString().toLowerCase();},getFlavorId:function(){if(this.flavorid){return this.flavorid;}return;},detectType:function(uri){switch(this.getExt(uri)){case'smil':case'sml':return'application/smil';break;case'm4v':case'mp4':return'video/h264';break;case'm3u8':return'application/vnd.apple.mpegurl';break;case'webm':return'video/webm';break;case'3gp':return'video/3gp';break;case'srt':return'text/x-srt';break;case'flv':return'video/x-flv';break;case'ogg':case'ogv':return'video/ogg';break;case'oga':return'audio/ogg';break;case'mp3':return'audio/mpeg';break;case'anx':return'video/ogg';break;case'xml':return'text/xml';break;case'avi':return'video/x-msvideo';break;case'mpg':return'video/mpeg';break;case'mpeg':return'video/mpeg';break;}mw.log("Error: could not detect type of media src: "+uri);},getBitrate:function(){if(this.bandwidth){return this.bandwidth/1024;}return 0;},getSize:function(){if(this.sizebytes){return this.sizebytes;}return 0;}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.PlayerSkinMvpcf",function($){mw.PlayerSkinMvpcf={playerClass:'mv-player'};;},{"all":".mv-player a:link{color:#ccc;text-decoration:none}.mv-player a:visited{color:#ccc;text-decoration:none}  .mv-player a:hover{color:#fff;text-decoration:underline}.mv-player img,.mv-player img a,.mv-player img a:hover{border:0}.mv-player .video{display:block;position:relative;font-size:1px;height:305px}.mv-player .control-bar{height:29px;margin:0;padding:0;border:0;z-index:2;position:absolute;bottom:0px;left:0px;right:0px}.mv-player .controlInnerSmall{ height:29px;float:left;display:inline}.mv-player .lButton{cursor:pointer;float:left;list-style:none outside none;margin:2px;padding:4px 0;width:24px;height:16px;position:relative}.mv-player .rButton{cursor:pointer;float:right;list-style:none outside none;margin:2px;padding:4px 0;width:23px;height:16px;position:relative}.mv-player .volume_icon{float:right;display:inline;width:22px;height:29px;padding:0 0 0 0}.mv-player .vol_container{z-index:99;width:23px;height:75px;width:23px;position:absolute;left:0px;background:#CCC}.mv-player .vol_container_below{top:30px}.mv-player .vol_container_top{top:-77px}.mv-player .vol_container .volume-slider{margin-top:5px;height:65px;width:10px;margin-left:auto ;margin-right:auto }.mv-player .vol_container .ui-slider-handle{cursor :pointer;width:10px;height:10px;position:absolute;left:-1px}.mv-player .time-disp{line-height:32px;height:29px;overflow:visible;font-size:10.2px;float:right;display:inline;border:none;padding-right:4px}.mv-player .source-switch{border:medium none;display:inline;color:#eee;font:11px arial,sans-serif;line-height:20px;overflow:hidden;width:70px;cursor:pointer;float:right;text-align:center;padding-top:4px;line-height:24px}.mv-player .play_head{float:left;display:inline;height:10px;margin-left:8px;margin-top:10px;margin-right:8px;position:relative}.mv-player .play_head_dvr{height :10px;margin-top :10px}.mv-player .play_head .ui-slider-handle{width:10px;height:15px;margin-left:-5px;margin-top:-0px;z-index:2}.mv-player .inOutSlider .ui-slider-handle{width:8px;cusror:move}.mv-player .overlay-win textarea{background:none repeat scroll 0 0 transparent;border:2px solid #333;color:#fff;font:11px arial,sans-serif;height:15px;overflow:hidden;padding-left:2px;width:97%}.mv-player .overlay-win div.ui-state-highlight{background:none repeat scroll 0 0 transparent;border-color:#554926;color:#FFE96E;float:left;padding:2px 5px}.mv-player .videoOptionsComplete div.ui-state-highlight a{color:#eee;font-weight:bold}.mv-player .overlay-win h2{font-size:115%}.mv-player .overlay-win{font-family :arial,sans-serif;font-size :85%}.mv-player .overlay-win a{text-decoration:none}.mv-player .overlay-win ul{padding-left:15px}.mv-player a:hover{}.mv-player .overlay-win ul li span{font-weight:bold;color:#fff}.mv-player .overlay-win h2{font-size:16px}.mv-player .overlay-win h3{font-size:14px}.active{font-size:12px}.ui-slider-horizontal.volume-slider{width:44px;height:2px;top:7px}.ui-slider-horizontal.volume-slider .ui-slider-handle{border-width:1px}\n\n/* cache key: resourceloader:filter:minify-css:7:4f2727ad0415b8c0495ab52f912c185e */\n"},{});mw.loader.implement("mw.Playlist",function($){(function(mw,$){"use strict";mw.Playlist=function(options){return this.init(options);};mw.Playlist.prototype={clipIndex:0,targetPlayerSize:null,sourceHandler:null,theme:null,playerId:null,onTouchScroll:false,enableClipSwitch:true,bindPostfix:'.playlist',init:function(options){var _this=this;if(options.src)this.src=options.src;if(options.srcPayLoad){this.srcPayLoad=unescape(options.srcPayLoad).replace(/\+/g,' ');}if(options.embedPlayer){this.embedPlayer=options.embedPlayer;this.embedPlayer.playlist=this;}if(options.target){this.$target=$(options.target);}this.playerId=(this.embedPlayer)?this.embedPlayer.id:(options['id'])?options['id']:this.$target.attr('id');if(!this.$target.attr('id')){this.$target.attr('id',this.playerId+'_pl');}this.id=this.$target.attr('id');$(mw).bind('EmbedPlayerWaitForMetaCheck',function(even,playerElement){if($(playerElement).hasClass('mwPlaylist')){playerElement.waitForMeta=false;}});this.type=(options.type)?options.type:mw.getConfig('Playlist.DefaultType');var namedOptions=['layout','playerAspect','itemThumbWidth','titleHeight','titleLength','descriptionLength'];$.each(namedOptions,function(inx,optionName){var confName='Playlist.'+optionName.charAt(0).toUpperCase()+optionName.substr(1);_this[optionName]=(typeof options[optionName]!='undefined')?options[optionName]:mw.getConfig(confName);});},getTitleHeight:function(){if(this.sourceHandler&&typeof this.sourceHandler.titleHeight!='undefined')return this.sourceHandler.titleHeight;return this.titleHeight;},formatTitle:function(text){if(text.length>this.titleLength)return text;},formatDescription:function(text){if(text.length>this.descriptionLength)return text.substr(0,this.descriptionLength-3)+' ...';return text;},drawPlaylist:function(drawDoneCallback){var _this=this;if(!this.embedPlayer){this.$target.loadingSpinner();}var callback=function(){if(_this.sourceHandler.autoPlay||_this.autoPlay){if(_this.embedPlayer.canAutoPlay()){_this.playClip(_this.clipIndex,(_this.sourceHandler.autoPlay||_this.autoPlay));}}drawDoneCallback();};this.loadPlaylistHandler(function(sourceHandler){if(!_this.embedPlayer){_this.$target.empty();}mw.log("Playlist::drawPlaylist: sourceHandler:"+sourceHandler);if(_this.sourceHandler.getClipList().length==0){_this.$target.text(gM('mwe-playlist-empty'));callback();return;}if(_this.sourceHandler.hasPlaylistUi()){_this.drawUI(callback);}else{_this.drawEmbedPlayer(_this.clipIndex,callback);}});},getClipList:function(){return this.sourceHandler.getClipList();},getVideoListWrapper:function(){var listWrapId='video-list-wrapper-'+this.id;var $listWrap=this.$target.find('#'+listWrapId)
if(!$listWrap.length){$listWrap=$('<div />').attr('id',listWrapId).addClass('video-list-wrapper').appendTo(this.$target)}return $listWrap;},getVideoList:function(){return this.getVideoListWrapper().find('.media-rss-video-list');},getListHeight:function(){var height=this.getVideoListWrapper().height()-10;var $tabs=this.getVideoListWrapper().find('.playlist-set-container');if($tabs.length){height=height-$tabs.outerHeight();}return height;},setVideoWrapperHeight:function(height){this.videoListWrapperHeight=height;this.getVideoListWrapper().height(height);this.getVideoList().height(this.getListHeight());},getVideoListWrapperHeight:function(){if(this.videoListWrapperHeight){return this.videoListWrapperHeight;}return this.getVideoListWrapper().height();},drawUI:function(callback){var _this=this;var embedPlayer=_this.getEmbedPlayer();this.$target.addClass('ui-widget-content');this.getVideoListWrapper().append($('<div />').addClass('media-rss-video-list').attr('id','media-rss-video-list-'+_this.id))
if($.isFunction(_this.sourceHandler.setupPlaylistMode)){_this.sourceHandler.setupPlaylistMode(_this.layout);}if(_this.sourceHandler.hasMultiplePlaylists()){var playlistSet=_this.sourceHandler.getPlaylistSet();var $plListContainer=$('<div />').addClass('playlist-set-container').css({'height':'20px','padding':'4px'}).append($('<span />').addClass('playlist-set-list').css({'white-space':'pre'}));this.getVideoListWrapper().prepend($plListContainer);var $plListSet=this.$target.find('.playlist-set-list');$.each(playlistSet,function(inx,playlist){if(!playlist.name){return true;}if(inx!=0){$plListSet.append($('<span />').text(' | '));}var $plLink=$('<a />').attr('href','#').text(playlist.name).click(function(){_this.switchTab(inx);return false;}).buttonHover();if(inx==0){$plLink.addClass('ui-state-active');}$plListSet.append($plLink);});if($plListSet.width()>$plListContainer.width()){var baseButtonWidth=24;$plListSet.css({'position':'absolute','left':baseButtonWidth+'px'});var $scrollButton=$('<div />').addClass('ui-corner-all ui-state-default').css({'position':'absolute','top':'-1px','cursor':'pointer','margin':'0px','padding':'2px','width':'16px','height':'16px'});var $buttonSpan=$('<span />').addClass('ui-icon').css('margin','2px');var plScrollPos=0;var scrollToListPos=function(pos){var listSetLeft=$plListSet.find('a').eq(pos).offset().left-$plListSet.offset().left;mw.log("scroll to: "+pos+' left: '+listSetLeft);$plListSet.animate({'left':-(listSetLeft-baseButtonWidth)+'px'});};$plListContainer.append($scrollButton.clone().css('left','0px').append($buttonSpan.clone().addClass('ui-icon-circle-arrow-w')).click(function(){if(plScrollPos>=0){mw.log("scroll right");plScrollPos--;scrollToListPos(plScrollPos);}}).buttonHover(),$scrollButton.clone().css('right','0px').append($buttonSpan.clone().addClass('ui-icon-circle-arrow-e')).click(function(){if(plScrollPos<$plListSet.find('a').length-1){plScrollPos++;scrollToListPos(plScrollPos);}}).buttonHover());}}_this.addMediaList();var $videoList=_this.getVideoList();_this.drawEmbedPlayer(_this.clipIndex,function(){_this.updatePlaylistLayout();_this.sourceHandler.adjustTextWidthAfterDisplay($videoList);if(mw.isMobileDevice()&&!$videoList[0].iScroll){}if(callback){callback();}});},updatePlaylistLayout:function(){var playerSize=this.getTargetPlayerSize();this.embedPlayer.updateInterfaceSize(playerSize);if(this.layout=='vertical'){var verticalSpace=this.embedPlayer.getInterface().height();this.getVideoListWrapper().css({'left':'0px','right':'4px'});}else{this.getVideoListWrapper().css({'top':'0px','left':parseInt(playerSize.width)+4,'right':'2px','height':playerSize.height});this.getVideoList().css('height',this.getListHeight());if(this.getVideoList()[0]&&this.getVideoList()[0].iScroll){this.getVideoList()[0].iScroll.refresh();}}this.getVideoListWrapper().show();},switchTab:function(inx){var _this=this;var $tabSet=this.$target.find('.playlist-set-list');$tabSet.find('a').eq(inx).addClass('ui-state-active').siblings().removeClass('ui-state-active');_this.sourceHandler.setPlaylistIndex(inx);mw.log('mw.Playlist:: selectPlaylist:'+inx);_this.$target.find('.media-rss-video-list').empty().append($('<div />').css({'position':'absolute','top':'45%','left':'45%'}).loadingSpinner())
_this.sourceHandler.loadCurrentPlaylist(function(){_this.$target.find('.media-rss-video-list').empty();_this.addMediaList();_this.embedPlayer.triggerHelper('indexChanged',{'newIndex':inx});});},getTargetPlayerSize:function(){var _this=this;this.targetWidth=this.$target.width();this.targetHeight=this.$target.height();if(!_this.sourceHandler.hasPlaylistUi()){return{'width':this.targetWidth,'height':this.targetHeight};}if(_this.layout=='vertical'){if(this.embedPlayer.controlBuilder.height==this.embedPlayer.getInterface().height()){this.targetHeight=this.embedPlayer.controlBuilder.height;}else{this.targetHeight=this.targetHeight-this.getVideoListWrapperHeight();}this.targetPlayerSize={'width':this.targetWidth,'height':this.targetHeight};}else{var playerWidth=parseInt(this.$target.find('.media-rss-video-player-container').css('width'));if(isNaN(playerWidth)||!playerWidth){if(_this.sourceHandler.getVideoListWidth()!='auto'){playerWidth=this.targetWidth-_this.sourceHandler.getVideoListWidth();}else{var pa=this.playerAspect.split(':');playerWidth=parseInt((pa[0]/pa[1])*this.targetHeight);}}this.targetPlayerSize={'height':(this.targetHeight-this.getTitleHeight()),'width':playerWidth};}if(parseInt(this.targetPlayerSize.width)>this.targetWidth){var pa=this.playerAspect.split(':');this.targetPlayerSize.width=this.targetWidth;this.targetPlayerSize.height=parseInt((pa[1]/pa[0])*this.targetWidth);}return this.targetPlayerSize;},getEmbedPlayer:function(){return $('#'+this.getVideoPlayerId())[0];},getVideoPlayerTarget:function(){return this.$target.find('.media-rss-video-player');},playClip:function(clipIndex,autoContinue){var _this=this;mw.log("Playlist::playClip: index: "+clipIndex+' autoContinue: '+autoContinue);var embedPlayer=this.getEmbedPlayer();this.clipIndex=clipIndex;if(!embedPlayer){mw.log("Error: Playlist:: playClip called with null embedPlayer ");return;}embedPlayer.triggerHelper('Playlist_PlayClip',[clipIndex,!!autoContinue]);if(embedPlayer.getPlayerElement()){mw.log("Playlist:: issue load call to capture click for iOS");embedPlayer.getPlayerElement().load();}_this.updatePlayerUi(clipIndex);_this.disablePrevNext();_this.sourceHandler.playClip(embedPlayer,clipIndex,function(){mw.log("Playlist::playClip > sourceHandler playClip callback ");_this.enablePrevNext();_this.addClipBindings();embedPlayer.onDoneInterfaceFlag=true;});},drawEmbedPlayer:function(clipIndex,callback){var _this=this;mw.log("Playlist:: updatePlayer "+clipIndex);this.clipIndex=clipIndex;var embedPlayer=_this.getEmbedPlayer();if($(embedPlayer).data('clipIndex')==clipIndex){callback();return;}_this.sourceHandler.drawEmbedPlayer(clipIndex,function(){_this.updatePlayerUi(_this.clipIndex);_this.addClipBindings();callback();});},addClipBindings:function(){var _this=this;mw.log("Playlist::addClipBindings");var embedPlayer=_this.getEmbedPlayer();$(embedPlayer).unbind(this.bindPostfix);_this.sourceHandler.addEmbedPlayerBindings(embedPlayer);_this.addPlaylistSeekButtons();_this.addPlaylistAdBindings();if(_this.sourceHandler.autoContinue==true){$(embedPlayer).bind('postEnded'+_this.bindPostfix,function(event){mw.log("Playlist:: postEnded > on inx: "+_this.clipIndex);if(parseInt(_this.clipIndex)+1<_this.sourceHandler.getClipCount()&&parseInt(_this.clipIndex)+1<=parseInt(mw.getConfig('Playlist.MaxClips'))){mw.log("Playlist:: postEnded > continue playlist set: onDoneInterfaceFlag false ");embedPlayer.onDoneInterfaceFlag=false;_this.clipIndex=parseInt(_this.clipIndex)+1;_this.playClip(_this.clipIndex,true);}else{mw.log("Playlist:: End of playlist, run normal end action");embedPlayer.triggerHelper('playlistDone');if(_this.sourceHandler.loop){embedPlayer.onDoneInterfaceFlag=false;_this.clipIndex=0;_this.playClip(_this.clipIndex,true);}else{embedPlayer.onDoneInterfaceFlag=true;}}});}var uiSelector='.playlist-set-container,.playlist-block-list,.video-list-wrapper,.playlist-scroll-buttons';$(embedPlayer).bind('onOpenFullScreen'+this.bindPostfix,function(){$(uiSelector).hide();_this.$target.find('.playlist-block-list').hide();});$(embedPlayer).bind('onCloseFullScreen'+this.bindPostfix,function(){_this.$target.find('.playlist-block-list').show();if(!_this.sourceHandler.includeInLayout){return;}$(uiSelector).show();});$(embedPlayer).bind('updateLayout'+this.bindPostfix,function(){if(embedPlayer.controlBuilder.isInFullScreen()||!embedPlayer.displayPlayer||!_this.sourceHandler.includeInLayout){return;}_this.updatePlaylistLayout();});$(embedPlayer).bind('playlistPlayPrevious'+this.bindPostfix,function(){_this.playPrevious();});$(embedPlayer).bind('playlistPlayNext'+this.bindPostfix,function(){_this.playNext();});$(embedPlayer).bind('onDisableInterfaceComponents'+this.bindPostfix,function(event,excludingComponents){if(!excludingComponents||($.inArray('playlistPrevNext',excludingComponents)==-1)){_this.disablePrevNext();}});$(embedPlayer).bind('onEnableInterfaceComponents'+this.bindPostfix,function(){_this.enablePrevNext();});$(embedPlayer).trigger('playlistsListed');},disablePrevNext:function(){this.embedPlayer.$interface.find('.playlistPlayPrevious,.playlistPlayNext').unbind('mouseenter mouseleave click').css('cursor','default');},enablePrevNext:function(){var _this=this;this.embedPlayer.$interface.find('.playlistPlayPrevious,.playlistPlayNext').css('cursor','pointer').unbind('click').click(function(){if($(this).hasClass('playlistPlayPrevious')){$(_this.embedPlayer).trigger('playlistPlayPrevious');}else if($(this).hasClass('playlistPlayNext')){$(_this.embedPlayer).trigger('playlistPlayNext');}}).buttonHover();},updatePlayerUi:function(clipIndex){var _this=this;_this.sourceHandler.updatePlayerUi(clipIndex);_this.$target.find('.clipItemBlock').removeClass('ui-state-active').addClass('ui-state-default').eq(clipIndex).addClass('ui-state-active');},getVideoPlayerId:function(){return this.playerId;},addPlaylistSeekButtons:function(){var _this=this;var embedPlayer=this.getEmbedPlayer();if(!embedPlayer){return;}if(!embedPlayer.controlBuilder){return;}var $controlBar=embedPlayer.$interface.find('.control-bar');if($controlBar.find('.ui-icon-seek-next').length!=0){return false;}var $plButton=$('<div />').addClass("ui-state-default ui-corner-all ui-icon_link lButton").buttonHover().append($('<span />').addClass("ui-icon"));var $playButton=$controlBar.find('.play-btn');if(_this.sourceHandler.isNextButtonDisplayed()){var pleft=parseInt($controlBar.find('.play_head').css('left'))+28;$controlBar.find('.play_head').css('left',pleft);var $nextButton=$plButton.clone().attr({'title':'Next clip'}).unbind('click').click(function(){$(embedPlayer).trigger('playlistPlayNext');}).addClass('playlistPlayNext').find('span').addClass('ui-icon-seek-next').parent().buttonHover();$playButton.after($nextButton);}if(_this.sourceHandler.isPreviousButtonDisplayed()){var pleft=parseInt($controlBar.find('.play_head').css('left'))+28;$controlBar.find('.play_head').css('left',pleft);var $prevButton=$plButton.clone().attr({'title':'Previous clip'}).unbind('click').click(function(){$(embedPlayer).trigger('playlistPlayPrevious');}).addClass('playlistPlayPrevious').find('span').addClass('ui-icon-seek-prev').parent().buttonHover();$playButton.after($prevButton);}},addPlaylistAdBindings:function(){var _this=this;var embedPlayer=this.getEmbedPlayer();$(embedPlayer).bind('AdSupport_StartAdPlayback'+this.bindPostfix,function(){_this.blockPlaylist();});$(embedPlayer).bind('AdSupport_EndAdPlayback'+this.bindPostfix,function(){_this.restorePlaylist();});},blockPlaylist:function(){var _this=this;var embedPlayer=this.getEmbedPlayer();_this.enableClipSwitch=false;var $listwrap=this.$target.find('.video-list-wrapper');var cssPops=['width','height','position','bottom','right','left','top'];var cssObj={};$.each(cssPops,function(inx,prop){cssObj[prop]=$listwrap.css(prop);});if(!this.$target.find('.playlist-block-list').length){$listwrap.before($('<div />').css(cssObj).addClass('playlist-block-list').css({'z-index':2,'background-color':'#FFF','opacity':'0.7','filter':'alpha(opacity=70)'}).click(function(){return false;}));}if(embedPlayer.controlBuilder.isInFullScreen()){_this.$target.find('.playlist-block-list').hide();}},restorePlaylist:function(){this.enableClipSwitch=true;this.$target.find('.playlist-block-list').remove();},addMediaList:function(){var _this=this;var $targetItemList=this.$target.find('.media-rss-video-list');this.playlistItemWidth=$targetItemList.width();$.each(this.sourceHandler.getClipList(),function(inx,clip){mw.log('mw.Playlist::addMediaList: On clip: '+inx);if(inx>mw.getConfig('Playlist.MaxClips')){return false;}var $itemBlock=$('<div />').addClass('ui-widget-content ui-corner-all playlistItem ui-helper-clearfix');if(_this.clipIndex==inx){$itemBlock.addClass('ui-state-active');}else{$itemBlock.addClass('ui-state-default');}$itemBlock.append(_this.sourceHandler.getPlaylistItem(inx)).data('clipIndex',inx).buttonHover().addClass('clipItemBlock').css({'cursor':'pointer'}).bind('click',function(event){if(_this.embedPlayer.changeMediaStarted){return;}if(!_this.enableClipSwitch){return;}if(_this.onTouchScroll&&!mw.isIOS()){return;}_this.clipIndex=$(this).data('clipIndex');_this.playClip(_this.clipIndex);});$targetItemList.append($itemBlock);});},play:function(){mw.log('mw.Playlist::play ');var embedPlayer=$('#'+this.getVideoPlayerId())[0];embedPlayer.play();},playNext:function(){var _this=this;if(_this.enableClipSwitch&&parseInt(_this.clipIndex)+1<_this.sourceHandler.getClipCount()&&parseInt(_this.clipIndex)+1<=parseInt(mw.getConfig('Playlist.MaxClips'))){_this.clipIndex++;_this.playClip(_this.clipIndex);return;}mw.log("Error: mw.playlist can't next: current: "+_this.clipIndex);},playPrevious:function(){var _this=this;if(_this.enableClipSwitch&&_this.clipIndex-1>=0){_this.clipIndex--;_this.playClip(_this.clipIndex);return;}mw.log("Cant prev: cur:"+_this.clipIndex);},loadPlaylistHandler:function(callback){var _this=this;$(mw).trigger('PlaylistGetSourceHandler',[this]);if(!_this.sourceHandler){switch(this.type){case'application/rss+xml':_this.sourceHandler=new mw.PlaylistHandlerMediaRss(this);break;}};_this.sourceHandler.loadPlaylist(function(){callback(_this.sourceHandler);});},setSourceHandler:function(sourceHandler){this.sourceHandler=sourceHandler;}};})(window.mw,jQuery);;},{"all":".media-rss-video-list .ui-state-default{background-color:#222; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sGEBApKAahcBIAAAANSURBVAjXY2BgYGAAAAAFAAFe8yo6AAAAAElFTkSuQmCC)}.media-rss-video-list .ui-state-active{background-color:#444}.playlistItem img{float:left;padding:4px;vertical-align:middle}.playlistItem{font-size:12px;margin:5px;padding:2px}.playlistItem .clipText{width:100%;vertical-align:text-top}.playlistItem .clipTitle{float:left;display:block}.playlistItem .clipDuration{float:right;height:16px;display:block;padding-right:2px}.playlist-set-container{font-size:12px;margin:5px}.media-rss-video-list{margin:5px;margin-left:8px;overflow-x:hidden;overflow-y:auto}.video-list-wrapper{background-color:#111;z-index:1;position:absolute;height:100%;border:0;overflow:hidden}.playlist-set-list{padding-left:15px;font-size:14px}.playlist-set-list a{color:#999}.playlist-set-list a.active{color:#fff}.btnText{font-family:Arial;font-size:13px}.playlist-set-container a{text-decoration:none;border:0;font-size:13px;font-family:Arial}.playlist-set-container a:hover{border-width:0;background:transparent}.playlist-set-container .ui-state-active,.ui-widget-content .ui-state-active,.ui-widget-header .ui-state-active,.playlist-set-container .ui-widget-content .ui-state-hover,.playlist-set-container .ui-widget-header .ui-state-hover{border-width:0}.mv-player .play_head .ui-slider-handle{border-width:1px}.ui-state-default,.ui-widget-content .ui-state-default,.ui-widget-header .ui-state-default{border-width:0}.playlistItem{background:#252525;min-height:50px;border-radius:4px;padding:8px;margin-bottom:4px;cursor:pointer;border-width:0;font-family:Arial}.playlistItem img{float:left;margin-right:8px;width:72px;height:48px;padding:0}.playlistItem:hover{background:#3C3C3C}.playlistItem{background:#3C3C3C;font-size:11px}.irLinkIrScreen,.clipTitle{float:left;color:#bcbcbc;width:65%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:break-word}.irDurationIrScreen,.clipDuration{float:right;margin-right:10px;color:#bcbcbc;font-size:10px}.irDescriptionIrScreen,.clipDescription{color:#bcbcbc;word-wrap:break-word;display:inline-block} .horizontal .video-list-wrapper{float:right}.horizontal .video-list-wrapper{} .vertical .video-list-wrapper{height:auto}.vertical .video-list-wrapper{width:100%;position:absolute;bottom:0}\n\n/* cache key: resourceloader:filter:minify-css:7:e9714221a18f38054eb974958956f6a3 */\n"},{"mwe-playlist-empty":"Error: empty or not valid playlist"});mw.loader.implement("mw.PlaylistHandlerKaltura",function($){(function(mw,$){"use strict";mw.PlaylistHandlerKaltura=function(playlist,options){return this.init(playlist,options);};mw.setConfig('KalturaSupport.PlaylistDefaultItemRenderer','<hbox id="irCont" height="100%" width="100%" x="10" y="10" verticalalign="top" stylename="Button_upSkin_default"> <img id="irImageIrScreen" url="{this.thumbnailUrl}" source="{this.thumbnailUrl}" height="48" width="72"> <vbox height="100%" width="100%" id="labelsHolder" verticalgap="0"> <hbox id="nameAndDuration" width="100%" height="18"> <label id="irLinkIrScreen" height="18" width="100%" text="{this.name}" stylename="itemRendererLabel" label="{this.name}" prefix="" font="Arial"></label> <label id="irDurationIrScreen" height="18" width="70" text="{formatDate(this.duration, \'NN:SS\')}" stylename="itemRendererLabel" prefix="" font="Arial"></label> </hbox> <label id="irDescriptionIrScreen" width="240" height="18" text="{this.description}" stylename="itemRendererLabel" prefix="" font="Arial"></label> </vbox> </hbox>');mw.PlaylistHandlerKaltura.prototype={clipList:null,widget_id:null,playlist_id:null,mrssHandler:null,playlistSet:[],titleHeight:0,$uiConf:null,includeInLayout:true,loadingEntry:null,bindPostFix:'.playlistHandlerKaltura',errorMsg:null,init:function(playlist,options){this.playlist=playlist;for(var i in options){this[i]=options[i];}},getConfig:function(key){return this.playlist.embedPlayer.getKalturaConfig('playlistAPI',key);},loadPlaylist:function(callback){var _this=this;var embedPlayer=this.playlist.embedPlayer;var $uiConf=embedPlayer.$uiConf;mw.log("mw.PlaylistHandlerKaltura:: loadPlaylist > ");if(!embedPlayer.kalturaPlaylistData){mw.log('Error: no playlists were found in embedPlayer.kalturaPlaylistData.');return false;}_this.playlistSet=[];for(var playlistId in embedPlayer.kalturaPlaylistData){if(embedPlayer.kalturaPlaylistData.hasOwnProperty(playlistId)){_this.playlistSet.push(embedPlayer.kalturaPlaylistData[playlistId]);}}if(_this.playlistSet.length==0){mw.log("Error: could not find any playlists.");return false;}var plConf=_this.playlist.embedPlayer.getKalturaConfig('playlist',['includeInLayout','width','height']);_this.autoContinue=_this.getConfig('autoContinue');mw.log("mw.PlaylistHandlerKaltura::loadPlaylist > autoContinue: "+_this.autoContinue);_this.autoPlay=_this.getConfig('autoPlay');_this.loop=_this.getConfig('loop');_this.videolistWidth=(plConf.width)?plConf.width:$uiConf.find('#playlist').attr('width');_this.videolistHeight=(plConf.height)?plConf.height:$uiConf.find('#playlist').attr('height');if(plConf.includeInLayout===false||parseInt($uiConf.find('#playlistHolder').attr('width'))==0){_this.includeInLayout=false;}else if(parseInt(_this.videolistWidth)==0){_this.videolistWidth=250;}_this.$playlistItemRenderer=$uiConf.find('#playlistItemRenderer');if(_this.$playlistItemRenderer.children().length==0){_this.$playlistItemRenderer=$(mw.getConfig('KalturaSupport.PlaylistDefaultItemRenderer'));}if(!_this.includeInLayout){_this.autoContinue=true;}mw.log("PlaylistHandlerKaltura:: got  "+_this.playlistSet.length+' playlists ');_this.setPlaylistIndex(0);_this.loadCurrentPlaylist(function(){var initItemEntryId=_this.getConfig('initItemEntryId');if(initItemEntryId){$.each(_this.getClipList(),function(inx,clip){if(clip.id==initItemEntryId){_this.playlist.clipIndex=inx;}});}if($.isFunction(callback)){callback();}});},getPlaylistSize:function(){var embedPlayer=this.playlist.getEmbedPlayer();var pWidth=embedPlayer.getKalturaConfig('playlistHolder','width');if(!pWidth){pWidth=embedPlayer.getKalturaConfig('playlist','width');}var pHeight=embedPlayer.getKalturaConfig('playlistHolder','height');if(!pHeight){pHeight=embedPlayer.getKalturaConfig('playlist','height');}if(typeof pWidth=='string'&&pWidth.indexOf('%')==-1){pWidth=pWidth+'px';}if(typeof pHeight=='string'&&pHeight.indexOf('%')==-1){pHeight=pHeight+'px';}return{width:pWidth,height:pHeight};},setupPlaylistMode:function(layout){var _this=this;var embedPlayer=this.playlist.getEmbedPlayer();var playerHolder=embedPlayer.getKalturaConfig('PlayerHolder',["visible","includeInLayout"]);if((playerHolder.visible===false||playerHolder.includeInLayout===false)&&!embedPlayer.useNativePlayerControls()){embedPlayer.displayPlayer=false;}var updateLayout=function(){mw.log("PlaylistHandlerKaltura:: updateLayout:");var playlistSize=_this.getPlaylistSize();if(layout=='vertical'){if(playlistSize.height=='100%'){var windowHeight=window.innerHeight;if(mw.getConfig('EmbedPlayer.IsFriendlyIframe')&&mw.isIOS()){windowHeight=$(window.parent.document.getElementById(embedPlayer.id)).height()}playlistSize.height=(windowHeight-embedPlayer.getComponentsHeight());}_this.playlist.setVideoWrapperHeight(playlistSize.height);}else{_this.playlist.getVideoListWrapper().width(playlistSize.width);}};updateLayout();embedPlayer.bindHelper('updateLayout'+this.bindPostFix,function(){updateLayout()});},hasMultiplePlaylists:function(){return(this.playlistSet.length>1);},hasPlaylistUi:function(){return this.includeInLayout;},isNextButtonDisplayed:function(){return!!this.playlist.getEmbedPlayer().$uiConf.find('#nextBtnControllerScreen').length;},isPreviousButtonDisplayed:function(){return!!this.playlist.getEmbedPlayer().$uiConf.find('#previousBtnControllerScreen').length;},getPlaylistSet:function(){return this.playlistSet;},getVideoListWidth:function(){return parseInt(this.videolistWidth)+10;},setPlaylistIndex:function(playlistIndex){this.playlist_id=this.playlistSet[playlistIndex].id;var embedPlayer=this.playlist.getEmbedPlayer();if(embedPlayer.kalturaPlaylistData){embedPlayer.kalturaPlaylistData.currentPlaylistId=this.playlist_id;}},setClipIndex:function(clipIndex){var embedPlayer=this.playlist.getEmbedPlayer();if(embedPlayer.kalturaPlaylistData){embedPlayer.kalturaPlaylistData.currentPlaylistId=this.playlist_id;embedPlayer.setKalturaConfig('playlistAPI','dataProvider',{'selectedIndex':clipIndex});}},loadCurrentPlaylist:function(callback){this.loadPlaylistById(this.playlist_id,callback);},loadPlaylistById:function(playlist_id,loadedCallback){var _this=this;mw.log("PlaylistHandlerKaltura::loadPlaylistById> "+playlist_id);var embedPlayer=this.playlist.embedPlayer;if(!embedPlayer.kalturaPlaylistData){embedPlayer.kalturaPlaylistData={};}var callback=function(){if(embedPlayer.playerReadyFlag){embedPlayer.triggerHelper('playlistReady');}else{embedPlayer.bindHelper('playerReady.playlistReady',function(){$(embedPlayer).unbind('playerReady.playlistReady');embedPlayer.triggerHelper('playlistReady');});}if($.isFunction(loadedCallback)){loadedCallback();}};if(mw.isUrl(playlist_id)){this.playlist.src=playlist_id;this.mrssHandler=new mw.PlaylistHandlerKalturaRss(this.playlist);this.mrssHandler.loadPlaylist(function(){_this.clipList=_this.mrssHandler.getClipList();callback();});return;}if(embedPlayer.kalturaPlaylistData[playlist_id]&&embedPlayer.kalturaPlaylistData[playlist_id].items&&embedPlayer.kalturaPlaylistData[playlist_id].items.length){_this.clipList=embedPlayer.kalturaPlaylistData[playlist_id].items;embedPlayer.setKalturaConfig('playlistAPI','dataProvider',{'content':_this.clipList});callback();return;}var playlistRequest={'service':'playlist','action':'execute','id':playlist_id};this.getKClient().doRequest(playlistRequest,function(playlistDataResult){_this.clipList=[];var playlistData;if(playlistDataResult[0]&&playlistDataResult[0].id){playlistData=playlistDataResult;}else if(playlistDataResult[0]&&playlistDataResult[0][0].id){playlistData=playlistDataResult[0];}else{mw.log("Error: kaltura playlist:"+playlist_id+" could not load:"+playlistDataResult.code);_this.errorMsg="Error loading playlist:"+playlistDataResult.code;callback();return;}mw.log('PlaylistHandlerKaltura::Got playlist of length::'+playlistData.length);if(playlistData.length>mw.getConfig("Playlist.MaxClips")){playlistData=playlistData.splice(0,mw.getConfig("Playlist.MaxClips"));}embedPlayer.kalturaPlaylistData[playlist_id].items=playlistData;embedPlayer.setKalturaConfig('playlistAPI','dataProvider',{'content':playlistData});_this.clipList=playlistData;callback();});},getKClient:function(){if(!this.kClient){this.kClient=mw.kApiGetPartnerClient(this.widget_id);}return this.kClient;},getClipCount:function(){return this.getClipList().length;},getClip:function(clipIndex){return this.getClipList()[clipIndex];},getClipList:function(){return this.clipList;},playClip:function(embedPlayer,clipIndex,callback){var _this=this
if(!embedPlayer){mw.log("Error:: PlaylistHandlerKaltura:playClip > no embed player");if($.isFunction(callback)){callback();}return;}if(clipIndex==0){embedPlayer.triggerHelper('playlistFirstEntry');}else if(clipIndex==(_this.getClipCount()-1)){embedPlayer.triggerHelper('playlistLastEntry');}else{embedPlayer.triggerHelper('playlistMiddleEntry');}if(embedPlayer.kentryid==this.getClip(clipIndex).id){if(this.loadingEntry){mw.log("Error: PlaylistHandlerKaltura is loading Entry, possible double playClip request");}else{embedPlayer.play();}if($.isFunction(callback)){callback();}return;}this.loadingEntry=this.getClip(clipIndex).id;var bindName='onChangeMediaDone'+this.bindPostFix;$(embedPlayer).unbind(bindName).bind(bindName,function(){mw.log('mw.PlaylistHandlerKaltura:: onChangeMediaDone');_this.loadingEntry=false;embedPlayer.play();if($.isFunction(callback)){callback();}});mw.log("PlaylistHandlerKaltura::playClip::changeMedia entryId: "+this.getClip(clipIndex).id);if(this.autoContinue&&!embedPlayer.firstPlay){embedPlayer.stopped=embedPlayer.paused=false;}_this.setClipIndex(clipIndex);embedPlayer.sendNotification("changeMedia",{'entryId':this.getClip(clipIndex).id,'playlistCall':true});},drawEmbedPlayer:function(clipIndex,callback){var _this=this;var $target=_this.playlist.getVideoPlayerTarget();mw.log("PlaylistHandlerKaltura::drawEmbedPlayer:"+clipIndex);var embedPlayer=_this.playlist.getEmbedPlayer();embedPlayer.doUpdateLayout();_this.setClipIndex(clipIndex);if(embedPlayer.playerReadyFlag){callback();}else{$(embedPlayer).bind('playerReady'+this.bindPostFix,function(){callback();});}if(embedPlayer.kentryid!=this.getClip(clipIndex).id){embedPlayer.sendNotification('changeMedia',{entryId:this.getClip(clipIndex).id});}},updatePlayerUi:function(clipIndex){},addEmbedPlayerBindings:function(embedPlayer){var _this=this;mw.log('PlaylistHandlerKaltura:: addEmbedPlayerBindings');$(embedPlayer).unbind(this.bindPostFix);$(embedPlayer).bind('Kaltura_SetKDPAttribute'+this.bindPostFix,function(event,componentName,property,value){mw.log("PlaylistHandlerKaltura::Kaltura_SetKDPAttribute:"+property+' value:'+value);switch(componentName){case"playlistAPI.dataProvider":_this.doDataProviderAction(property,value);break;case'tabBar':_this.switchTab(property,value)
break;}});$(embedPlayer).bind('Kaltura_SendNotification'+this.bindPostFix,function(event,notificationName,notificationData){switch(notificationName){case'playlistPlayNext':case'playlistPlayPrevious':mw.log("PlaylistHandlerKaltura:: trigger: "+notificationName);$(embedPlayer).trigger(notificationName);break;}});},switchTab:function(property,value){if(property=='selectedIndex'){this.playlist.switchTab(value);}},doDataProviderAction:function(property,value){switch(property){case'selectedIndex':this.playlist.playClip(parseInt(value));break;}},getClipPoster:function(clipIndex,size){if(this.mrssHandler){return this.mrssHandler.getClipPoster(clipIndex,size);}var clip=this.getClip(clipIndex);if(!size){return clip.thumbnailUrl;}return kWidget.getKalturaThumbUrl({'width':size.width,'height':size.height,'entry_id':clip.id,'partner_id':clip.partnerId});},getClipTitle:function(clipIndex){if(this.mrssHandler){return this.mrssHandler.getClipTitle(clipIndex);}return this.getClip(clipIndex).name;},getClipDesc:function(clipIndex){if(this.mrssHandler){return this.mrssHandler.getClipDesc(clipIndex);}return this.getClip(clipIndex).description;},getClipDuration:function(clipIndex){if(this.mrssHandler){return this.mrssHandler.getClipDuration(clipIndex);}if(this.getClip(clipIndex).mediaType==2){var embedPlayer=this.playlist.embedPlayer;var imageDuration=embedPlayer.getKalturaConfig('','imageDefaultDuration')?embedPlayer.getKalturaConfig('','imageDefaultDuration'):mw.getConfig("EmbedPlayer.DefaultImageDuration");return parseFloat(imageDuration);}return this.getClip(clipIndex).duration;},getPlaylistItem:function(clipIndex){var _this=this;var $item=$('<div />');$item.append(this.getBoxLayout(clipIndex,this.$playlistItemRenderer));$item.find('.nameAndDuration').after($('<div />').css({'display':'block','height':'20px'}))
$item.find('.hasMarginLeft').slice(1).css('margin-left','');return $item;},adjustTextWidthAfterDisplay:function($clipList){var textWidth=$clipList.width()-$clipList.find('img').width();textWidth=textWidth-64;$clipList.find('.irDescriptionIrScreen').css('width',textWidth);},getBoxLayout:function(clipIndex,$currentBox){var _this=this;var offsetLeft=0;var $boxContainer=$('<div />');$.each($currentBox.children(),function(inx,boxItem){switch(boxItem.nodeName.toLowerCase()){case'image':var $node=$('<img />');$node.attr('alt',_this.getClipTitle(clipIndex));break;case'vbox':case'hbox':case'canvas':var $node=$('<div />');if(offsetLeft){$node.css('margin-left',offsetLeft).addClass("hasMarginLeft")}$node.append(_this.getBoxLayout(clipIndex,$(boxItem)));break;case'spacer':$node=$('<div />').css('display','inline');break;case'label':var nodeSiblings=$(boxItem).siblings();if(nodeSiblings&&nodeSiblings.length&&$(nodeSiblings[0]).attr('id').toLowerCase()=='hover'+$(boxItem).attr('id').toLowerCase()){break;}case'text':var $node=$('<span />').css('display','block');break;default:var $node=false;break;}if($node&&$node.length){$node.addClass(boxItem.nodeName.toLowerCase());_this.applyUiConfAttributes(clipIndex,$node,boxItem);if($node.css('width').indexOf('%')===-1){offsetLeft+=$node.width();}if($node[0].nodeName.toLowerCase()=='div'){$node.css('width','');}$boxContainer.append($node);if(boxItem.nodeName.toLowerCase()=='hbox'){$boxContainer.append();}}});if($boxContainer.find('span').length==2&&$boxContainer.find('span').slice(0).css('width')=='100%'){$boxContainer.find('span').slice(0).css({'width':'','float':'left'});$boxContainer.find('span').slice(1).css('float','right');}else if($boxContainer.find('span').length>1){$boxContainer.find('span').each(function(inx,node){if($(node).css('float')!='right'){$(node).css('float','left');}});}$boxContainer.find('div,span').each(function(inx,node){$(node).css('width','');if($(node).data('id')=='irDescriptionIrScreen'||$(node).data('id')=='irDescriptionIrText'){$(node).css({'height':'','float':'left'});}if($(node).hasClass('hbox')||$(node).hasClass('vbox')||$(node).hasClass('canvas')){$(node).css('height','');}if($(node).hasClass('itemRendererLabel')&&$(node).css('float')=='left'&&($(node).siblings().hasClass('hbox')||$(node).siblings().hasClass('vbox'))){$(node).css({'display':'block'});}if($(node).hasClass('irDurationIrScreen')){$(node).css('float','right');}});return $boxContainer;},applyUiConfAttributes:function(clipIndex,$target,confTag){var _this=this;if(!confTag){return;}var styleName=null;var idName=null;$.each(confTag.attributes,function(inx,attr){switch(attr.nodeName.toLowerCase()){case'id':idName=attr.nodeValue;$target.data('id',idName);$target.addClass(idName);break;case'stylename':styleName=attr.nodeValue;$target.addClass(styleName);break;case'url':$target.attr('src',_this.uiConfValueLookup(clipIndex,attr.nodeValue));break;case'width':case'height':var appendPx='';if(attr.nodeValue.indexOf('%')==-1){appendPx='px';}$target.css(attr.nodeName,attr.nodeValue+appendPx);break;case'paddingright':$target.css('padding-right',attr.nodeValue);break;case'text':var val=_this.uiConfValueLookup(clipIndex,attr.nodeValue)||'';$target.text(val);break;case'font':var str=attr.nodeValue;if(str.indexOf('bold')!==-1){$target.css('font-weight','bold');str=str.replace('bold','');}var f=str.charAt(0).toUpperCase();$target.css('font-family',f+str.substr(1));break;case'x':$target.css({'left':attr.nodeValue});break;case'y':$target.css({'top':attr.nodeValue});break;}});switch(styleName){case'itemRendererLabel':$target.attr('title',$target.text());if(idName=='irDescriptionIrScreen'||idName=='irDescriptionIrText'){$target.text(_this.playlist.formatDescription($target.text()));}else{$target.text(_this.playlist.formatTitle($target.text()));}if($target.text()=='null'){$target.text('');}break;}},uiConfValueLookup:function(clipIndex,objectString){var parsedString=objectString.replace(/\{|\}/g,'');var objectPath=parsedString.split('.');switch(objectPath[0]){case'div10002(this':return this.uiConfValueLookup(clipIndex,'this.'+objectPath[1].replace(/\)/,''));break;case'formatDate(this':return mw.seconds2npt(this.getClipDuration(clipIndex));break;case'this':switch(objectPath[1]){case'thumbnailUrl':return this.getClipPoster(clipIndex);break;case'name':return this.getClipTitle(clipIndex);break;case'description':return this.getClipDesc(clipIndex);break;};if(this.getClip(clipIndex)[objectPath[1]]){return this.getClip(clipIndex)[objectPath[1]];}else{mw.log("Error: Kaltura Playlist Handler could not find property:"+objectPath[1]);}break;default:return objectString;}}};})(window.mediaWiki,window.jQuery);;},{},{});mw.loader.implement("mw.PlaylistHandlerKalturaRss",function($){(function(mw,$){"use strict";mw.PlaylistHandlerKalturaRss=function(playlist,options){return this.init(playlist,options);};mw.PlaylistHandlerKalturaRss.prototype={init:function(playlist,options){this.playlist=playlist;var tmp=new mw.PlaylistHandlerMediaRss(playlist);for(var i in tmp){if(this[i]){this['parent_'+i]=tmp[i];}else{this[i]=tmp[i];}}for(var i in options){this[i]=options[i];}},playClip:function(embedPlayer,clipIndex,callback){var kEmbedSettings=this.getKalturaClipAttributes(clipIndex);var bindName='onChangeMediaDone.playlist';$(embedPlayer).unbind(bindName).bind(bindName,function(event){embedPlayer.play();if(callback){callback();}});embedPlayer.sendNotification("changeMedia",{'entryId':kEmbedSettings.entry_id,'playlistCall':true});},updateVideoSources:function(clipIndex,$video){var kEmbedSettings=this.getKalturaClipAttributes(clipIndex);$video.attr({'kentryid':kEmbedSettings.entry_id,'kwidgetid':kEmbedSettings.wid});},getKalturaClipAttributes:function(clipIndex){var clipSources=this.getClipSources(clipIndex);if(clipSources[0]&&clipSources.length==1&&kWidget.getEmbedSettings(clipSources[0].src)['entry_id']){return kWidget.getEmbedSettings(clipSources[0].src);}mw.log("Error: kalturaPlaylist MediaRss used with multiple sources or non-kaltura flash applet url");return{}}};})(mediaWiki,jQuery);;},{},{});mw.loader.implement("mw.PlaylistHandlerMediaRss",function($){(function(mw,$){"use strict";mw.PlaylistHandlerMediaRss=function(playlist){return this.init(playlist);};mw.PlaylistHandlerMediaRss.prototype={mediaNS:'http://search.yahoo.com/mrss/',autoContinue:true,autoPlay:false,includeInLayout:true,init:function(playlist){this.playlist=playlist;},loadPlaylist:function(callback){var _this=this;if(this.$rss){callback(this.$rss);return;}if(this.getSrcPayLoad()){var xmlDoc=$.parseXML(this.getSrcPayLoad());this.$rss=$(xmlDoc);callback(_this.$rss);return;}if(!_this.getSrc()){mw.log("PlaylistHandlerMediaRSS:: missing source");return;}if(mw.isLocalDomain(this.getSrc())){$.get(mw.absoluteUrl(this.getSrc()),function(data){_this.$rss=$(data);callback(_this.$rss);});}else{new mw.ajaxProxy({url:_this.getSrc(),success:function(resultXML){_this.$rss=$(resultXML);callback(_this.$rss);},error:function(){mw.log("Error: loading "+_this.getSrc());callback(false);return;},startWithProxy:true});}},hasMultiplePlaylists:function(){return false;},hasPlaylistUi:function(){if(this.playlist.layout=='noClipList'){return false;}return this.includeInLayout;},isNextButtonDisplayed:function(){return true;},isPreviousButtonDisplayed:function(){return true;},getVideoListWidth:function(){return'auto';},getSrcPayLoad:function(){return this.playlist.srcPayLoad;},getSrc:function(){return this.playlist.src;},getClipCount:function(){if(!this.$rss){mw.log("Error no rss to count items");}return this.$rss.find('item').length;},playClip:function(embedPlayer,clipIndex,callback){var _this=this;embedPlayer.updatePosterSrc(_this.getClipPoster(clipIndex,_this.playlist.getTargetPlayerSize()));embedPlayer.emptySources();var clipSources=this.getClipSources(clipIndex);if(!clipSources){mw.log("Error: mw.Playlist no sources found for clipIndex:"+clipIndex);return;}for(var i=0;i<clipSources.length;i++){var $source=$('<source />').attr(clipSources[i]);embedPlayer.mediaElement.tryAddSource($source[0]);}embedPlayer.changeMedia(function(){_this.playlist.updatePlayerUi(_this.clipIndex);_this.playlist.addClipBindings();embedPlayer.play();if(callback){callback();}});},drawEmbedPlayer:function(clipIndex,callback){var _this=this;var playerSize=_this.playlist.getTargetPlayerSize();var $target=_this.playlist.getVideoPlayerTarget();var $video;if($('#'+_this.playlist.getVideoPlayerId()).length){mw.log('Error :: PlaylistHandler: drawEmbedPlayer player already in DOM? ');callback();return;}else{$video=$('<video />').attr({'id':_this.playlist.getVideoPlayerId(),'poster':_this.getClipPoster(clipIndex,playerSize)}).css(playerSize);_this.updateVideoSources(clipIndex,$video);$target.append($video);jQuery.fn.embedPlayer=window.jQueryEmbedPlayer;$video.embedPlayer(callback);}},updateVideoSources:function(clipIndex,$video){var _this=this;var clipSources=_this.getClipSources(clipIndex);if(clipSources){for(var i=0;i<clipSources.length;i++){var $source=$('<source />').attr(clipSources[i]);$video.append($source);}}},updatePlayerUi:function(clipIndex){var _this=this;var playerSize=_this.playlist.getTargetPlayerSize();if(this.playlist.titleHeight!=0){var $title=$('<div />').addClass('playlist-title ui-state-default ui-widget-header ui-corner-all').css({'top':'0px','height':_this.titleHeight,'width':playerSize.width}).text(_this.getClipTitle(clipIndex));$(_this.target+' .media-rss-video-player-container').find('.playlist-title').remove();$(_this.target+' .media-rss-video-player-container').prepend($title);}},getClipSources:function(clipIndex){var _this=this;var $item=$(this.$rss.find('item')[clipIndex]);var clipSources=[];$.each($item.find('*'),function(inx,mediaContent){if($(mediaContent)[0].nodeName=='media:content'){clipSource={};if($(mediaContent).attr('url')){clipSource.src=$(mediaContent).attr('url');}if($(mediaContent).attr('type')){clipSource.type=$(mediaContent).attr('type');}if($(mediaContent).attr('duration')){clipSource.durationHint=$(mediaContent).attr('duration');}clipSources.push(clipSource);}});return clipSources;},getCustomAttributes:function(clipIndex){return{};},addEmbedPlayerBindings:function(embedPlayer){},getClipList:function(){return this.$rss.find('item');},getClipPoster:function(clipIndex){var $item=this.$rss.find('item').eq(clipIndex);var mediaThumb=$item.find('media\\:thumbnail, content\\:thumbnail, thumbnail');mw.log('mw.PlaylistMediaRss::getClipPoster: '+$(mediaThumb).attr('url'));if(mediaThumb&&$(mediaThumb).attr('url')){return $(mediaThumb).attr('url');}return mw.getConfig('imagesPath')+'vid_default_thumb.jpg';},getClipTitle:function(clipIndex){var $item=this.$rss.find('item').eq(clipIndex);var mediaTitle=$item.find('media\\:title, content\\:title, title');if(mediaTitle){return $(mediaTitle).text();}mw.log("Error could not find title for clip: "+clipIndex);return gM('mwe-mediarss-untitled');},getClipDesc:function(clipIndex){var $item=this.$rss.find('item').eq(clipIndex);var mediaDesc=$item.find('media\\:description, content\\:description, description');if(mediaDesc){return $(mediaDesc).text();}mw.log("Error could not find description for clip: "+clipIndex);return gM('mwe-mediarss-untitled');},getClipDuration:function(clipIndex){var $item=this.$rss.find('item').eq(clipIndex);var itemDuration=0;$($item.find('*')).each(function(inx,mediaContent){if($(mediaContent).attr('duration')){itemDuration=$(mediaContent).attr('duration');return false;}});return itemDuration;},getPlaylistItem:function(clipIndex){var _this=this;var width=(_this.playlist.itemThumbWidth)?_this.playlist.itemThumbWidth:70;var $item=$('<div />').css('width','100%').append($('<img />').attr({'alt':_this.getClipTitle(clipIndex),'src':_this.getClipPoster(clipIndex)}).css({'width':width+'px'}),$('<div />').addClass('clipText').append($('<span />').addClass('clipTitle').text(_this.playlist.formatTitle(_this.getClipTitle(clipIndex))),$('<div />').addClass('clipDuration').text(mw.seconds2npt(_this.getClipDuration(clipIndex)))),$('<div />').css('clear','right'),$('<span />').addClass('clipDescription').text(_this.playlist.formatDescription(_this.getClipDesc(clipIndex)))).attr('title',_this.getClipDesc(clipIndex));return $item;},adjustTextWidthAfterDisplay:function($clipList){}};})(window.mw,jQuery);;},{},{});mw.loader.implement("mw.PlaylistLayoutJQueryUi",function($){;},{},{});mw.loader.implement("mw.PlaylistLayoutMobile",function($){;},{},{});mw.loader.implement("mw.VastAdParser",function($){(function(mw,$){"use strict";mw.VastAdParser={parse:function(xmlObject,callback){var _this=this;var adConf={};var $vast=$(xmlObject);if($vast.find('Wrapper').length&&$vast.find('VASTAdTagURI').length){var adUrl=$vast.find('VASTAdTagURI').text();mw.log('VastAdParser:: Found vast wrapper, load ad: '+adUrl);mw.AdLoader.load(adUrl,callback,true);return;}adConf.ads=[];$vast.find('Ad').each(function(inx,node){mw.log('VastAdParser:: getVastAdDisplayConf: '+node);var $ad=$(node);var currentAd={'id':$ad.attr('id')};var sequence=$ad.attr('sequence');if(sequence!==undefined){currentAd.sequence=parseInt(sequence);}if($ad.find('duration')){currentAd.duration=mw.npt2seconds($ad.find('duration').text());}currentAd.impressions=[];$ad.find('Impression').each(function(na,node){if($(node).find('URL').length){$ad.find('URL').each(function(na,urlNode){currentAd.impressions.push({'beaconUrl':_this.getURLFromNode(urlNode),'idtype':$(urlNode).attr('id')});});}else{currentAd.impressions.push({'beaconUrl':_this.getURLFromNode(node)});}});currentAd.nonLinear=[];$ad.find('NonLinearAds NonLinear').each(function(na,nonLinearNode){var staticResource=_this.getResourceObject(nonLinearNode);if(staticResource){currentAd.nonLinear.push(staticResource);}});currentAd.trackingEvents=[];var selector='trackingEvents Tracking';if($ad.find('InLine Linear').length){selector='InLine Linear '+selector;}$ad.find(selector).each(function(na,trackingNode){currentAd.trackingEvents.push({'eventName':$(trackingNode).attr('event'),'beaconUrl':_this.getURLFromNode(trackingNode)});});currentAd.videoFiles=[];$ad.find('MediaFiles MediaFile').each(function(na,mediaFile){var type=$(mediaFile).attr('type');if(type=='video/x-mp4'||type=='video/mp4'){type='video/h264';}if(type=='video/h264'||type=='video/ogg'||type=='video/webm'){var source={'src':_this.getURLFromNode(mediaFile),'type':type};if($(mediaFile).attr('bitrate')){source['data-bandwith']=$(mediaFile).attr('bitrate')*1024;}if($(mediaFile).attr('width')){source['data-width']=$(mediaFile).attr('width');}if($(mediaFile).attr('height')){source['data-height']=$(mediaFile).attr('height');}currentAd.videoFiles.push(source);mw.log("VastAdParser::add MediaFile:"+_this.getURLFromNode(mediaFile));}});$ad.find('VideoClicks ClickThrough').each(function(na,clickThrough){currentAd.clickThrough=_this.getURLFromNode(clickThrough);});if(currentAd.videoFiles.length==0){mw.log('Error:; VastAdParser::MISSING videoFile no video url: ( skip ) ');}currentAd.companions=[];$ad.find('CompanionAds Companion').each(function(na,companionNode){var staticResource=_this.getResourceObject(companionNode);if(staticResource){currentAd.companions.push(staticResource);}});adConf.ads.push(currentAd);});callback(adConf);},getResourceObject:function(resourceNode){var _this=this;var resourceObj={};var companionAttr=['width','height','id','expandedWidth','expandedHeight'];$j.each(companionAttr,function(na,attr){if($(resourceNode).attr(attr)){resourceObj[attr]=$(resourceNode).attr(attr);}});if($(resourceNode).attr('creativeType')&&$(resourceNode).attr('resourceType')=='static'){var link=_this.getURLFromNode($(resourceNode).find('NonLinearClickThrough'));resourceObj.$html=$('<a />').attr({'href':link,'target':'_new'}).append($('<img/>').attr({'src':_this.getURLFromNode(resourceNode),'width':resourceObj['width'],'height':resourceObj['height']}));};if($(resourceNode).find('StaticResource').length){if($(resourceNode).find('StaticResource').attr('creativeType')){resourceObj.$html=_this.getStaticResourceHtml(resourceNode,resourceObj);mw.log("VastAdParser::getResourceObject: StaticResource \n"+$('<div />').append(resourceObj.$html).html());}}if($(resourceNode).find('IFrameResource').length){mw.log("VastAdParser::getResourceObject: IFrameResource \n"+_this.getURLFromNode($(resourceNode).find('IFrameResource')));resourceObj.$html=$('<iframe />').attr({'src':_this.getURLFromNode($(resourceNode).find('IFrameResource')),'width':resourceObj['width'],'height':resourceObj['height'],'border':'0px'});}if($(resourceNode).find('HTMLResource').length){mw.log("VastAdParser::getResourceObject:  HTMLResource \n"+_this.getURLFromNode($(resourceNode).find('HTMLResource')));resourceObj.$html=$(_this.getURLFromNode($(resourceNode).find('HTMLResource')));}if(!resourceObj.$html){return false;}resourceObj.html=$('<div />').html(resourceObj.$html).html();return resourceObj;},getStaticResourceHtml:function(companionNode,companionObj){var _this=this;companionObj['contentType']=$(companionNode).find('StaticResource').attr('creativeType');companionObj['resourceUri']=_this.getURLFromNode($(companionNode).find('StaticResource'));var $companionHtml=$('<div />');switch(companionObj['contentType']){case'image/gif':case'image/jpeg':case'image/png':var $img=$('<img />').attr({'src':companionObj['resourceUri']}).css({'width':companionObj['width']+'px','height':companionObj['height']+'px'});if($(companionNode).find('AltText').text()!=''){$img.attr('alt',_this.getURLFromNode($(companionNode).find('AltText')));}if($(companionNode).find('CompanionClickThrough').text()!=''){$companionHtml=$('<a />').attr({'href':_this.getURLFromNode($(companionNode).find('CompanionClickThrough,NonLinearClickThrough')[0])}).append($img);}else{$companionHtml=$img;}break;case'application/x-shockwave-flash':var flashObjectId=$(companionNode).attr('id')+'_flash';$companionHtml=$('<OBJECT />').attr({'classid':"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",'codebase':"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",'WIDTH':companionObj['width'],"HEIGHT":companionObj['height'],"id":flashObjectId}).append($('<PARAM />').attr({'NAME':'movie','VALUE':companionObj['resourceUri']}),$('<PARAM />').attr({'NAME':'quality','VALUE':'high'}),$('<PARAM />').attr({'NAME':'bgcolor','VALUE':'#FFFFFF'}),$('<EMBED />').attr({'href':companionObj['resourceUri'],'quality':'high','bgcolor':'#FFFFFF','WIDTH':companionObj['width'],'HEIGHT':companionObj['height'],'NAME':flashObjectId,'TYPE':"application/x-shockwave-flash",'PLUGINSPAGE':"http://www.macromedia.com/go/getflashplayer"}));break;}return $companionHtml;},getURLFromNode:function(node){if($(node).find('URL').length){node=$(node).find('URL')[0];}return $j.trim(decodeURIComponent($(node).text())).replace(/^\<\!\-?\-?\[CDATA\[/,'').replace(/\]\]\-?\-?\>/,'');}};})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.ajaxProxy",function($){(function(mw,$){var ajaxProxy=function(options){if(!$.isFunction(options.success)){mw.log("mw.ajaxProxy :: Error: missing success callback.");return;}if(!options.url){mw.log("mw.ajaxProxy :: Error: missing url to proxy.");}var defaults={error:function(){},proxyUrl:mw.getConfig('Mw.XmlProxyUrl'),proxyType:'jsonp',startWithProxy:false,timeout:mw.getConfig('Mw.AjaxTimeout',10000)};this.options=$.extend({},defaults,options);this.ajax();};ajaxProxy.prototype={ajax:function(useProxy){var _this=this;if(_this.options.startWithProxy){_this.proxy();return;}var ajaxOptions={success:function(result){_this.handleResult(result);},timeout:_this.options.timeout};if(useProxy){ajaxOptions.url=_this.options.proxyUrl+encodeURIComponent(_this.options.url);ajaxOptions.error=function(){mw.log("mw.ajaxProxy :: Error: request failed with proxy.");_this.options.error();};}else{ajaxOptions.url=_this.options.url;ajaxOptions.error=function(jqXHR,textStatus,errorThrown){mw.log("mw.ajaxProxy :: Error: cross domain request failed, trying with proxy");_this.proxy();};}try{$.ajax(ajaxOptions);}catch(e){}},proxy:function(){var _this=this;if(_this.options.proxyUrl){if(_this.options.proxyType=='jsonp'){$.ajax({url:_this.options.proxyUrl+'?url='+encodeURIComponent(_this.options.url)+'&callback=?',dataType:'json',success:function(result){_this.handleResult(result,true);},error:function(error){mw.log("mw.ajaxProxy :: Error: could not load:",error);_this.options.error();},timeout:_this.options.timeout});}else{_this.ajax(true);}}else{mw.log("mw.ajaxProxy :: Error: please setup proxy configuration");this.options.error();}},handleResult:function(result,isJsonP){var _this=this;if(isJsonP){if(result['http_code']=='ERROR'||result['http_code']==0){mw.log("mw.ajaxProxy :: Error: load error with http response");_this.options.error();return;}try{var resultXML=$.parseXML(result['contents']);if(resultXML){result=resultXML;}}catch(e){result=result['contents'];}_this.options.success(result);}else{_this.options.success(result);}}};mw.ajaxProxy=ajaxProxy;})(window.mw,window.jQuery);;},{},{});mw.loader.implement("mw.MwEmbedSupport.style",function($){;},{"all":".modal_editor{ left:10px;top:10px;right:10px;bottom:10px;position:fixed;z-index:100}.displayHTML a:visited{color:white}.loadingSpinner{width:32px;height:32px;display:block;padding:0px;background-image:url(http://cdnapi.kaltura.com/html5/html5lib/v1.8.3.1/modules/MwEmbedSupport/skins/common/images/loading_ani.gif?2013-04-26T19:36:40Z)}.mw-imported-resource{border:thin solid black}.kaltura-icon{background-image:url(http://cdnapi.kaltura.com/html5/html5lib/v1.8.3.1/modules/MwEmbedSupport/skins/common/images/kaltura_logo_sm_transparent.png?2013-04-26T19:36:40Z) !important;background-repeat:no-repeat;display:block;height:12px;width:12px;margin-top:2px !important;margin-left:3px !important}.mw-fullscreen-overlay{background:rgb(0,0,0) none repeat scroll 0% 0%;position:fixed;top:0pt;left:0pt;width:100%;height:100%;-moz-background-clip:border;-moz-background-origin:padding;-moz-background-inline-policy:continuous} .play-btn-large{width:70px;height:53px;background :url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAA1CAYAAAD8mJ3rAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA+RJREFUeNrsm0tPGlEYhg/MIDcZLhqqqcYYY1GimJgYjRovcePadKm7rrvgX3TT/ozWhW5duLCJMerCaBSroASVaJRquBSQmeHS76vYWqmpF844g/MmLwmjQHj8bud4RkP+yAAeAb8BN5OXpRA4AP4KzuAFTfEHbrAX/Iq8bJ2BP4K/IZh68CewmagixYh5z8DDO7BL5fFbLNikhQePyqJEHgRjUjmU6FfEqPqHVDAqGBWMMsDU1tbqGhsb9Urs2VSk0+m0Xq/3dU9Pjw2fn5+fCzMzM5H5+fmoEsDggPcWXFXuN56amnIODQ3VFAoFgjYajUx3dzc3MDBgvbi4EE5OTgQZcxGpgZmcnKznOE53+7rFYmH7+/vtnZ2dZoDDA6TsiwIzPj5eYzabmeuIuW2Hw1E1MjLiaG5u1ofDYT6RSOTkBIZajcnlcgXwf3+vq6vL2tHRYVlZWYlNT09HYrFYtqJrzNjYmMNkMt0ZMTeN2x8NDQ3G4mu0oVAoI4pioSJTaXR01H5fMNfWgFpaWkzDw8N2eF44ODjg8/l8oaLAwJfDvz4LX4w81AzDaNva2qr7+vo4QRByR0dHfMWAgVZtxxb9GDDX1uv1DNYfaPMWrD1nZ2eC4sEMDg7aHppKdxm6G4szkMvlMiIcCQo0PTAwyNmeGjG3bbVadb29vTYo1FU4IKZSKVotnmq7JtlslkrhhMixtLa2Vm9sbCTm5ubOacxAVOcYAEMz3DUej8fqdrsty8vL0YWFhSjP83nZg8FoyWP8094e0Goxbe0wKHKzs7One3t7l7LediimkmQ2GAzMxMREHXQyrRJSSdLhjGVZbVNTkyEQCKRlCwazCOFIPbImk8ms7GuM1BFzfHx8Wa59HpoRc6/Vdbk+y+fzJRYXF2OK6EpSREwwGEwuLS3F4vF4WWcDqgMezZUxpE0G5xda6yeqxZdGxOB+8erqaiwcDmeodjil1BjsNmtrazEY4NJEAlEFU45UymQy+c3Nzfj29naqUNzuUzoY8pQVgSAI+d3d3R9bW1tJURTzRGLJLmLwNfv7+6n19fVEOReFcouYB4E5PDxMIxCoJ8/+rxRqYLAc3DeVIpEID0Di0HFEIhOxz/nh0WhURCCnp6c8kZmogYFukuM4jr2r9UJRTYRCoUsiU1EDs7Ozk3Q6nX8d/8BiCm034ff701K23scIz/l+IZTO+NbV1enb29urGYbRYLoAkNRztN5HKEUVjIKVUo+a3SEVjApGBVM2MGkVQ4nSCManciiRD8F8JsW7ulRd7XggEzztkAT7ydXtOS99nvkO/gAOam5cVO+JvHFP5E8BBgBjuVwnLBcrSQAAAABJRU5ErkJggg==);background :url(http://cdnapi.kaltura.com/html5/html5lib/v1.8.3.1/modules/MwEmbedSupport/skins/common/images/player_big_play_button.png?2013-04-26T19:36:40Z)!ie;position :absolute;cursor :pointer;border :none !important;z-index :1;left :50%;top :50%;margin-left:-35px;margin-top :-26px}.play-btn-large:hover{background :url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAA1CAYAAAD8mJ3rAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA9RJREFUeNrsm8tPGlEUxgcBQamNSavVKBoa05I2AWNaW2IlJDauXJkaE1cuumbByv/A1AVsjRtjorEujFEDC3ykvhZGWGgIAtKqUYrTgmjLAPLsuVZbqrUxOheGcr/km8WQ3MWPc+acc2cuj/otMVgDfgSWUfmlbbAL/AEcQTd4Zz88AevAD6j8Fg3Wg+0ITCXYAJZQRNRZxGj5cHkLfkx4/JIAXFwAFwVhcUkKBKaYcLik04gh+osIGAKGgMkNMDKZTFRfXy8hYM7nC7G4wGg0Kt1u92ur1arZ29vTaLXaqlwBgxq8N+BCthc2GAx1HR0dsmQySSFLJJLC1tbWiq6uroqDg4PQ5uZmiMNcYtgiRq1WlwOQ1EVDapUMDw83Li8vNzY3N9/Nu1QqAMXj8dRVViqV90wmU9PExIRSoVBI8gbMv6CkW6PRVM7NzTUNDg4+raqqKvzvwSQSidR14aDtj7a2turV1dXm3t7eutLSUkHeR0y6+aDu7u6HAOiVTqeTikSirPVZaD/mPY69mMXFRVVtbe2d26yBqld/f/8nSDNvhrkw2MDMz8+/rKmpYWXdnZ2doF6vd8PD2p/zYMxm8wu2wJxrY2PjsK+vz22xWII5Cwb+3edSqRRLGYYeiIYGcsflcoVzDszU1NSz6upqbP0JVL0klPkDBIim6RjbYLCVxVgslopGoymchQP1QCqVqnxycnJ/YGBgPxgMJthaHCsYKMFJ7MMen89rb2+XtrS0VEAP5IA0O+Y8GMwR84eKiooEPT098s7OTgvDMAnOgkENG4KTyeZDKBTyGxoaSpaWlo44DSYTqXRRfr8/yulUykbEOJ3OY7vdHiJg0gbWhYUFemhoyJMLVSmJjBuK1Wr1j4yMeGCuirK5Lu5nDLaIga7329jY2P7W1haW7hcnGApHKnk8ntD4+LhnfX39O85IFODMezYjJhAInExPT39eWVk5ojIgrGCQbz20MEx8dnbWOzMzc4g20zNV4TgbMScnJ0lo77+YzWZfOBxOUBkWNjDnr0tuAtRisfghbWg2h8KcTiWbzRZAQHw+X4zKsnBGzKmvo+3t7aDRaPTu7u5GKI4oq68pvF5v2GQyeR0OB0NxTNjAQDWJlZWVia8qvVBl6LW1tWOKo8IGBmYXP3p9wgOll14004ADmSy9NxG2PV8kuVwuUavV94VCIc/tdjMA5DASiSQo7ovBCiaHxZBPza4QAUPAEDCsgQkRDJcUQmBshMPlsQ2BGaXOTnURnQrtHY+iz1nRJxVO6ufxnHzvZ76C34E/8tJukjORaWcifwgwAL3bpBIa2UbLAAAAAElFTkSuQmCC);background :url(http://cdnapi.kaltura.com/html5/html5lib/v1.8.3.1/modules/MwEmbedSupport/skins/common/images/player_big_play_button_hover.png?2013-04-26T19:36:40Z)!ie}.carouselContainer{position :absolute;width :100%;z-index :2}.carouselVideoTitle{position :absolute;top :0px;left :0px;width :100%;background :rgba(0,0,0,0.8);color :white;font-size :small;font-weight :bold;z-index :2}.carouselVideoTitleText{display :block;padding :10px 10px 10px 20px}.carouselTitleDuration{position :absolute;top :0px;right :0px;padding :2px;background-color :#5A5A5A;color :#D9D9D9;font-size :smaller;z-index :2}.carouselImgTitle{position :absolute;width :100%;text-align :center;color :white;font-size :small;background :rgba(0,0,0,0.4)}.carouselImgDuration{position :absolute;top :2px;left :2px;background :rgba( 0,0,0,0.7 );color :white;padding :1px 6px;font-size :small}.carouselPrevButton,.carouselNextButton{display :block;position :absolute;bottom:23px}.carouselPrevButton{left :5px}.carouselNextButton{right:6px}.alert-container{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;background-image:linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-o-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-moz-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-webkit-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-ms-linear-gradient(bottom,rgb(215,215,215) 4%,rgb(230,230,230) 55%,rgb(255,255,255) 100%);background-image:-webkit-gradient(linear,left bottom,left top,color-stop(0.04,rgb(215,215,215)),color-stop(0.55,rgb(230,230,230)),color-stop(1,rgb(255,255,255)));margin:auto;position:absolute;top:0;left:0;right:0;bottom:0;max-width:80%;max-height:30%}.alert-title{background-color :#E6E6E6;padding :5px;border-bottom :1px solid #D1D1D1;font-weight :normal !important;font-size:14px !important;-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px;-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px }.alert-message{padding :5px;font-weight :normal !important;text-align:center;font-size:14px !important}.alert-buttons-container{text-align:center;padding-bottom:5px}.alert-button{background-color:#474747;color:white;-webkit-border-radius:.5em;-moz-border-radius:.5em;border-radius:.5em;padding:2px 10px;background-image:linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-o-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-moz-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-webkit-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-ms-linear-gradient(bottom,rgb(25,25,25) 4%,rgb(47,47,47) 55%,rgb(71,71,71) 68%);background-image:-webkit-gradient( linear,left bottom,left top,color-stop(0.04,rgb(25,25,25)),color-stop(0.55,rgb(47,47,47)),color-stop(0.68,rgb(71,71,71)) )}.alert-text{color :black !important}\n\n/* cache key: resourceloader:filter:minify-css:7:4c2a76fb8dcb838301e98c16d60394d8 */\n"},{});
mw.loader.implement("mw.Language.names",function($){if(!mw.Language){mw.Language={};}mw.Language.names={"aa":"Qaf\u00e1r af","ab":"\u0410\u04a7\u0441\u0443\u0430","ace":"Ac\u00e8h","af":"Afrikaans","ak":"Akan","aln":"Geg\u00eb","als":"Alemannisch","am":"\u12a0\u121b\u122d\u129b","an":"Aragon\u00e9s","ang":"Anglo-Saxon","ar":"\u0627\u0644\u0639\u0631\u0628\u064a\u0629","arc":"\u0710\u072a\u0721\u071d\u0710","arn":"Mapudungun","arz":"\u0645\u0635\u0631\u0649","as":"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be","ast":"Asturianu","av":"\u0410\u0432\u0430\u0440","avk":"Kotava","ay":"Aymar aru","az":"Az\u0259rbaycan","ba":"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442","bar":"Boarisch","bat-smg":"\u017demait\u0117\u0161ka","bcc":"\u0628\u0644\u0648\u0686\u06cc \u0645\u06a9\u0631\u0627\u0646\u06cc","bcl":"Bikol Central","be":"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f","be-tarask":"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f (\u0442\u0430\u0440\u0430\u0448\u043a\u0435\u0432\u0456\u0446\u0430)","be-x-old":"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f (\u0442\u0430\u0440\u0430\u0448\u043a\u0435\u0432\u0456\u0446\u0430)","bg":"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438","bh":"\u092d\u094b\u091c\u092a\u0941\u0930\u0940","bi":"Bislama","bm":"Bamanankan","bn":"\u09ac\u09be\u0982\u09b2\u09be","bo":"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42","bpy":"\u0987\u09ae\u09be\u09b0 \u09a0\u09be\u09b0\/\u09ac\u09bf\u09b7\u09cd\u09a3\u09c1\u09aa\u09cd\u09b0\u09bf\u09af\u09bc\u09be \u09ae\u09a3\u09bf\u09aa\u09c1\u09b0\u09c0","bqi":"\u0628\u062e\u062a\u064a\u0627\u0631\u064a","br":"Brezhoneg","bs":"Bosanski","bug":"\u1a05\u1a14 \u1a15\u1a18\u1a01\u1a17","bxr":"\u0411\u0443\u0440\u044f\u0430\u0434","ca":"Catal\u00e0","cbk-zam":"Chavacano de Zamboanga","cdo":"M\u00ecng-d\u0115\u0324ng-ng\u1e73\u0304","ce":"\u041d\u043e\u0445\u0447\u0438\u0439\u043d","ceb":"Cebuano","ch":"Chamoru","cho":"Choctaw","chr":"\u13e3\u13b3\u13a9","chy":"Tsets\u00eahest\u00e2hese","ckb":"Soran\u00ee \/ \u06a9\u0648\u0631\u062f\u06cc","ckb-latn":"\u202aSoran\u00ee (lat\u00een\u00ee)\u202c","ckb-arab":"\u202b\u06a9\u0648\u0631\u062f\u06cc (\u0639\u06d5\u0631\u06d5\u0628\u06cc)\u202c","co":"Corsu","cr":"N\u0113hiyaw\u0113win \/ \u14c0\u1426\u1403\u152d\u140d\u140f\u1423","crh":"Q\u0131r\u0131mtatarca","crh-latn":"\u202aQ\u0131r\u0131mtatarca (Latin)\u202c","crh-cyrl":"\u202a\u041a\u044a\u044b\u0440\u044b\u043c\u0442\u0430\u0442\u0430\u0440\u0434\u0436\u0430 (\u041a\u0438\u0440\u0438\u043b\u043b)\u202c","cs":"\u010cesky","csb":"Kasz\u00ebbsczi","cu":"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a \/ \u2c14\u2c0e\u2c11\u2c02\u2c21\u2c10\u2c20\u2c14\u2c0d\u2c1f","cv":"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430","cy":"Cymraeg","da":"Dansk","de":"Deutsch","de-at":"\u00d6sterreichisches Deutsch","de-ch":"Schweizer Hochdeutsch","de-formal":"Deutsch (Sie-Form)","diq":"Zazaki","dk":"Dansk (deprecated:da)","dsb":"Dolnoserbski","dv":"\u078b\u07a8\u0788\u07ac\u0780\u07a8\u0784\u07a6\u0790\u07b0","dz":"\u0f47\u0f7c\u0f44\u0f0b\u0f41","ee":"E\u028begbe","el":"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac","eml":"Emili\u00e0n e rumagn\u00f2l","en":"English","en-gb":"British English","eo":"Esperanto","es":"Espa\u00f1ol","et":"Eesti","eu":"Euskara","ext":"Estreme\u00f1u","fa":"\u0641\u0627\u0631\u0633\u06cc","ff":"Fulfulde","fi":"Suomi","fiu-vro":"V\u00f5ro","fj":"Na Vosa Vakaviti","fo":"F\u00f8royskt","fr":"Fran\u00e7ais","frc":"Fran\u00e7ais cadien","frp":"Arpetan","fur":"Furlan","fy":"Frysk","ga":"Gaeilge","gag":"Gagauz","gan":"\u8d1b\u8a9e","gan-hans":"\u8d63\u8bed(\u7b80\u4f53)","gan-hant":"\u8d1b\u8a9e(\u7e41\u9ad4)","gd":"G\u00e0idhlig","gl":"Galego","glk":"\u06af\u06cc\u0644\u06a9\u06cc","gn":"Ava\u00f1e'\u1ebd","got":"\ud800\udf32\ud800\udf3f\ud800\udf44\ud800\udf39\ud800\udf43\ud800\udf3a","grc":"\u1f08\u03c1\u03c7\u03b1\u03af\u03b1 \u1f11\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u1f74","gsw":"Alemannisch","gu":"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0","gv":"Gaelg","ha":"\u0647\u064e\u0648\u064f\u0633\u064e","hak":"Hak-k\u00e2-fa","haw":"Hawai`i","he":"\u05e2\u05d1\u05e8\u05d9\u05ea","hi":"\u0939\u093f\u0928\u094d\u0926\u0940","hif":"Fiji Hindi","hif-deva":"\u092b\u093c\u0940\u091c\u0940 \u0939\u093f\u0928\u094d\u0926\u0940","hif-latn":"Fiji Hindi","hil":"Ilonggo","ho":"Hiri Motu","hr":"Hrvatski","hsb":"Hornjoserbsce","ht":"Krey\u00f2l ayisyen","hu":"Magyar","hy":"\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hz":"Otsiherero","ia":"Interlingua","id":"Bahasa Indonesia","ie":"Interlingue","ig":"Igbo","ii":"\ua187\ua259","ik":"I\u00f1upiak","ike-cans":"\u1403\u14c4\u1483\u144e\u1450\u1466","ike-latn":"inuktitut","ilo":"Ilokano","inh":"\u0413\u0406\u0430\u043b\u0433\u0406\u0430\u0439 \u011eal\u011faj","io":"Ido","is":"\u00cdslenska","it":"Italiano","iu":"\u1403\u14c4\u1483\u144e\u1450\u1466\/inuktitut","ja":"\u65e5\u672c\u8a9e","jbo":"Lojban","jut":"Jysk","jv":"Basa Jawa","ka":"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8","kaa":"Qaraqalpaqsha","kab":"Taqbaylit","kg":"Kongo","ki":"G\u0129k\u0169y\u0169","kiu":"Kurmanc\u00ee","kj":"Kwanyama","kk":"\u049a\u0430\u0437\u0430\u049b\u0448\u0430","kk-arab":"\u202b\u0642\u0627\u0632\u0627\u0642\u0634\u0627 (\u062a\u0674\u0648\u062a\u06d5)\u202c","kk-cyrl":"\u202a\u049a\u0430\u0437\u0430\u049b\u0448\u0430 (\u043a\u0438\u0440\u0438\u043b)\u202c","kk-latn":"\u202aQazaq\u015fa (lat\u0131n)\u202c","kk-cn":"\u202b\u0642\u0627\u0632\u0627\u0642\u0634\u0627 (\u062c\u06c7\u0646\u06af\u0648)\u202c","kk-kz":"\u202a\u049a\u0430\u0437\u0430\u049b\u0448\u0430 (\u049a\u0430\u0437\u0430\u049b\u0441\u0442\u0430\u043d)\u202c","kk-tr":"\u202aQazaq\u015fa (T\u00fcrk\u00efya)\u202c","kl":"Kalaallisut","km":"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a","kn":"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1","ko":"\ud55c\uad6d\uc5b4","ko-kp":"\ud55c\uad6d\uc5b4 (\uc870\uc120)","kr":"Kanuri","kri":"Krio","krj":"Kinaray-a","ks":"\u0915\u0936\u094d\u092e\u0940\u0930\u0940 - (\u0643\u0634\u0645\u064a\u0631\u064a)","ksh":"Ripoarisch","ku":"Kurd\u00ee \/ \u0643\u0648\u0631\u062f\u06cc","ku-latn":"\u202aKurd\u00ee (lat\u00een\u00ee)\u202c","ku-arab":"\u202b\u0643\u0648\u0631\u062f\u064a (\u0639\u06d5\u0631\u06d5\u0628\u06cc)\u202c","kv":"\u041a\u043e\u043c\u0438","kw":"Kernowek","ky":"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430","la":"Latina","lad":"Ladino","lb":"L\u00ebtzebuergesch","lbe":"\u041b\u0430\u043a\u043a\u0443","lez":"\u041b\u0435\u0437\u0433\u0438","lfn":"Lingua Franca Nova","lg":"Luganda","li":"Limburgs","lij":"L\u00edguru","lmo":"Lumbaart","ln":"Ling\u00e1la","lo":"\u0ea5\u0eb2\u0ea7","loz":"Silozi","lt":"Lietuvi\u0173","lv":"Latvie\u0161u","lzh":"\u6587\u8a00","mai":"\u092e\u0948\u0925\u093f\u0932\u0940","map-bms":"Basa Banyumasan","mdf":"\u041c\u043e\u043a\u0448\u0435\u043d\u044c","mg":"Malagasy","mh":"Ebon","mhr":"\u041e\u043b\u044b\u043a \u041c\u0430\u0440\u0438\u0439","mi":"M\u0101ori","mk":"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438","ml":"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02","mn":"\u041c\u043e\u043d\u0433\u043e\u043b","mo":"\u041c\u043e\u043b\u0434\u043e\u0432\u0435\u043d\u044f\u0441\u043a\u044d","mr":"\u092e\u0930\u093e\u0920\u0940","ms":"Bahasa Melayu","mt":"Malti","mus":"Mvskoke","mwl":"Mirand\u00e9s","my":"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c","myv":"\u042d\u0440\u0437\u044f\u043d\u044c","mzn":"\u0645\u064e\u0632\u0650\u0631\u0648\u0646\u064a","na":"Dorerin Naoero","nah":"N\u0101huatl","nan":"B\u00e2n-l\u00e2m-g\u00fa","nap":"Nnapulitano","nb":"\u202aNorsk (bokm\u00e5l)\u202c","nds":"Plattd\u00fc\u00fctsch","nds-nl":"Nedersaksisch","ne":"\u0928\u0947\u092a\u093e\u0932\u0940","new":"\u0928\u0947\u092a\u093e\u0932 \u092d\u093e\u0937\u093e","ng":"Oshiwambo","niu":"Niu\u0113","nl":"Nederlands","nn":"\u202aNorsk (nynorsk)\u202c","no":"\u202aNorsk (bokm\u00e5l)\u202c","nov":"Novial","nrm":"Nouormand","nso":"Sesotho sa Leboa","nv":"Din\u00e9 bizaad","ny":"Chi-Chewa","oc":"Occitan","om":"Oromoo","or":"\u0b13\u0b21\u0b3c\u0b3f\u0b06","os":"\u0418\u0440\u043e\u043d\u0430\u0443","pa":"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40","pag":"Pangasinan","pam":"Kapampangan","pap":"Papiamentu","pcd":"Picard","pdc":"Deitsch","pdt":"Plautdietsch","pfl":"Pf\u00e4lzisch","pi":"\u092a\u093e\u093f\u0934","pih":"Norfuk \/ Pitkern","pl":"Polski","pms":"Piemont\u00e8is","pnb":"\u067e\u0646\u062c\u0627\u0628\u06cc","pnt":"\u03a0\u03bf\u03bd\u03c4\u03b9\u03b1\u03ba\u03ac","ps":"\u067e\u069a\u062a\u0648","pt":"Portugu\u00eas","pt-br":"Portugu\u00eas do Brasil","qu":"Runa Simi","rif":"Tarifit","rm":"Rumantsch","rmy":"Romani","rn":"Kirundi","ro":"Rom\u00e2n\u0103","roa-rup":"Arm\u00e3neashce","roa-tara":"Tarand\u00edne","ru":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439","ruq":"Vl\u0103he\u015fte","ruq-cyrl":"\u0412\u043b\u0430\u0445\u0435\u0441\u0442\u0435","ruq-latn":"Vl\u0103he\u015fte","rw":"Kinyarwanda","sa":"\u0938\u0902\u0938\u094d\u0915\u0943\u0924","sah":"\u0421\u0430\u0445\u0430 \u0442\u044b\u043b\u0430","sc":"Sardu","scn":"Sicilianu","sco":"Scots","sd":"\u0633\u0646\u068c\u064a","sdc":"Sassaresu","se":"S\u00e1megiella","sei":"Cmique Itom","sg":"S\u00e4ng\u00f6","sh":"Srpskohrvatski \/ \u0421\u0440\u043f\u0441\u043a\u043e\u0445\u0440\u0432\u0430\u0442\u0441\u043a\u0438","shi":"Ta\u0161l\u1e25iyt","si":"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd","simple":"Simple English","sk":"Sloven\u010dina","sl":"Sloven\u0161\u010dina","sli":"Schl\u00e4sch","sm":"Gagana Samoa","sma":"\u00c5arjelsaemien","sn":"chiShona","so":"Soomaaliga","sq":"Shqip","sr":"\u0421\u0440\u043f\u0441\u043a\u0438 \/ Srpski","sr-ec":"\u0421\u0440\u043f\u0441\u043a\u0438 (\u045b\u0438\u0440\u0438\u043b\u0438\u0446\u0430)","sr-el":"Srpski (latinica)","srn":"Sranantongo","ss":"SiSwati","st":"Sesotho","stq":"Seeltersk","su":"Basa Sunda","sv":"Svenska","sw":"Kiswahili","szl":"\u015al\u016fnski","ta":"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd","tcy":"\u0ca4\u0cc1\u0cb3\u0cc1","te":"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41","tet":"Tetun","tg":"\u0422\u043e\u04b7\u0438\u043a\u04e3","tg-cyrl":"\u0422\u043e\u04b7\u0438\u043a\u04e3","tg-latn":"tojik\u012b","th":"\u0e44\u0e17\u0e22","ti":"\u1275\u130d\u122d\u129b","tk":"T\u00fcrkmen\u00e7e","tl":"Tagalog","tn":"Setswana","to":"lea faka-Tonga","tokipona":"Toki Pona","tp":"Toki Pona (deprecated:tokipona)","tpi":"Tok Pisin","tr":"T\u00fcrk\u00e7e","ts":"Xitsonga","tt":"\u0422\u0430\u0442\u0430\u0440\u0447\u0430\/Tatar\u00e7a","tt-cyrl":"\u0422\u0430\u0442\u0430\u0440\u0447\u0430","tt-latn":"Tatar\u00e7a","tum":"chiTumbuka","tw":"Twi","ty":"Reo M\u0101`ohi","tyv":"\u0422\u044b\u0432\u0430 \u0434\u044b\u043b","udm":"\u0423\u0434\u043c\u0443\u0440\u0442","ug":"Uyghurche\u200e \/ \u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u06d5","ug-arab":"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u06d5","ug-latn":"Uyghurche\u200e","uk":"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430","ur":"\u0627\u0631\u062f\u0648","uz":"O'zbek","ve":"Tshivenda","vec":"V\u00e8neto","vep":"Vepsan kel'","vi":"Ti\u1ebfng Vi\u1ec7t","vls":"West-Vlams","vo":"Volap\u00fck","vro":"V\u00f5ro","wa":"Walon","war":"Winaray","wo":"Wolof","wuu":"\u5434\u8bed","xal":"\u0425\u0430\u043b\u044c\u043c\u0433","xh":"isiXhosa","xmf":"\u10db\u10d0\u10e0\u10d2\u10d0\u10da\u10e3\u10e0\u10d8","yi":"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9","yo":"Yor\u00f9b\u00e1","yue":"\u7cb5\u8a9e","za":"Vahcuengh","zea":"Ze\u00eauws","zh":"\u4e2d\u6587","zh-classical":"\u6587\u8a00","zh-cn":"\u202a\u4e2d\u6587(\u4e2d\u56fd\u5927\u9646)\u202c","zh-hans":"\u202a\u4e2d\u6587(\u7b80\u4f53)\u202c","zh-hant":"\u202a\u4e2d\u6587(\u7e41\u9ad4)\u202c","zh-hk":"\u202a\u4e2d\u6587(\u9999\u6e2f)\u202c","zh-min-nan":"B\u00e2n-l\u00e2m-g\u00fa","zh-mo":"\u202a\u4e2d\u6587(\u6fb3\u9580)\u202c","zh-my":"\u202a\u4e2d\u6587(\u9a6c\u6765\u897f\u4e9a)\u202c","zh-sg":"\u202a\u4e2d\u6587(\u65b0\u52a0\u5761)\u202c","zh-tw":"\u202a\u4e2d\u6587(\u53f0\u7063)\u202c","zh-yue":"\u7cb5\u8a9e","zu":"isiZulu"};;},{},{});mw.loader.implement("mw.TextSource",function($){(function(mw,$){"use strict";mw.TextSource=function(source){return this.init(source);};mw.TextSource.prototype={loaded:false,captions:[],styleCss:{},prevIndex:0,init:function(source,textProvider){for(var i in source){this[i]=source[i];}if(!this.kind){this.kind='subtitle';}if(textProvider){this.textProvider=textProvider;}return this;},load:function(callback){var _this=this;mw.log("TextSource:: load src:"+_this.getSrc());if(!callback){callback=function(){return;};}if(this.loaded){return callback();}if(!this.getSrc()){mw.log("Error: TextSource no source url for text track");return callback();}$(mw).triggerQueueCallback('TimedText_LoadTextSource',_this,function(){if(_this.loaded){callback();}else{new mw.ajaxProxy({url:_this.getSrc(),success:function(resultXML){_this.captions=_this.getCaptions(resultXML);_this.loaded=true;mw.log("mw.TextSource :: loaded from "+_this.getSrc()+" Found: "+_this.captions.length+' captions');callback();},error:function(){mw.log("Error: TextSource Error with http response");_this.loaded=true;callback();}});}})},getCaptionForTime:function(time){var prevCaption=this.captions[this.prevIndex];var captionSet={};if(prevCaption&&time>=prevCaption.start){var startIndex=this.prevIndex;}else{var startIndex=0;}var firstCapIndex=0;for(var i=startIndex;i<this.captions.length;i++){var caption=this.captions[i];if(caption.end==0||caption.end==-1)continue;if(time>=caption.start&&time<=caption.end){if(!firstCapIndex){firstCapIndex=caption.start;}captionSet[i]=caption;}if(caption.start>time){break;}}this.prevIndex=firstCapIndex;return captionSet;},isOverlay:function(){return this.mimeType=='text/xml';},getCaptions:function(data){switch(this.mimeType){case'text/mw-srt':return this.getCaptiosnFromMediaWikiSrt(data);break;case'text/x-srt':return this.getCaptionsFromSrt(data);break;case'text/xml':return this.getCaptionsFromTMML(data);break;}if(this.src&&this.src.substr(-4)=='ttml'){return this.getCaptionsFromTMML(data);}if(this.src&&this.src.substr(-3)=='srt'){return this.getCaptionsFromSrt(data);}return[];},getStyleCssById:function(styleId){if(this.styleCss[styleId]){return this.styleCss[styleId];}return{};},getCaptionsFromTMML:function(data){var _this=this;mw.log("TextSource::getCaptionsFromTMML",data);var captions=[];var xml=($(data).find("tt").length)?data:$.parseXML(data);try{if(!xml||$(xml).find('parsererror').length){mw.log("Error: close caption parse error: "+$(xml).find('parsererror').text());return captions;}}catch(e){mw.log("Error: close caption parse error: "+e.toString());return captions;}var bodyStyleId=$(xml).find('body').attr('style');$(xml).find('style').each(function(inx,style){var cssObject={};$(style.attributes).each(function(inx,attr){var attrName=attr.name;if(attrName.substr(0,4)!=='tts:'){return true;}var cssName='';for(var c=4;c<attrName.length;c++){if(attrName[c].toLowerCase()!=attrName[c]){cssName+='-'+attrName[c].toLowerCase();}else{cssName+=attrName[c]}}cssObject[cssName]=attr.nodeValue;});_this.styleCss[$(style).attr('id')]=cssObject;});$(xml).find('p').each(function(inx,p){var content='';$.each(p.childNodes,function(inx,node){content+=_this.convertTTML2HTML(node);});var end=null;if($(p).attr('end')){end=mw.npt2seconds($(p).attr('end'));}if(!end&&$(p).attr('dur')){end=mw.npt2seconds($(p).attr('begin'))+mw.npt2seconds($(p).attr('dur'));}var captionObj={'start':mw.npt2seconds($(p).attr('begin')),'end':end,'content':content};var $meta=$(p).find('metadata');if($meta.length){captionObj['css']={'position':'absolute'};if($meta.attr('cccol')){captionObj['css']['left']=($meta.attr('cccol')/35)*100+'%';}if($meta.attr('ccrow')){captionObj['css']['top']=($meta.attr('ccrow')/15)*100+'%';}}if($(p).attr('tts:textAlign')){if(!captionObj['css']){captionObj['css']={};}captionObj['css']['text-align']=$(p).attr('tts:textAlign');if(captionObj['css']['text-align']=='right'&&captionObj['css']['left']){captionObj['css']['left']=null;}}if($(p).attr('style')){captionObj['styleId']=$(p).attr('style');}else{captionObj['styleId']=bodyStyleId;}captions.push(captionObj);});return captions;},convertTTML2HTML:function(node){var _this=this;if(node.nodeType==3){return node.textContent;}if(node.nodeName=='metadata'){return'';}if(node.nodeName=='br'){return'<br />';}var ttsStyleMap={'tts:color':'color','tts:fontWeight':'font-weight','tts:fontStyle':'font-style'};if(node.childNodes.length){var nodeString='';var styleVal='';for(var attr in ttsStyleMap){if(node.getAttribute(attr)){styleVal+=ttsStyleMap[attr]+':'+node.getAttribute(attr)+';';}}nodeString+='<'+node.nodeName+' style="'+styleVal+'" >';$.each(node.childNodes,function(inx,childNode){nodeString+=_this.convertTTML2HTML(childNode);});nodeString+='</'+node.nodeName+'>';return nodeString;}},getCaptionsFromSrt:function(data){mw.log("TextSource::getCaptionsFromSrt");var _this=this;try{var xml=$.parseXML(data);if(xml&&$(xml).find('parsererror').length==0){return this.getCaptionsFromTMML(data);}}catch(e){}var srt=data.replace(/\r+/g,'');srt=srt.replace(/^\s+|\s+$/g,'');srt=srt.replace(/<[a-zA-Z\/][^>]*>/g,'');var captions=[];var caplist=srt.split('\n\n');for(var i=0;i<caplist.length;i++){var captionText="";var caption=false;captionText=caplist[i];var s=captionText.split(/\n/);if(s.length<2){continue;}if(s[0].match(/^\d+$/)&&s[1].match(/\d+:\d+:\d+/)){var m=s[1].match(/(\d+):(\d+):(\d+)(?:,(\d+))?\s*--?>\s*(\d+):(\d+):(\d+)(?:,(\d+))?/);if(m){caption=_this.match2caption(m);}else{continue;}if(caption){caption['content']=s.slice(2).join("<br>");}}else{continue;}captions.push(caption);}return captions;},getCaptiosnFromMediaWikiSrt:function(data){mw.log("TimedText::getCaptiosnFromMediaWikiSrt:");var _this=this;var captions=[];var curentCap={'content':''};var parseNextAsTime=false;$('<div>'+data+'</div>').find('p').each(function(){var currentPtext=$(this).html();var m=currentPtext.replace('--&gt;','-->').match(/\d+\s([\d\-]+):([\d\-]+):([\d\-]+)(?:,([\d\-]+))?\s*--?>\s*([\d\-]+):([\d\-]+):([\d\-]+)(?:,([\d\-]+))?\n?(.*)/);if(m){captions.push(_this.match2caption(m));return true;}if(parseInt(currentPtext)==currentPtext){if(curentCap.content!=''){captions.push(curentCap);}curentCap={'content':''};return true;}var m=currentPtext.replace('--&gt;','-->').match(/(\d+):(\d+):(\d+)(?:,(\d+))?\s*--?>\s*(\d+):(\d+):(\d+)(?:,(\d+))?/);if(m){curentCap=_this.match2caption(m);return true;}if(currentPtext!='<br>'){curentCap['content']+=currentPtext;}});if(curentCap.length!=0){captions.push(curentCap);}mw.log("TimedText::getCaptiosnFromMediaWikiSrt found "+captions.length+' captions');return captions;},match2caption:function(m){var caption={};var startMs=(m[4])?(parseInt(m[4],10)/1000):0;var endMs=(m[8])?(parseInt(m[8],10)/1000):0;caption['start']=this.timeParts2seconds(m[1],m[2],m[3],startMs);caption['end']=this.timeParts2seconds(m[5],m[6],m[7],endMs);if(m[9]){caption['content']=$.trim(m[9]);}return caption;},timeParts2seconds:function(hours,min,sec,ms){return mw.measurements2seconds({'hours':hours,'minutes':min,'seconds':sec,'milliseconds':ms});}};})(window.mediaWiki,window.jQuery);;},{},{});mw.loader.implement("mw.TimedText",function($){(function(mw,$){"use strict";mw.mergeConfig('EmbedPlayer.SourceAttributes',['srclang','kind','label']);mw.TimedText=function(embedPlayer){return this.init(embedPlayer);};mw.TimedText.prototype={config:{'layout':'off','userLanguage':'en','userKind':'subtitles'},defaultDisplayMode:'off',lastLayout:'ontop',bindPostFix:'.timedText',confPrefix:'TimedText',timedTextPrefKey:'TimedText.Preferences1',options:{},enabledSources:[],firstLoad:true,currentLangKey:null,prevText:[],textSources:[],validCategoriesKeys:["CC","SUB","TAD","KTV","TIK","AR","NB","META","TRX","LRC","LIN","CUE"],init:function(embedPlayer){var _this=this;mw.log("TimedText: init() ");this.embedPlayer=embedPlayer;var preferenceConfig=$.cookie(this.timedTextPrefKey);if(preferenceConfig!=="false"&&preferenceConfig!=null){this.setPersistentConfig(JSON.parse(preferenceConfig));}else{this.setPersistentConfig(this.config);}_this.destroy();_this.addPlayerBindings();return this;},setPersistentConfig:function(key,value){if(!this.embedPlayer[this.confPrefix]){this.embedPlayer[this.confPrefix]={};}if(typeof key=="object"){$.extend(this.embedPlayer[this.confPrefix],key);}else{this.embedPlayer[this.confPrefix][key]=value;}},getPersistentConfig:function(attr){if(!this.embedPlayer[this.confPrefix]){return null;}if(!attr){return this.embedPlayer[this.confPrefix];}return this.embedPlayer[this.confPrefix][attr];},destroy:function(){var $menuButton=this.embedPlayer.getInterface().find('.timed-text');if($menuButton&&$menuButton[0]&&$menuButton[0].m){$menuButton[0].m=null;}$(this.embedPlayer).unbind(this.bindPostFix);this.enabledSources=[];this.textSources=[];},addPlayerBindings:function(){var _this=this;var embedPlayer=this.embedPlayer;_this.addInterface();$(embedPlayer).bind('monitorEvent'+this.bindPostFix,function(){_this.monitor();});$(embedPlayer).bind('firstPlay'+this.bindPostFix,function(){$('#textMenuContainer_'+embedPlayer.id).hide();});$(embedPlayer).bind('onChangeMedia'+this.bindPostFix,function(){_this.destroy();_this.updateLayout();_this.setupTextSources();$('#textMenuContainer_'+embedPlayer.id).hide();});$(embedPlayer).bind('onCloseFullScreen'+this.bindPostFix+' onOpenFullScreen'+this.bindPostFix,function(){var textOffset=_this.embedPlayer.controlBuilder.inFullScreen?mw.getConfig("TimedText.BottomPadding")*2:mw.getConfig("TimedText.BottomPadding");var textCss=_this.getInterfaceSizeTextCss({'width':embedPlayer.getInterface().width(),'height':embedPlayer.getInterface().height()});mw.log('TimedText::set text size for: : '+embedPlayer.getInterface().width()+' = '+textCss['font-size']);if(embedPlayer.controlBuilder.isOverlayControls()&&!embedPlayer.getInterface().find('.control-bar').is(':hidden')){textOffset+=_this.embedPlayer.controlBuilder.getHeight();}embedPlayer.getInterface().find('.track').css(textCss).css({'bottom':textOffset+'px'});if(_this.getLayoutMode()=='below'){setTimeout(function(){_this.updateBelowVideoCaptionContainer();},50)}});$(embedPlayer).bind('updateLayout'+this.bindPostFix,function(){var textCss=_this.getInterfaceSizeTextCss({'width':embedPlayer.getPlayerWidth(),'height':embedPlayer.getPlayerHeight()});mw.log('TimedText::updateLayout: '+textCss['font-size']);embedPlayer.getInterface().find('.track').css(textCss);});$(embedPlayer).bind('onShowControlBar'+this.bindPostFix,function(event,layout){if(embedPlayer.controlBuilder.isOverlayControls()){embedPlayer.getInterface().find('.track').stop().animate(layout,'fast');}});$(embedPlayer).bind('onHideControlBar'+this.bindPostFix,function(event,layout){if(embedPlayer.controlBuilder.isOverlayControls()){embedPlayer.getInterface().find('.track').stop().animate(layout,'fast');}});$(embedPlayer).bind('AdSupport_StartAdPlayback'+this.bindPostFix,function(){if($('#textMenuContainer_'+embedPlayer.id).length){$('#textMenuContainer_'+embedPlayer.id).hide();}var $textButton=embedPlayer.getInterface().find('.timed-text');if($textButton.length){$textButton.unbind('click');}_this.lastLayout=_this.getLayoutMode();_this.setLayoutMode('off');});$(embedPlayer).bind('AdSupport_EndAdPlayback'+this.bindPostFix,function(){var $textButton=embedPlayer.getInterface().find('.timed-text');if($textButton.length){_this.bindTextButton($textButton);}_this.setLayoutMode(_this.lastLayout);});},addInterface:function(){var _this=this;$(_this.embedPlayer).bind('addControlBarComponent'+this.bindPostFix,function(event,controlBar){if(_this.includeCaptionButton()){controlBar.supportedComponents['timedText']=true;controlBar.components['timedText']=_this.getTimedTextButton();}});},includeCaptionButton:function(){return mw.getConfig('TimedText.ShowInterface')=='always'||this.embedPlayer.getTextTracks().length;},getCurrentLangKey:function(){return this.currentLangKey;},getTimedTextButton:function(){var _this=this;return{'w':28,'o':function(ctrlObj){var $textButton=$('<div />').attr('title',gM('mwe-embedplayer-timed_text')).addClass("ui-state-default ui-corner-all ui-icon_link rButton timed-text").append($('<span />').addClass("ui-icon ui-icon-comment")).buttonHover();_this.bindTextButton($textButton);return $textButton;}};},bindTextButton:function($textButton){var _this=this;$textButton.unbind('click.textMenu').bind('click.textMenu',function(){_this.showTextMenu();return true;});},getInterfaceSizeTextCss:function(size){return{'font-size':this.getInterfaceSizePercent(size)+'%'};},showTextMenu:function(){var embedPlayer=this.embedPlayer;var loc=embedPlayer.getInterface().find('.rButton.timed-text').offset();mw.log('TimedText::showTextMenu:: '+embedPlayer.id+' location: ',loc);var $menuButton=this.embedPlayer.getInterface().find('.timed-text');if(!$menuButton[0].m){this.buildMenu(true);}},getTextMenuContainer:function(){var textMenuId='textMenuContainer_'+this.embedPlayer.id;if(!$('#'+textMenuId).length){this.embedPlayer.getInterface().append($('<div>').addClass('ui-widget ui-widget-content ui-corner-all').attr('id',textMenuId).css({'position':'absolute','z-index':10,'height':'180px','width':'180px','font-size':'12px','display':'none'}));}return $('#'+textMenuId);},getInterfaceSizePercent:function(size){var sizeFactor=4;if(size.height/size.width<.7){sizeFactor=6;}var textSize=size.width/sizeFactor;if(textSize<95){textSize=95;}if(textSize>150){textSize=150;}return textSize;},setupTextSources:function(callback){var _this=this;mw.log('TimedText::setupTextSources');_this.loadTextSources(function(){_this.autoSelectSource();_this.loadEnabledSources();if(callback){callback();}});},buildMenu:function(autoShow){var _this=this;var embedPlayer=this.embedPlayer;var localBuildMenu=function(){var $menuButton=_this.embedPlayer.getInterface().find('.timed-text');var positionOpts={};if(_this.embedPlayer.supports['overlays']){var positionOpts={'directionV':'up','offsetY':_this.embedPlayer.controlBuilder.getHeight(),'directionH':'left','offsetX':-28};}if(!_this.embedPlayer.getInterface()){mw.log("TimedText:: interface called before interface ready, just wait for interface");return;}var $menuButton=_this.embedPlayer.getInterface().find('.timed-text');var ctrlObj=_this.embedPlayer.controlBuilder;$menuButton.menu({'content':_this.getMainMenu(),'zindex':mw.getConfig('EmbedPlayer.FullScreenZIndex')+2,'crumbDefaultText':' ','autoShow':autoShow,'keepPosition':true,'showSpeed':0,'height':100,'width':200,'targetMenuContainer':_this.getTextMenuContainer(),'positionOpts':positionOpts,'backLinkText':gM('mwe-timedtext-back-btn'),'createMenuCallback':function(){if(_this.getLayoutMode()=='off'){_this.markLayoutActive(_this.getLayoutMode());}var $interface=_this.embedPlayer.getInterface();var $textContainer=_this.getTextMenuContainer();var textHeight=130;var top=$interface.height()-textHeight-ctrlObj.getHeight()-6;if(top<0){top=0;}if(_this.embedPlayer.isAudio()){top=_this.embedPlayer.controlBuilder.getHeight()+4;}$textContainer.css({'top':top,'height':textHeight,'position':'absolute','left':$menuButton[0].offsetLeft-75,'bottom':ctrlObj.getHeight(),})
ctrlObj.showControlBar(true);},'closeMenuCallback':function(){ctrlObj.restoreControlsHover();}});};_this.setupTextSources(localBuildMenu);},monitor:function(){var embedPlayer=this.embedPlayer;var currentTime=embedPlayer.currentTime;var textCategories=[];var source=this.enabledSources[0];if(source){this.updateSourceDisplay(source,currentTime);}},loadTextSources:function(callback){mw.log('TimedText::loadTextSources');var _this=this;if(this.textSources.length){callback(this.textSources);return;}this.textSources=[];$.each(this.embedPlayer.getTextTracks(),function(inx,textSource){_this.textSources.push(new mw.TextSource(textSource));});callback(_this.textSources);},getLayoutMode:function(){if(this.getPersistentConfig('layout')=='ontop'&&!$.isEmptyObject(this.embedPlayer.supports)&&!this.embedPlayer.supports['overlays']){this.setPersistentConfig('layout','below');}return this.getPersistentConfig('layout');},autoSelectSource:function(){mw.log("TimedText::autoSelectSource: from text sources:"+this.textSources.length);var _this=this;if(this.enabledSources.length){return false;}if(!this.textSources.length){mw.log("Error:: autoSelectSource no textSources set");return;}this.enabledSources=[];var setDefault=false;$.each(this.textSources,function(inx,source){if(source['default']){_this.enableSource(source);setDefault=true;return false;}});if(setDefault){this.setLayoutMode(this.defaultDisplayMode);return true;}this.setLayoutMode('off');var setLocalPref=false;$.each(this.textSources,function(inx,source){if(_this.getPersistentConfig('userLanguage')==source.srclang.toLowerCase()&&_this.getPersistentConfig('userKind')==source.kind){_this.enableSource(source);setLocalPref=true;return false;}});if(setLocalPref){return true;}var setEnglish=false;if(this.enabledSources.length==0){for(var i=0;i<this.textSources.length;i++){var source=this.textSources[i];if(source.srclang.toLowerCase()=='en'){_this.enableSource(source);setEnglish=true;return false;}}}if(setEnglish){return true;}var setFirst=false;if(this.enabledSources.length==0){for(var i=0;i<this.textSources.length;i++){var source=this.textSources[i];_this.enableSource(source);setFirst=true;return false;}}if(setFirst){return true;}return false;},enableSource:function(source){var _this=this;if(!_this.enabledSources.length){_this.enabledSources.push(source);_this.currentLangKey=source.srclang;return;}var sourceEnabled=false;$.each(this.enabledSources,function(inx,enabledSource){if(source.id==enabledSource.id){sourceEnabled=true;}});if(!sourceEnabled){_this.enabledSources.push(source);_this.currentLangKey=source.srclang;}},loadCurrentSubSource:function(callback){mw.log("loadCurrentSubSource:: enabled source:"+this.enabledSources.length);for(var i=0;i<this.enabledSources.length;i++){var source=this.enabledSources[i];if(source.kind=='SUB'){source.load(function(){callback(source);return;});}}return false;},getSubCaptions:function(langKey,callback){for(var i=0;i<this.textSources.length;i++){var source=this.textSources[i];if(source.srclang.toLowerCase()===langKey){var source=this.textSources[i];source.load(function(){callback(source.captions);});}}},loadEnabledSources:function(){var _this=this;mw.log("TimedText:: loadEnabledSources "+this.enabledSources.length);$.each(this.enabledSources,function(inx,enabledSource){if(enabledSource.isOverlay()&&_this.config.layout=='ontop'){_this.setLayoutMode('ontop');}enabledSource.load(function(){$(_this.embedPlayer).trigger('loadedTextSource',enabledSource);});});},isSourceEnabled:function(source){if(this.getLayoutMode()=='off'){return false;}var isEnabled=false;$.each(this.enabledSources,function(inx,enabledSource){if(source.id){if(source.id===enabledSource.id){isEnabled=true;}}if(source.src){if(source.src==enabledSource.src){isEnabled=true;}}});return isEnabled;},markActive:function(source){var $menu=$('#textMenuContainer_'+this.embedPlayer.id);if($menu.length){var $captionRows=$menu.find('.captionRow');if($captionRows.length){$captionRows.each(function(){$(this).removeClass('ui-icon-bullet ui-icon-radio-on');var iconClass=($(this).data('caption-id')===source.id)?'ui-icon-bullet':'ui-icon-radio-on';$(this).addClass(iconClass);});}}},markLayoutActive:function(layoutMode){var $menu=$('#textMenuContainer_'+this.embedPlayer.id);if($menu.length){var $layoutRows=$menu.find('.layoutRow');if($layoutRows.length){$layoutRows.each(function(){$(this).removeClass('ui-icon-bullet ui-icon-radio-on');var iconClass=($(this).data('layoutMode')===layoutMode)?'ui-icon-bullet':'ui-icon-radio-on';$(this).addClass(iconClass);});}}},getSourceByLanguage:function(langKey){for(var i=0;i<this.textSources.length;i++){var source=this.textSources[i];if(source.srclang==langKey){return source;}}return false;},getMainMenu:function(){var _this=this;var $menu=_this.getLanguageMenu();if(_this.textSources.length==0){$menu.append($.getLineItem(gM('mwe-timedtext-no-subs'),'close'));}else{$menu.append($.getLineItem(gM('mwe-timedtext-layout-off'),(_this.getLayoutMode()=='off')?'bullet':'radio-on',function(){_this.setLayoutMode('off');},'layoutRow',{'layoutMode':'off'}))}$(_this.embedPlayer).trigger('TimedText_BuildCCMenu',[$menu]);if($menu.children('li').length==1){$menu.find('li > ul > li').detach().appendTo($menu);$menu.find('li').eq(0).remove();}return $menu;},getLiSource:function(source){var _this=this;var sourceIcon=(this.isSourceEnabled(source))?'bullet':'radio-on';if(source.title){if(!source.id){source.id=source.srclang;}return $.getLineItem(source.title,sourceIcon,function(){_this.selectTextSource(source);},'captionRow',{'caption-id':source.id});}if(source.srclang){var langKey=source.srclang.toLowerCase();return $.getLineItem(gM('mwe-timedtext-key-language',langKey,_this.getLanguageName(langKey)),sourceIcon,function(){_this.selectTextSource(source);},'captionRow',{'caption-id':source.id});}},getLanguageName:function(langKey){if(mw.Language&&mw.Language.names[langKey]){return mw.Language.names[langKey];}return false;},setLayoutMode:function(layoutMode){var _this=this;if(layoutMode=='ontop'||layoutMode=='below'){_this.lastLayout=layoutMode;}mw.log("TimedText:: setLayoutMode: "+layoutMode+' ( old mode: '+_this.getPersistentConfig('layout')+' )');if((layoutMode!=_this.getPersistentConfig('layout'))||_this.firstLoad){_this.firstLoad=false;_this.setPersistentConfig('layout',layoutMode);_this.updateLayout();}_this.markLayoutActive(layoutMode);},toggleCaptions:function(){mw.log("TimedText:: toggleCaptions was:"+this.config.layout);if(this.getPersistentConfig('layout')=='off'){this.setLayoutMode(this.defaultDisplayMode);}else{this.setLayoutMode('off');}},updateLayout:function(){mw.log("TimedText:: updateLayout ");var $playerTarget=this.embedPlayer.getInterface();if($playerTarget){$playerTarget.find('.captionContainer,.captionsOverlay').remove();}this.refreshDisplay();},selectTextSource:function(source){var _this=this;mw.log("TimedText:: selectTextSource: select lang: "+source.srclang);_this.setLayoutMode(_this.lastLayout);this.bindTextButton(this.embedPlayer.getInterface().find('timed-text'));this.currentLangKey=source.srclang;if(source.srclang){this.setPersistentConfig('userLanguage',source.srclang);}if(source.kind){this.setPersistentConfig('userKind',source.kind);}this.enabledSources=[];this.enabledSources.push(source);if(!source.loaded){var $playerTarget=this.embedPlayer.getInterface();$playerTarget.find('.track').text(gM('mwe-timedtext-loading-text'));source.load(function(){_this.refreshDisplay();});}else{_this.refreshDisplay();}_this.markActive(source);$(this.embedPlayer).trigger('TimedText_ChangeSource');},refreshDisplay:function(){mw.log("TimedText::refreshDisplay");this.embedPlayer.setCookie(this.timedTextPrefKey,JSON.stringify(this.getPersistentConfig()));this.prevText=[];mw.log('TimedText:: bind menu refresh display');this.buildMenu();this.resizeInterface();this.displayTextTarget($('<span /> ').text(''));this.monitor();},getLanguageMenu:function(){var _this=this;var categorySourceList={};var sourcesWithCategoryCount=0;var sourcesWithoutCategory=[];for(var i=0;i<this.textSources.length;i++){var source=this.textSources[i];if(source.kind){var categoryKey=source.kind;if(!categorySourceList[categoryKey]){categorySourceList[categoryKey]=[];sourcesWithCategoryCount++;}categorySourceList[categoryKey].push(_this.getLiSource(source));}else{sourcesWithoutCategory.push(_this.getLiSource(source));}}var $langMenu=$('<ul>');if(sourcesWithCategoryCount>1){for(var categoryKey in categorySourceList){var $catChildren=$('<ul>');for(var i=0;i<categorySourceList[categoryKey].length;i++){$catChildren.append(categorySourceList[categoryKey][i]);}$langMenu.append($.getLineItem(gM('mwe-timedtext-textcat-'+categoryKey.toLowerCase())).append($catChildren));}}else{for(var categoryKey in categorySourceList){for(var i=0;i<categorySourceList[categoryKey].length;i++){$langMenu.append(categorySourceList[categoryKey][i]);}}}for(var i=0;i<sourcesWithoutCategory.length;i++){$langMenu.append(sourcesWithoutCategory[i]);}return $langMenu;},updateSourceDisplay:function(source,time){var _this=this;if(this.timeOffset){time=time+parseInt(this.timeOffset);}var activeCaptions=source.getCaptionForTime(time);var addedCaption=false;$.each(activeCaptions,function(capId,caption){if(_this.embedPlayer.getInterface().find('.track[data-capId="'+capId+'"]').length==0){_this.addCaption(source,capId,caption);addedCaption=true;}});_this.embedPlayer.getInterface().find('.track').each(function(inx,caption){if(!activeCaptions[$(caption).attr('data-capId')]){if(addedCaption){$(caption).remove();}else{$(caption).fadeOut(mw.getConfig('EmbedPlayer.MonitorRate'),function(){$(this).remove();});}}});},addCaption:function(source,capId,caption){if(this.getLayoutMode()=='off'){return;}var $textTarget=$('<div />').addClass('track').attr('data-capId',capId).hide();$textTarget.append($('<span />').addClass('ttmlStyled').css('pointer-events','auto').css(this.getCaptionCss()).html(caption.content));$textTarget.attr('lang',source.srclang.toLowerCase());$textTarget.find('a').attr('target','_blank');if(this.getLayoutMode()=='ontop'){if(caption.css){$textTarget.css(caption.css);}else{$textTarget.css(this.getDefaultStyle());}}this.displayTextTarget($textTarget);$textTarget.css(this.getInterfaceSizeTextCss({'width':this.embedPlayer.getInterface().width(),'height':this.embedPlayer.getInterface().height()}));if(caption.styleId){var capCss=source.getStyleCssById(caption.styleId);$textTarget.find('span.ttmlStyled').css(capCss);}$textTarget.fadeIn('fast');},displayTextTarget:function($textTarget){var embedPlayer=this.embedPlayer;var $interface=embedPlayer.getInterface();var controlBarHeight=embedPlayer.controlBuilder.getHeight();if(this.getLayoutMode()=='off'){if(embedPlayer.isAudio()){$interface.find('.overlay-win').css('top',controlBarHeight);$interface.css('height',controlBarHeight);}return;}var layoutMode=this.getLayoutMode();if(this.getLayoutMode()=='ontop'){this.addTextOverlay($textTarget);}else if(this.getLayoutMode()=='below'){this.addTextBelowVideo($textTarget);}else{mw.log("Possible Error, layout mode not recognized: "+this.getLayoutMode());}if(embedPlayer.isAudio()&&embedPlayer.getInterface().height()<80){$interface.find('.overlay-win').css('top',80);$interface.css('height',80);$interface.find('.captionsOverlay').css('bottom',embedPlayer.controlBuilder.getHeight())}},getDefaultStyle:function(){var defaultBottom=15;if(this.embedPlayer.controlBuilder.isOverlayControls()&&!this.embedPlayer.getInterface().find('.control-bar').is(':hidden')){defaultBottom+=this.embedPlayer.controlBuilder.getHeight();}var baseCss={'position':'absolute','bottom':defaultBottom,'width':'100%','display':'block','opacity':.8,'text-align':'center','z-index':2};baseCss=$.extend(baseCss,this.getInterfaceSizeTextCss({'width':this.embedPlayer.getInterface().width(),'height':this.embedPlayer.getInterface().height()}));return baseCss;},addTextOverlay:function($textTarget){var _this=this;var $captionsOverlayTarget=this.embedPlayer.getInterface().find('.captionsOverlay');var layoutCss={'left':0,'top':0,'bottom':0,'right':0,'position':'absolute'};if($captionsOverlayTarget.length==0){$captionsOverlayTarget=$('<div />').addClass('captionsOverlay').css(layoutCss).css('pointer-events','none');this.embedPlayer.getVideoHolder().append($captionsOverlayTarget);}$captionsOverlayTarget.append($textTarget);},addTextBelowVideo:function($textTarget){var $playerTarget=this.embedPlayer.getInterface();this.embedPlayer.controlBuilder.keepControlBarOnScreen=true;if(!$playerTarget.find('.captionContainer').length||this.embedPlayer.useNativePlayerControls()){this.updateBelowVideoCaptionContainer();}$playerTarget.find('.captionContainer').html($textTarget.css({'color':'white'}));},updateBelowVideoCaptionContainer:function(){var _this=this;mw.log("TimedText:: updateBelowVideoCaptionContainer");var $cc=_this.embedPlayer.getInterface().find('.captionContainer');if(!$cc.length){$cc=$('<div>').addClass('captionContainer block').css({'width':'100%','background-color':'#000','text-align':'center','padding-top':'5px'})
_this.embedPlayer.getVideoHolder().after($cc);}var height=(_this.getInterfaceSizePercent({'width':_this.embedPlayer.getInterface().width(),'height':_this.embedPlayer.getInterface().height()})/100)*mw.getConfig('TimedText.BelowVideoBlackBoxHeight');$cc.css('height',height+'px')
_this.embedPlayer.doUpdateLayout();},resizeInterface:function(){var _this=this;if(!_this.embedPlayer.controlBuilder){return;}if(!_this.embedPlayer.controlBuilder.inFullScreen&&_this.originalPlayerHeight){_this.embedPlayer.triggerHelper('resizeIframeContainer',[{'height':_this.originalPlayerHeight}]);}else{_this.embedPlayer.doUpdateLayout();}},getCaptionCss:function(){return{};}};})(window.mediaWiki,window.jQuery);;},{"all":".track span{color:white;letter-spacing:0.04em;text-align:center;padding:0.2em; background-color:#333;line-height:1.5em}.track span a{text-decoration:none;color :#BBF}.track span a:visited{color :#BBF}\n\n/* cache key: resourceloader:filter:minify-css:7:59bd545e15e71a941a9421c4f6dbc1cb */\n"},{"mwe-timedtext-editor":"Timed text editor","mwe-timedtext-stage-transcribe":"Transcribe","mwe-timedtext-stage-sync":"Sync","mwe-timedtext-stage-translate":"Translate","mwe-timedtext-stage-upload":"Upload from local file","mwe-timedtext-select-language":"Select language","mwe-timedtext-file-language":"Subtitle file language","mwe-timedtext-upload-text":"Upload text file","mwe-timedtext-uploading-text":"Uploading text file","mwe-timedtext-upload-text-desc-title":"Upload a text file","mwe-timedtext-upload-text-desc-help":"The upload text file interface accepts .srt files","mwe-timedtext-upload-text-desc-help-browse":"Browse your local computer for the .srt file you want to upload","mwe-timedtext-upload-text-desc-help-select":"Select the language of the file","mwe-timedtext-upload-text-desc-help-review":"Review \/ edit the text content and then press upload to add the text","mwe-timedtext-upload-text-preview":"Review text","mwe-timedtext-upload-text-success":"Upload of timed text was successful","mwe-timedtext-upload-text-done":"Upload done","mwe-timedtext-upload-text-fail-desc":"Upload was unsuccessful","mwe-timedtext-upload-text-fail-title":"Upload failed","mwe-timedtext-upload-text-another":"Upload another","mwe-timedtext-upload-text-done-uploading":"Done uploading","mwe-timedtext-back-btn":"Back","mwe-timedtext-choose-text":"Choose text","mwe-timedtext-upload-timed-text":"Add subtitles","mwe-timedtext-loading-text-edit":"Loading timed text editor","mwe-timedtext-search":"Search clip","mwe-timedtext-layout":"Layout","mwe-timedtext-layout-ontop":"On top of video","mwe-timedtext-layout-below":"Below video","mwe-timedtext-layout-off":"Hide subtitles","mwe-timedtext-loading-text":"Loading text ...","mwe-timedtext-key-language":"$1, $2","mwe-timedtext-textcat-cc":"Captions","mwe-timedtext-textcat-sub":"Subtitles","mwe-timedtext-textcat-tad":"Audio description","mwe-timedtext-textcat-ktv":"Karaoke","mwe-timedtext-textcat-tik":"Ticker text","mwe-timedtext-textcat-ar":"Active regions","mwe-timedtext-textcat-nb":"Annotation","mwe-timedtext-textcat-meta":"Timed metadata","mwe-timedtext-textcat-trx":"Transcript","mwe-timedtext-textcat-lrc":"Lyrics","mwe-timedtext-textcat-lin":"Linguistic markup","mwe-timedtext-textcat-cue":"Cue points","mwe-timedtext-language-subtitles-for-clip":"$1 subtitles for clip: $2","mwe-timedtext-language-no-subtitles-for-clip":"No $1 subtitles were found for clip: $2","mwe-timedtext-request-subs":"Request transcription","mwe-timedtext-no-subs":"No text tracks available","mwe-timedtext-request-subs-desc":"Add a request for this video file to be transcribed","mwe-timedtext-request-subs-done":"Transcription request added. [$1 See all transcribe requests]","mwe-timedtext-request-subs-fail":"Failed to add transcription request. Are you logged in?","mwe-timedtext-request-already-done":"A transcription of this video has already been requested. [$1 See all transcribe requests]"});
(function(){var g,l=this,m=function(a,b,c){a=a.split(".");c=c||l;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]?c[d]:c[d]={}:c[d]=b},aa=function(a,b){for(var c=a.split("."),d=b||l,e;e=c.shift();)if(null!=d[e])d=d[e];else return null;return d},ba=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==
c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},q=function(a){return"array"==ba(a)},ca=function(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length},
r=function(a){return"string"==typeof a},da=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ea=function(a,b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},s=function(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
ea:fa;return s.apply(null,arguments)},ga=Date.now||function(){return+new Date},t=function(a,b){function c(){}c.prototype=b.prototype;a.q=b.prototype;a.prototype=new c};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return s.apply(null,c)}return s(this,a)};var ha;var ia=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c},ja=function(a){return/^[\s\xa0]*$/.test(a)},ka=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},qa=function(a){if(!la.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ma,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(na,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(oa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(pa,"&quot;"));return a},ma=/&/g,na=/</g,oa=/>/g,pa=/\"/g,la=/[&<>\"]/,ra=function(a,b){for(var c=0,d=ka(String(a)).split("."),
e=ka(String(b)).split("."),f=Math.max(d.length,e.length),h=0;0==c&&h<f;h++){var k=d[h]||"",n=e[h]||"",p=RegExp("(\\d*)(\\D*)","g"),I=RegExp("(\\d*)(\\D*)","g");do{var D=p.exec(k)||["","",""],E=I.exec(n)||["","",""];if(0==D[0].length&&0==E[0].length)break;c=((0==D[1].length?0:parseInt(D[1],10))<(0==E[1].length?0:parseInt(E[1],10))?-1:(0==D[1].length?0:parseInt(D[1],10))>(0==E[1].length?0:parseInt(E[1],10))?1:0)||((0==D[2].length)<(0==E[2].length)?-1:(0==D[2].length)>(0==E[2].length)?1:0)||(D[2]<E[2]?
-1:D[2]>E[2]?1:0)}while(0==c)}return c},sa=2147483648*Math.random()|0;var ta=document;var ua=function(a,b){this.width=a;this.height=b};ua.prototype.D=function(){return new ua(this.width,this.height)};ua.prototype.J=function(){return!(this.width*this.height)};ua.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};var wa=function(a){var b=va.prototype,c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&a.call(null,b[c],c,b)},xa=function(a){if(!a)return!1;var b=!0;wa(function(c,d){b&&d in a&&typeof c==typeof a[d]||(b=!1)});return b},ya=function(a){try{return!!a.location.href||""===a.location.href}catch(b){return!1}};var za=!!window.a,Aa=za&&window.parent||window,Ba=function(){if(za&&!ya(Aa)){for(var a="."+ta.domain;2<a.split(".").length&&!ya(Aa);)ta.domain=a=a.substr(a.indexOf(".")+1),Aa=window.parent;ya(Aa)||(Aa=window)}return Aa};var Ca=Array.prototype,Da=function(a,b){if(r(a))return r(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ea=function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ha=function(a,b){for(var c=Fa(Ga),d=c.length,e=[],f=0,h=r(c)?c.split(""):c,k=0;k<d;k++)if(k in h){var n=h[k];a.call(b,n,k,c)&&(e[f++]=n)}return e},Ia=function(a,b){for(var c=a.length,d=Array(c),e=r(a)?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,
e[f],f,a));return d},Ja=function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ka=function(a,b){var c;t:{c=a.length;for(var d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break t}c=-1}return 0>c?null:r(a)?a.charAt(c):a[c]},La=function(a){return Ca.concat.apply(Ca,arguments)},Ma=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Na=function(a,b,c){return 2>=arguments.length?
Ca.slice.call(a,b):Ca.slice.call(a,b,c)};var va=function(a){this.a={};for(var b=0,c=arguments.length;b<c;++b)this.a[arguments[b]]=""};va.prototype.Ka=function(a){return this.a.hasOwnProperty(a)?this.a[a]:""};va.prototype.geil=va.prototype.Ka;var Oa=function(a){this.S=a;u(this,3,null);u(this,4,0);u(this,5,0);u(this,6,0);u(this,7,(new Date).getTime());u(this,8,{});u(this,9,{});u(this,10,{});u(this,11,[]);u(this,12,0);u(this,14,{})},Pa={},Qa=function(){var a=za?"google_persistent_state_async":"google_persistent_state";if(Pa[a])return Pa[a];if("google_persistent_state_async"==a)var b=Ba(),c={};else c=b=Ba();var d=b[a];return"object"!=typeof d||"object"!=typeof d.S?b[a]=Pa[a]=new Oa(c):Pa[a]=d},Ra=function(a){switch(a){case 3:return"google_exp_persistent";
case 4:return"google_num_sdo_slots";case 5:return"google_num_0ad_slots";case 6:return"google_num_ad_slots";case 7:return"google_correlator";case 8:return"google_prev_ad_formats_by_region";case 9:return"google_prev_ad_slotnames_by_region";case 10:return"google_num_slots_by_channel";case 11:return"google_viewed_host_channels";case 12:return"google_num_slot_to_show";case 14:return"gaGlobal"}},u=function(a,b,c){a=a.S;b=Ra(b);void 0===a[b]&&(a[b]=c)};var Sa,Ta=function(){if(Sa)return!0;var a=Qa(),b=Ra(3);return(a=a.S[b])&&a&&("object"==typeof a||"function"==typeof a)&&xa(a)?(Sa=a,!0):!1};var Ua="StopIteration"in l?l.StopIteration:Error("StopIteration"),Va=function(){};Va.prototype.next=function(){throw Ua;};Va.prototype.P=function(){return this};
var Wa=function(a){if(a instanceof Va)return a;if("function"==typeof a.P)return a.P(!1);if(ca(a)){var b=0,c=new Va;c.next=function(){for(;;){if(b>=a.length)throw Ua;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},Xa=function(a,b,c){if(ca(a))try{Ea(a,b,c)}catch(d){if(d!==Ua)throw d;}else{a=Wa(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(e){if(e!==Ua)throw e;}}};var Ya=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},$a=function(a){var b=Za,c;for(c in b)if(a.call(void 0,b[c],c,b))return!0;return!1},Fa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},ab=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},bb=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},cb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),db=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];
for(c in d)a[c]=d[c];for(var f=0;f<cb.length;f++)c=cb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var w=function(a,b){this.b={};this.a=[];this.e=this.d=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)v(this,arguments[d],arguments[d+1])}else if(a){a instanceof w?(c=a.B(),d=a.s()):(c=ab(a),d=Fa(a));for(var e=0;e<c.length;e++)v(this,c[e],d[e])}};g=w.prototype;g.H=function(){return this.d};g.s=function(){eb(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};g.B=function(){eb(this);return this.a.concat()};
g.J=function(){return 0==this.d};g.clear=function(){this.b={};this.e=this.d=this.a.length=0};var gb=function(a,b){fb(a.b,b)&&(delete a.b[b],a.d--,a.e++,a.a.length>2*a.d&&eb(a))},eb=function(a){if(a.d!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];fb(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.d!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],fb(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};w.prototype.get=function(a,b){return fb(this.b,a)?this.b[a]:b};
var v=function(a,b,c){fb(a.b,b)||(a.d++,a.a.push(b),a.e++);a.b[b]=c};w.prototype.D=function(){return new w(this)};w.prototype.P=function(a){eb(this);var b=0,c=this.a,d=this.b,e=this.e,f=this,h=new Va;h.next=function(){for(;;){if(e!=f.e)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw Ua;var h=c[b++];return a?h:d[h]}};return h};var fb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var hb=function(a){if("function"==typeof a.s)return a.s();if(r(a))return a.split("");if(ca(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Fa(a)},ib=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ca(a)||r(a))Ea(a,b,c);else{var d;if("function"==typeof a.B)d=a.B();else if("function"!=typeof a.s)if(ca(a)||r(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=ab(a);else d=void 0;for(var e=hb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};var jb,kb,lb,mb,nb,x,ob=function(){return l.navigator?l.navigator.userAgent:null};mb=lb=kb=jb=!1;var pb;if(pb=ob()){var qb=l.navigator;jb=0==pb.lastIndexOf("Opera",0);kb=!jb&&(-1!=pb.indexOf("MSIE")||-1!=pb.indexOf("Trident"));lb=!jb&&-1!=pb.indexOf("WebKit");mb=!jb&&!lb&&!kb&&"Gecko"==qb.product}var rb=jb,y=kb,z=mb,sb=lb,tb=ob();nb=!!tb&&-1!=tb.indexOf("Android");x=!!tb&&-1!=tb.indexOf("iPhone");var ub=!!tb&&-1!=tb.indexOf("iPad"),vb=function(){var a=l.document;return a?a.documentMode:void 0},wb;
t:{var xb="",yb;if(rb&&l.opera)var zb=l.opera.version,xb="function"==typeof zb?zb():zb;else if(z?yb=/rv\:([^\);]+)(\)|;)/:y?yb=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:sb&&(yb=/WebKit\/(\S+)/),yb)var Ab=yb.exec(ob()),xb=Ab?Ab[1]:"";if(y){var Bb=vb();if(Bb>parseFloat(xb)){wb=String(Bb);break t}}wb=xb}var Cb=wb,Db={},A=function(a){return Db[a]||(Db[a]=0<=ra(Cb,a))},Fb=l.document,Gb=Fb&&y?vb()||("CSS1Compat"==Fb.compatMode?parseInt(Cb,10):5):void 0;var Hb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Jb=function(a){if(Ib){Ib=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=Jb(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Ib=!0,Error();}}return a.match(Hb)},Ib=sb,Kb=/#|$/;var B=function(a,b){var c;if(a instanceof B)this.F=void 0!==b?b:a.F,Lb(this,a.C),this.Y=a.Y,this.u=a.u,Mb(this,a.X),this.I=a.I,Nb(this,a.a.D()),this.W=a.W;else if(a&&(c=Jb(String(a)))){this.F=!!b;Lb(this,c[1]||"",!0);var d=c[2]||"";this.Y=d?decodeURIComponent(d):"";this.u=(d=c[3]||"")?decodeURIComponent(d):"";Mb(this,c[4]);this.I=(d=c[5]||"")?decodeURIComponent(d):"";Nb(this,c[6]||"",!0);this.W=(c=c[7]||"")?decodeURIComponent(c):""}else this.F=!!b,this.a=new C(null,0,this.F)};g=B.prototype;g.C="";
g.Y="";g.u="";g.X=null;g.I="";g.W="";g.F=!1;g.toString=function(){var a=[],b=this.C;b&&a.push(Ob(b,Pb),":");if(b=this.u){a.push("//");var c=this.Y;c&&a.push(Ob(c,Pb),"@");a.push(encodeURIComponent(String(b)));b=this.X;null!=b&&a.push(":",String(b))}if(b=this.I)this.u&&"/"!=b.charAt(0)&&a.push("/"),a.push(Ob(b,"/"==b.charAt(0)?Qb:Rb));(b=this.a.toString())&&a.push("?",b);(b=this.W)&&a.push("#",Ob(b,Sb));return a.join("")};g.D=function(){return new B(this)};
var Lb=function(a,b,c){a.C=c?b?decodeURIComponent(b):"":b;a.C&&(a.C=a.C.replace(/:$/,""))},Tb=function(a){return a.u},Mb=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.X=b}else a.X=null},Nb=function(a,b,c){b instanceof C?(a.a=b,Ub(a.a,a.F)):(c||(b=Ob(b,Vb)),a.a=new C(b,0,a.F))},Ob=function(a,b){return r(a)?encodeURI(a).replace(b,Wb):null},Wb=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Pb=/[#\/\?@]/g,Rb=/[\#\?:]/g,Qb=/[\#\?]/g,
Vb=/[\#\?@]/g,Sb=/#/g,C=function(a,b,c){this.d=a||null;this.e=!!c},F=function(a){if(!a.a&&(a.a=new w,a.b=0,a.d))for(var b=a.d.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Xb(a,e);d=a;f=f?decodeURIComponent(f.replace(/\+/g," ")):"";F(d);d.d=null;var e=Xb(d,e),h=d.a.get(e);h||v(d.a,e,h=[]);h.push(f);d.b++}};C.prototype.a=null;C.prototype.b=null;
C.prototype.H=function(){F(this);return this.b};var Yb=function(a,b){F(a);b=Xb(a,b);fb(a.a.b,b)&&(a.d=null,a.b-=a.a.get(b).length,gb(a.a,b))};C.prototype.clear=function(){this.a=this.d=null;this.b=0};C.prototype.J=function(){F(this);return 0==this.b};var Zb=function(a,b){F(a);b=Xb(a,b);return fb(a.a.b,b)};g=C.prototype;g.B=function(){F(this);for(var a=this.a.s(),b=this.a.B(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
g.s=function(a){F(this);var b=[];if(r(a))Zb(this,a)&&(b=La(b,this.a.get(Xb(this,a))));else{a=this.a.s();for(var c=0;c<a.length;c++)b=La(b,a[c])}return b};g.get=function(a,b){var c=a?this.s(a):[];return 0<c.length?String(c[0]):b};
g.toString=function(){if(this.d)return this.d;if(!this.a)return"";for(var a=[],b=this.a.B(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.s(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.d=a.join("&")};g.D=function(){var a=new C;a.d=this.d;this.a&&(a.a=this.a.D(),a.b=this.b);return a};
var Xb=function(a,b){var c=String(b);a.e&&(c=c.toLowerCase());return c},Ub=function(a,b){b&&!a.e&&(F(a),a.d=null,ib(a.a,function(a,b){var e=b.toLowerCase();b!=e&&(Yb(this,b),Yb(this,e),0<a.length&&(this.d=null,v(this.a,Xb(this,e),Ma(a)),this.b+=a.length))},a));a.e=b};var $b=function(){var a;if(Ta())a=Sa;else{a=Qa();var b=new va(1,3,4,7,10,12,13,14);a=Sa=a.S[Ra(3)]=b}return"317150304"===a.Ka(10)},ac=function(a){var b=Ba().b;if(b){var c=b[3];a&&(c=b[4]);if(c)return c+""}return null};function bc(a,b){var c=ac();return c?c:b?a.referrer:a.URL};var G=function(a,b,c){this.d=b;this.b=c;this.e=a};g=G.prototype;g.ka=function(){return this.a};g.Ja=function(){return this.d};g.Ia=function(){return this.b};g.lb=function(){return this.e};g.toString=function(){return"AdError "+this.Ia()+": "+this.Ja()+(null!=this.ka()?" Caused by: "+this.ka():"")};var cc=function(){};cc.prototype.Ha=!1;cc.prototype.l=function(){this.Ha||(this.Ha=!0,this.k())};cc.prototype.k=function(){if(this.La)for(;this.La.length;)this.La.shift()()};var dc=function(a){a&&"function"==typeof a.l&&a.l()},ec=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ca(d)?ec.apply(null,d):dc(d)}};var H=function(a,b){this.type=a;this.a=this.target=b};H.prototype.l=function(){};H.prototype.b=!1;H.prototype.Fa=!0;H.prototype.ja=function(){this.Fa=!1};var J=function(a,b){H.call(this,"adError");this.d=a;this.e=b?b:null};t(J,H);J.prototype.f=function(){return this.d};J.prototype.g=function(){return this.e};var K=function(){this.b="always";this.a=!1};g=K.prototype;g.Wb=function(){};g.Ub=function(){return!0};g.Vb=function(a){this.b=a};g.oa=function(){return this.b};g.Xb=function(a){this.d=a};g.pa=function(){return this.d};g.bc=function(a){this.a=a};var fc=["*.googlesyndication.com"],gc=["*.youtu.be","*.youtube.com"],hc=["s0.2mdn.net"],ic=function(a){a=new B(a);var b=a.u,c=a.I;if(null!=b){var d;if(!(d=ia(b,".google.com")&&"/pagead/sul"==c)){if(b=ia(b,".youtube.com")){if(c="/gen_204"==c)c="sul"==a.a.get("a");b=c}d=b}a=d}else a=!1;return a},kc=function(a,b){try{var c=Tb(new B(b)),c=c.replace(/^www./i,"");return Ja(a,function(a){return jc(a,c)})}catch(d){return!1}},jc=function(a,b){if(ja(null==b?"":String(b)))return!1;a=a.toLowerCase();b=b.toLowerCase();
return"*."==a.substr(0,2)?(a=a.substr(2),a.length>b.length?!1:b.substr(-a.length)==a&&(b.length==a.length||"."==b.charAt(b.length-a.length-1))):a==b},lc=function(a){if("https:"==window.location.protocol){var b=new B(a);if(0<=Da(hc,b.u))return Lb(b,"https"),b.toString()}return a};var mc=function(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0};mc.prototype.D=function(){return new mc(this.x,this.y)};mc.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};var nc=!y||y&&9<=Gb;!z&&!y||y&&y&&9<=Gb||z&&A("1.9.1");y&&A("9");var oc=function(a,b){var c;c=a.className;c=r(c)&&c.match(/\S+/g)||[];for(var d=Na(arguments,1),e=c.length+d.length,f=c,h=0;h<d.length;h++)0<=Da(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==e};var pc=function(){var a=document;return a.querySelectorAll&&a.querySelector?a.querySelectorAll("SCRIPT"):a.getElementsByTagName("SCRIPT")},rc=function(a,b){Ya(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in qc?a.setAttribute(qc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},qc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",
role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},L=function(a){return a?a.parentWindow||a.defaultView:window},tc=function(a,b,c){var d=arguments,e=document,f=d[0],h=d[1];if(!nc&&h&&(h.name||h.type)){f=["<",f];h.name&&f.push(' name="',qa(h.name),'"');if(h.type){f.push(' type="',qa(h.type),'"');var k={};db(k,h);delete k.type;h=k}f.push(">");f=f.join("")}f=e.createElement(f);h&&(r(h)?f.className=h:q(h)?oc.apply(null,[f].concat(h)):rc(f,h));2<d.length&&sc(e,f,d);
return f},sc=function(a,b,c){function d(c){c&&b.appendChild(r(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ca(f)||da(f)&&0<f.nodeType?d(f):Ea(uc(f)?Ma(f):f,d)}},vc=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},wc=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},M=function(a){return 9==a.nodeType?a:a.ownerDocument||
a.document},uc=function(a){if(a&&"number"==typeof a.length){if(da(a))return"function"==typeof a.item||"string"==typeof a.item;if("function"==ba(a))return"function"==typeof a.item}return!1},xc=function(a){this.a=a||l.document||document};xc.prototype.appendChild=function(a,b){a.appendChild(b)};xc.prototype.contains=wc;var yc=function(a,b){this.b=a;for(var c=[104,116,116,112,115,63,58,47,47,115,48,46,50,109,100,110,46,110,101,116,47,105,110,115,116,114,101,97,109,47,104,116,109,108,53,47].concat(b),d=[],e=0,f=0;e<c.length;){var h=c[e++];if(128>h)d[f++]=String.fromCharCode(h);else if(191<h&&224>h){var k=c[e++];d[f++]=String.fromCharCode((h&31)<<6|k&63)}else{var k=c[e++],n=c[e++];d[f++]=String.fromCharCode((h&15)<<12|(k&63)<<6|n&63)}}this.a=RegExp(d.join(""))};
yc.prototype.match=function(a){a=a.match(this.a);return null!=a?this.b?"3.1.33"==a[1]:!0:!1};
var Za={a:new yc(!1,[97,102,105,46,106,115]),e:new yc(!1,[105,109,97,51,92,46,106,115]),f:new yc(!1,[105,109,97,51,95,100,101,98,117,103,92,46,106,115]),g:new yc(!1,[105,109,97,51,95,108,111,97,100,101,114,92,46,106,115]),h:new yc(!1,[105,109,97,51,95,108,111,97,100,101,114,95,100,101,98,117,103,92,46,106,115]),b:new yc(!0,[98,114,105,100,103,101,40,91,48,45,57,93,43,92,46,91,48,45,57,92,46,93,43,41,92,46,104,116,109,108]),d:new yc(!0,[98,114,105,100,103,101,40,91,48,45,57,93,43,92,46,91,48,45,57,
92,46,93,43,41,95,100,101,98,117,103,92,46,104,116,109,108])};var zc=function(a){zc[" "](a);return a};zc[" "]=function(){};var Ac=!y||y&&9<=Gb,Bc=y&&!A("9");!sb||A("528");z&&A("1.9b")||y&&A("8")||rb&&A("9.5")||sb&&A("528");z&&!A("8")||y&&A("9");var Cc=function(a,b){if(a){var c=this.type=a.type;H.call(this,c);this.target=a.target||a.srcElement;this.a=b;if((c=a.relatedTarget)&&z)try{zc(c.nodeName)}catch(d){}this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.O=a;a.defaultPrevented&&this.ja();delete this.b}};t(Cc,H);g=Cc.prototype;
g.target=null;g.clientX=0;g.clientY=0;g.screenX=0;g.screenY=0;g.button=0;g.ctrlKey=!1;g.altKey=!1;g.shiftKey=!1;g.metaKey=!1;g.O=null;g.ja=function(){Cc.q.ja.call(this);var a=this.O;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Bc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Dc="closure_listenable_"+(1E6*Math.random()|0),Ec=function(a){try{return!(!a||!a[Dc])}catch(b){return!1}},Fc=0;var Gc=function(a,b,c,d,e){this.G=a;this.a=null;this.src=b;this.type=c;this.capture=!!d;this.Z=e;this.ea=++Fc;this.K=this.V=!1},Hc=function(a){a.K=!0;a.G=null;a.a=null;a.src=null;a.Z=null};var Ic=function(a){this.src=a;this.a={};this.b=0},Kc=function(a,b,c,d,e,f){var h=a.a[b];h||(h=a.a[b]=[],a.b++);var k=Jc(h,c,e,f);-1<k?(a=h[k],d||(a.V=!1)):(a=new Gc(c,a.src,b,!!e,f),a.V=d,h.push(a));return a},Lc=function(a,b){var c=b.type;if(!(c in a.a))return!1;var d=a.a[c],e=Da(d,b),f;(f=0<=e)&&Ca.splice.call(d,e,1);f&&(Hc(b),0==a.a[c].length&&(delete a.a[c],a.b--));return f},Mc=function(a,b,c,d,e){a=a.a[b];b=-1;a&&(b=Jc(a,c,d,e));return-1<b?a[b]:null},Jc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=
a[e];if(!f.K&&f.G==b&&f.capture==!!c&&f.Z==d)return e}return-1};var Nc="closure_lm_"+(1E6*Math.random()|0),Oc={},Pc=0,Qc=function(a,b,c,d,e){if(q(b)){for(var f=0;f<b.length;f++)Qc(a,b[f],c,d,e);return null}c=Rc(c);return Ec(a)?a.i(b,c,d,e):Sc(a,b,c,!1,d,e)},Sc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,k=Tc(a);k||(a[Nc]=k=new Ic(a));c=Kc(k,b,c,d,e,f);if(c.a)return c;d=Uc();c.a=d;d.src=a;d.G=c;a.addEventListener?a.addEventListener(b,d,h):a.attachEvent(b in Oc?Oc[b]:Oc[b]="on"+b,d);Pc++;return c},Uc=function(){var a=Vc,b=Ac?function(c){return a.call(b.src,
b.G,c)}:function(c){c=a.call(b.src,b.G,c);if(!c)return c};return b},Wc=function(a,b,c,d,e){if(q(b)){for(var f=0;f<b.length;f++)Wc(a,b[f],c,d,e);return null}c=Rc(c);return Ec(a)?Kc(a.A,String(b),c,!0,d,e):Sc(a,b,c,!0,d,e)},Xc=function(a,b,c,d,e){if(q(b))for(var f=0;f<b.length;f++)Xc(a,b[f],c,d,e);else c=Rc(c),Ec(a)?a.$(b,c,d,e):a&&(a=Tc(a))&&(b=Mc(a,b,c,!!d,e))&&Yc(b)},Yc=function(a){if("number"==typeof a||!a||a.K)return!1;var b=a.src;if(Ec(b))return Lc(b.A,a);var c=a.type,d=a.a;b.removeEventListener?
b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(c in Oc?Oc[c]:Oc[c]="on"+c,d);Pc--;(c=Tc(b))?(Lc(c,a),0==c.b&&(c.src=null,b[Nc]=null)):Hc(a);return!0},$c=function(a,b,c,d){var e=1;if(a=Tc(a))if(b=a.a[b])for(b=Ma(b),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.K&&(e&=!1!==Zc(f,d))}return Boolean(e)},Zc=function(a,b){var c=a.G,d=a.Z||a.src;a.V&&Yc(a);return c.call(d,b)},Vc=function(a,b){if(a.K)return!0;if(!Ac){var c=b||aa("window.event"),d=new Cc(c,this),e=!0;if(!(0>c.keyCode||
void 0!=c.returnValue)){t:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break t}catch(h){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.a;f;f=f.parentNode)c.push(f);for(var f=a.type,k=c.length-1;!d.b&&0<=k;k--)d.a=c[k],e&=$c(c[k],f,!0,d);for(k=0;!d.b&&k<c.length;k++)d.a=c[k],e&=$c(c[k],f,!1,d)}return e}return Zc(a,new Cc(b,this))},Tc=function(a){a=a[Nc];return a instanceof Ic?a:null},ad="__closure_events_fn_"+(1E9*Math.random()>>>0),Rc=function(a){return"function"==ba(a)?a:a[ad]||(a[ad]=
function(b){return a.handleEvent(b)})};var N=function(){this.A=new Ic(this);this.ib=this};t(N,cc);N.prototype[Dc]=!0;g=N.prototype;g.ia=null;g.addEventListener=function(a,b,c,d){Qc(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){Xc(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.ia;if(c){b=[];for(var d=1;c;c=c.ia)b.push(c),++d}c=this.ib;d=a.type||a;if(r(a))a=new H(a,c);else if(a instanceof H)a.target=a.target||c;else{var e=a;a=new H(d,c);db(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.b&&0<=h;h--)f=a.a=b[h],e=bd(f,d,!0,a)&&e;a.b||(f=a.a=c,e=bd(f,d,!0,a)&&e,a.b||(e=bd(f,d,!1,a)&&e));if(b)for(h=0;!a.b&&h<b.length;h++)f=a.a=b[h],e=bd(f,d,!1,a)&&e;return e};
g.k=function(){N.q.k.call(this);if(this.A){var a=this.A,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,Hc(d[e]);delete a.a[c];a.b--}}this.ia=null};g.i=function(a,b,c,d){return Kc(this.A,String(a),b,!1,c,d)};g.$=function(a,b,c,d){var e;e=this.A;a=String(a);if(a in e.a){var f=e.a[a];b=Jc(f,b,c,d);-1<b?(Hc(f[b]),Ca.splice.call(f,b,1),0==f.length&&(delete e.a[a],e.b--),e=!0):e=!1}else e=!1;return e};
var bd=function(a,b,c,d){b=a.A.a[String(b)];if(!b)return!0;b=Ma(b);for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.K&&h.capture==c){var k=h.G,n=h.Z||h.src;h.V&&Lc(a.A,h);e=!1!==k.call(n,d)&&e}}return e&&!1!=d.Fa};var O=function(a,b){N.call(this);this.e=a||1;this.b=b||l;this.f=s(this.h,this);this.g=ga()};t(O,N);O.prototype.d=!1;O.prototype.a=null;O.prototype.h=function(){if(this.d){var a=ga()-this.g;0<a&&a<0.8*this.e?this.a=this.b.setTimeout(this.f,this.e-a):(this.a&&(this.b.clearTimeout(this.a),this.a=null),this.dispatchEvent("tick"),this.d&&(this.a=this.b.setTimeout(this.f,this.e),this.g=ga()))}};
var cd=function(a){a.d=!0;a.a||(a.a=a.b.setTimeout(a.f,a.e),a.g=ga())},dd=function(a){a.d=!1;a.a&&(a.b.clearTimeout(a.a),a.a=null)};O.prototype.k=function(){O.q.k.call(this);dd(this);delete this.b};var ed=function(a,b,c){if("function"==ba(a))c&&(a=s(a,c));else if(a&&"function"==typeof a.handleEvent)a=s(a.handleEvent,a);else throw Error("Invalid listener argument");2147483647<b||l.setTimeout(a,b||0)};var fd=function(a){a=ic(a)?'data:text/html;charset=utf-8,<body><img src="'+a+'"></img></body>':lc(a);var b=tc("iframe",{src:a,style:"display:none"});a=M(b).body;Wc(b,["load","error"],function(){ed(function(){null!=b.parentNode&&b.parentNode.removeChild(b)},5E3)});a.appendChild(b)};var P=function(){this.b=0.05>Math.random();this.a=Math.floor(4503599627370496*Math.random())};P.getInstance=function(){return P.a?P.a:P.a=new P};
var id=function(a,b,c,d){if(a.b||d){c=c||{};c.lid=b;c=gd(a,c);var e=new B("http://pagead2.googlesyndication.com/pagead/gen_204");Ya(c,function(a,b){var c=e.a,d=b,p=null!=a?"boolean"==typeof a?a?"t":"f":""+a:"";F(c);c.d=null;d=Xb(c,d);Zb(c,d)&&(c.b-=c.a.get(d).length);v(c.a,d,[p]);c.b++},a);a=hd();Lb(e,a.C);fd(e.toString())}},gd=function(a,b){b.id="ima_html5";var c=hd();b.c=a.a;b.domain=c.u;return b},hd=function(){var a=L(),b=document;return new B(a.parent==a?a.location.href:b.referrer)};var Q=function(a){this.d=a;this.b={}};t(Q,cc);var jd=[];Q.prototype.i=function(a,b,c,d,e){q(b)||(jd[0]=b,b=jd);for(var f=0;f<b.length;f++){var h=Qc(a,b[f],c||this.handleEvent,d||!1,e||this.d||this);if(!h)break;this.b[h.ea]=h}return this};var kd=function(a,b,c,d,e,f){if(q(c))for(var h=0;h<c.length;h++)kd(a,b,c[h],d,e,f);else(b=Wc(b,c,d||a.handleEvent,e,f||a.d||a))&&(a.b[b.ea]=b)};
Q.prototype.$=function(a,b,c,d,e){if(q(b))for(var f=0;f<b.length;f++)this.$(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.d||this,c=Rc(c),d=!!d,b=Ec(a)?Mc(a.A,String(b),c,d,e):a?(a=Tc(a))?Mc(a,b,c,d,e):null:null,b&&(Yc(b),delete this.b[b.ea]);return this};Q.prototype.k=function(){Q.q.k.call(this);Ya(this.b,Yc);this.b={}};Q.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var Ga={rc:"video/mp4",pc:"application/x-mpegURL",tc:"video/ogg",Bc:"video/3gpp",Ec:"video/webm",qc:"audio/mpeg",sc:"audio/mp4"};var ld=function(a){this.b=a};ld.prototype.a=function(){return this.b};var md=function(){N.call(this);this.currentTime=0};t(md,N);var R=function(a,b,c){H.call(this,a);this.f=b;this.e=null!=c?c:null};t(R,H);R.prototype.h=function(){return this.f};R.prototype.j=function(){return this.e};var nd=new function(){this.message="The provided {0} information: {1} is invalid.";this.errorCode=1101},od=function(a,b,c){var d;d=b||null;var e=Na(arguments,2);if(!(d instanceof G)){var f=a.errorCode,h=a.message;if(0<e.length)for(var k=0;k<e.length;k++)h=h.replace(RegExp("\\{"+k+"\\}","ig"),e[k]);f=new G("adPlayError",h,f);f.a=d;d=f}return d};var pd=function(a){md.call(this);this.currentTime=a.currentTime;if(!("currentTime"in a)||isNaN(a.currentTime))throw od(nd,null,"content","currentTime");this.b=a;this.a=new O(250);this.d=new Q(this);this.d.i(this.a,"tick",this.e,!1,this)};t(pd,md);pd.prototype.k=function(){pd.q.k.call(this);this.d.l();this.a.l()};
pd.prototype.e=function(){if("currentTime"in this.b&&!isNaN(this.b.currentTime)){var a=this.currentTime;this.currentTime=this.b.currentTime;a!=this.currentTime&&this.dispatchEvent(new H("currentTimeUpdate"))}else this.dispatchEvent(new H("contentWrapperError")),dd(this.a)};var qd=function(a,b){R.call(this,"adMetadata",a);this.d=b||null};t(qd,R);qd.prototype.g=function(){return this.d};var rd,sd,td,ud,vd,wd,xd;xd=wd=vd=ud=td=sd=rd=!1;var S=ob();S&&(-1!=S.indexOf("Firefox")?rd=!0:-1!=S.indexOf("Camino")?sd=!0:-1!=S.indexOf("iPhone")||-1!=S.indexOf("iPod")?td=!0:-1!=S.indexOf("iPad")?ud=!0:-1!=S.indexOf("Chrome")?wd=!0:-1!=S.indexOf("Android")?vd=!0:-1!=S.indexOf("Safari")&&(xd=!0));var yd=rd,zd=sd,Ad=td,Bd=ud,Cd=vd,Dd=wd,Ed=xd;var Fd=function(a){return(a=a.exec(ob()))?a[1]:""};(function(){if(yd)return Fd(/Firefox\/([0-9.]+)/);if(y||rb)return Cb;if(Dd)return Fd(/Chrome\/([0-9.]+)/);if(Ed)return Fd(/Version\/([0-9.]+)/);if(Ad||Bd){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(ob());if(a)return a[1]+"."+a[2]}else{if(Cd)return(a=Fd(/Android\s+([0-9.]+)/))?a:Fd(/Version\/([0-9.]+)/);if(zd)return Fd(/Camino\/([0-9.]+)/)}return""})();var Gd={},Hd=/OS (\S+) like/,Id=/Android (\S+);/,Jd=function(a,b){if(null==Gd[b]){var c=a.exec(ob());c?(c=c[1].replace(/_/g,"."),Gd[b]=0<=ra(c,b)):Gd[b]=!1}return Gd[b]};var T=function(){N.call(this);this.e=this.f=this.d=!1;this.b=0;this.g=[];this.h=!1};t(T,N);
var Kd=function(a,b){null==b||a.d||(a.a=b,a.m=!x&&!ub,a.p=x||ub,a.d=!0,a.a instanceof N||a.m?a.a.addEventListener("click",s(a.j,a),!1):a.p?(a.a.addEventListener("touchstart",s(a.w,a),!1),a.a.addEventListener("touchmove",s(a.v,a),!1),a.a.addEventListener("touchend",s(a.t,a),!1)):a.d=!1)},Ld=function(a){null!=a.a&&a.d&&(a.m?a.a.removeEventListener("click",s(a.j,a),!1):a.p&&(a.a.removeEventListener("touchstart",s(a.w,a),!1),a.a.removeEventListener("touchmove",s(a.v,a),!1),a.a.removeEventListener("touchend",
s(a.t,a),!1)),a.d=!1,a.f=!1,a.e=!1,a.b=0,a.g=[],a.h=!1)};T.prototype.w=function(a){this.f=!0;this.b=a.touches.length;this.h=Md(this,a.touches)||1!=a.touches.length;Nd(this,a.touches)};T.prototype.v=function(a){this.e=!0;this.b=a.touches.length};T.prototype.t=function(a){this.f&&1==this.b&&!this.e&&!this.h&&Md(this,a.changedTouches)&&this.dispatchEvent(new H("click"));this.b=a.touches.length;0==this.b&&(this.e=this.f=!1)};T.prototype.j=function(){this.dispatchEvent(new H("click"))};
var Nd=function(a,b){a.g=[];Ea(b,function(a){var b=this.g;a=a.identifier;0<=Da(b,a)||b.push(a)},a)},Md=function(a,b){return Ja(b,function(a){return 0<=Da(this.g,a.identifier)},a)};T.prototype.k=function(){Ld(this);T.q.k.call(this)};var Od=function(){this.d=this.a=0;this.b=[]};g=Od.prototype;g.H=function(){return this.d-this.a};g.J=function(){return 0==this.d-this.a};g.clear=function(){this.d=this.a=this.b.length=0};g.contains=function(a){return 0<=Da(this.b,a)};g.s=function(){return this.b.slice(this.a,this.d)};var Pd={oc:"Image",kc:"Flash",jb:"All"},Qd={lc:"Html",mc:"IFrame",Ac:"Static",jb:"All"},Rd={nc:"IgnoreSize",wc:"SelectExactMatch",xc:"SelectNearMatch"};var Sd=!1,Td=function(a){a.match(/[\d]+/g).length=3};
if(navigator.plugins&&navigator.plugins.length){var Ud=navigator.plugins["Shockwave Flash"];Ud&&(Sd=!0,Ud.description&&Td(Ud.description));navigator.plugins["Shockwave Flash 2.0"]&&(Sd=!0)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Vd=navigator.mimeTypes["application/x-shockwave-flash"];(Sd=Vd&&Vd.enabledPlugin)&&Td(Vd.enabledPlugin.description)}else try{var Wd=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),Sd=!0;Td(Wd.GetVariable("$version"))}catch(Xd){try{Wd=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
Sd=!0}catch(Yd){try{Wd=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Sd=!0,Td(Wd.GetVariable("$version"))}catch(Zd){}}}var $d=Sd;var ae=function(a,b){if(null==a||0>=a.width||0>=a.height)throw od(nd,null,"ad slot size",a.toString());this.a=a;var c=null!=b?b:{};this.d=null!=c.resourceType&&bb(Qd,c.resourceType)?c.resourceType:"All";this.b=null!=c.creativeType&&bb(Pd,c.creativeType)?c.creativeType:"All";this.f=null!=c.sizeCriteria&&bb(Rd,c.sizeCriteria)?c.sizeCriteria:"SelectExactMatch";this.e="number"==typeof c.nearMatchPercent&&0<c.nearMatchPercent&&100>=c.nearMatchPercent?c.nearMatchPercent:90},be=function(a,b){var c=[],d=
[];Ea(b,function(a){if(!ja(a.d)&&(isNaN(a.f)||isNaN(a.e)||a.e==a.f)){var b="Flash"==a.b()&&!$d||"All"!=this.d&&this.d!=a.p||null!=a.b()&&"All"!=this.b&&this.b!=a.b()?"DoesNotMatch":"IgnoreSize"==this.f||this.a==a.a||this.a&&a.a&&this.a.width==a.a.width&&this.a.height==a.a.height?"ExactlyMatches":"SelectNearMatch"!=this.f||a.a.width>this.a.width||a.a.height>this.a.height||a.a.width<this.e/100*this.a.width||a.a.height<this.e/100*this.a.height?"DoesNotMatch":"NearlyMatches";"ExactlyMatches"==b?c.push(a):
"NearlyMatches"==b&&d.push(a)}},a);return La(c,d)};var ce=function(a){var b={};Ea(a.split(","),function(a){var d=a.split("=");2==d.length&&(a=ka(d[0]),d=ka(d[1]),0<a.length&&(b[a]=d))});return b};var U=function(){this.g=1;this.d=-1;this.a=1;this.f=this.e=0;this.b=!1};g=U.prototype;g.rb=function(){return this.g};g.ob=function(){return this.d};g.mb=function(){return this.a};g.pb=function(){return this.e};g.qb=function(){return this.f};g.nb=function(){return this.b};var V=function(a){this.d=a.content;this.g=a.contentType;this.a=a.size;this.e=a.masterSequenceNumber;this.p=a.resourceType;this.f=a.sequenceNumber};V.prototype.h=function(){return this.d};V.prototype.b=function(){return this.g};V.prototype.m=function(){return this.a.width};V.prototype.j=function(){return this.a.height};var W=function(a){this.a=a};g=W.prototype;g.sb=function(){return this.a.adId};g.ub=function(){return this.a.adSystem};g.Ga=function(){return this.a.clickThroughUrl};g.Ab=function(){return this.a.adWrapperIds};g.Bb=function(){return this.a.adWrapperSystems};g.Cb=function(){return this.a.linear};g.Db=function(){return this.a.skippable};g.ua=function(){return this.a.duration};g.zb=function(){return this.a.width};g.wb=function(){return this.a.height};
g.tb=function(){var a=this.a.adPodInfo,b=new U;b.e=a.podIndex;b.f=a.timeOffset;b.g=a.totalAds;b.a=a.adPosition;b.b=a.isBumper;b.d=a.maxDuration;return b};g.vb=function(a,b,c){var d=Ia(this.a.companions,function(a){return new V(a)});return be(new ae(new ua(a,b),c),d)};g.xb=function(){return ce(null==this.a.traffickingParameters?"":String(this.a.traffickingParameters))};g.yb=function(){return this.a.traffickingParameters};var X=function(a,b,c){N.call(this);this.f=a;this.g=null;this.t=c;this.p=!1;this.w=1;this.Q=b;this.m=-1;this.a=this.b=null;this.d=new Od;this.v=!1;this.h=new w;this.j=new Q(this);this.j.i(this.t,"adsManager",this.M)};t(X,N);
X.prototype.M=function(a){switch(a.n){case "error":a=a.o;var b=new J(de(a));if(this.v)this.dispatchEvent(b),this.b=null;else{var c=this.d;c.b[c.d++]=b}id(P.getInstance(),7,{error:a.errorCode},!0);break;case "allAdsCompleted":ee(this,a.n,a.o);this.wa();break;case "remainingTime":b=a.o;this.m=b.remainingTime;break;case "skip":ee(this,a.n,a.o);break;case "log":b=a.o;ee(this,a.n,b.adData,b.logData);break;case "companionBackfill":a=aa("window.google_show_companion_ad");null!=a&&a();break;case "skipshown":this.p=
!0;ee(this,a.n,a.o);break;default:ee(this,a.n,a.o)}};
var ee=function(a,b,c,d){if(null==c.companions){var e=a.h.get(c.adId);c.companions=null!=e?e:[]}e=null!=c.adData?new W(c.adData):null;switch(b){case "adMetadata":b=null;null!=c.adCuePoints&&(b=new ld(c.adCuePoints));b=new qd(e,b);break;case "loaded":a.b=e;a.m=e.ua();b=new R(b,e,c.adData);break;case "start":v(a.h,c.adId,c.companions);null!=fe(a.f)&&(null!=a.a?Ld(a.a):(a.a=new T,a.j.i(a.a,"click",a.fb)),Kd(a.a,fe(a.f)));b=new R(b,e);break;case "complete":null!=a.a&&Ld(a.a);a.b=null;gb(a.h,c.adId);b=
new R(b,e);break;case "log":c={adError:de(d)};b=new R(b,e,c);break;default:b=new R(b,e)}a.dispatchEvent(b)},de=function(a){var b=new G(a.type,a.errorMessage,a.errorCode);null!=a.innerError&&(b.a=Error(a.innerError));return b},Y=function(a,b,c){ge(a.t,"adsManager",b,c)};g=X.prototype;g.hb=function(){Y(this,"contentTimeUpdate",{currentTime:this.N.currentTime})};g.Ob=function(){Y(this,"sendImpressionUrls")};
g.Lb=function(a,b,c){if(this.d.J())this.v=!0,this.va(a,b,c),Y(this,"init",{width:a,height:b,viewMode:c});else{for(;!this.d.J();)a=this.d,a.a!=a.d?(b=a.b[a.a],delete a.b[a.a],a.a++,a=b):a=void 0,this.dispatchEvent(a);this.l()}};g.Jb=function(){return this.m};g.Gb=function(){return this.p};g.Rb=function(){Y(this,"skip")};g.Sb=function(){this.f.e.b.style.opacity=1;Y(this,"start")};g.fb=function(){if((null==this.g||!this.g.disableClickThrough)&&null!=this.b){var a=this.b.Ga();null!=a&&window.open(a,"_blank")}};
g.va=function(a,b,c){var d=this.f;-1==a?d.b.style.right=0:d.b.style.width=a+"px";-1==b?d.b.style.bottom=0:d.b.style.height=b+"px";d=d.e;d.b.width=-1==a?"100%":a;d.b.height=-1==b?"100%":b;Y(this,"resize",{width:a,height:b,viewMode:c})};g.Tb=function(){Y(this,"stop")};g.Fb=function(){Y(this,"expand")};g.Eb=function(){Y(this,"collapse")};g.Kb=function(){return this.w};g.Qb=function(a){this.w=a;var b=this.f.d;null!=b&&b.fa(a);Y(this,"volume",{volume:a})};g.Pb=function(a){Y(this,"mediaUrl",{mediaUrl:a})};
g.Mb=function(){Y(this,"pause")};g.Nb=function(){Y(this,"resume")};g.wa=function(){this.l()};g.kb=function(){return!1};g.Hb=function(){return this.Q};g.Ib=function(){return this.b};g.k=function(){Y(this,"destroy");null!=this.a&&this.a.l();this.j.l();this.d.clear();this.e&&(dd(this.e.a),this.e.l());X.q.k.call(this)};var he=function(){};he.prototype.disableClickThrough=!1;he.prototype.mimeTypes=null;var Z=function(a,b,c){H.call(this,"adsManagerLoaded");this.d=a;this.e=b;this.j=c||""};t(Z,H);Z.prototype.f=function(a,b){var c=this.d;c.N=a;null!=b&&(c.g=b);null!=a.currentTime&&(c.e=new pd(a),c.e.i("currentTimeUpdate",c.hb,!1,c),cd(c.e.a));var d={};null!=b&&db(d,b);Y(c,"configure",{adsRenderingSettings:d});return this.d};Z.prototype.h=function(){return this.e};Z.prototype.g=function(){return this.j};var ie=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);},je=function(){},le=function(a,b,c){switch(typeof b){case "string":ke(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);
break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(q(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),le(a,b[f],c),e=",";c.push("]");break}c.push("{");d="";for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f=b[e],"function"!=typeof f&&(c.push(d),ke(e,c),c.push(":"),le(a,f,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}},me={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n",
"\r":"\\r","\t":"\\t","\x0B":"\\u000b"},ne=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,ke=function(a,b){b.push('"',a.replace(ne,function(a){if(a in me)return me[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return me[a]=e+b.toString(16)}),'"')};var oe=function(a){N.call(this);this.b=a||"goog_"+sa++;this.a=[]};t(oe,N);oe.prototype.f=!1;var qe=function(a){for(a.f=!0;0!=a.a.length;){var b=a.a.shift();pe(a,b.name,b.type,b.data)}},ge=function(a,b,c,d){a.f?pe(a,b,c,d):a.a.push({name:b,type:c,data:d})},re=function(a,b,c,d,e){H.call(this,a);this.n=b;this.o=c;this.T=d;this.ta=e};t(re,H);re.prototype.toString=function(){return""};var se=function(a,b){oe.call(this,b);this.d=a;this.r=null;this.e=new Q(this);this.e.i(L(),"message",this.g)};t(se,oe);var te=function(a){if(null==a||!r(a)||0!=a.lastIndexOf("ima://",0))return null;a=a.substr(6);try{return ie(a)}catch(b){return null}},pe=function(a,b,c,d){null!=a.r&&null!=a.r.postMessage&&a.r.postMessage(ue(a,b,c,d),"*");null!=a.r&&null==a.r.postMessage&&id(P.getInstance(),11)};se.prototype.k=function(){this.e.l();se.q.k.call(this)};
se.prototype.g=function(a){a=a.O;var b=te(a.data);if(null!=b){if(null==this.r)this.r=a.source;else if(this.r!=a.source)return;var c=b.channel;null!=c&&c==this.d&&(c=b.sid,null!=c&&("*"!=this.b&&c!=this.b||this.dispatchEvent(new re(b.name,b.type,b.data||{},b.sid,a.origin))))}};var ue=function(a,b,c,d){var e={};e.name=b;e.type=c;null!=d&&(e.data=d);e.sid=a.b;e.channel=a.d;a=[];le(new je,e,a);return"ima://"+a.join("")};var ve=function(a,b){N.call(this);this.e=a;this.d=b;this.a={};this.b=new Q(this);this.b.i(L(),"message",this.f)};t(ve,N);var we=function(a,b){var c=b.d;a.a.hasOwnProperty(c)&&ge(a.a[c],b.type,b.n,b.o)},ye=function(a,b,c,d){a.a.hasOwnProperty(b)||(c=new se(b,c),a.b.i(c,a.e,function(a){this.dispatchEvent(new xe(a.type,a.n,a.o,a.T,a.ta,b))}),c.r=d,qe(c),a.a[b]=c)};ve.prototype.k=function(){this.b.l();ec(this.a);ve.q.k.call(this)};
ve.prototype.f=function(a){a=a.O;var b=te(a.data);if(null!=b){var c=b.channel;if(this.d&&!this.a.hasOwnProperty(c)){var d=b.sid;ye(this,c,d,a.source);this.dispatchEvent(new xe(b.name,b.type,b.data||{},d,a.origin,c))}}};var xe=function(a,b,c,d,e,f){re.call(this,a,b,c,d,e);this.d=f};t(xe,re);var Ae=function(){var a=aa("google.ima.gptProxyInstance",L());if(null!=a)return a;Q.call(this);this.e=new ve("gpt",!0);this.i(this.e,"gpt",this.g);this.a=null;ze()||L().top===L()||(this.a=new ve("gpt",!1),this.i(this.a,"gpt",this.f))};t(Ae,Q);var ze=function(){return!!aa("googletag.cmd",L())},Be=function(){var a=aa("googletag.console",L());return null!=a?a:null};
Ae.prototype.g=function(a){var b=a.ta,c=Jb("//s0.2mdn.net"),b=Jb(b);if(c[3]==b[3]&&c[4]==b[4])if(null!=this.a)ye(this.a,a.d,a.T,L().parent),null!=this.a&&we(this.a,a);else if(c=a.o,null!=c&&void 0!==c.scope){var b=c.scope,c=c.args,d;if("proxy"==b)c=a.n,"isGptPresent"==c?d=ze():"isConsolePresent"==c&&(d=null!=Be());else if(ze())if("pubads"==b||"companionAds"==b){d=a.n;var e,f=L().googletag;if(null!=f&&null!=f[b]&&(f=f[b](),null!=f&&(d=f[d],null!=d)))try{e=d.apply(f,c)}catch(h){}d=e}else if("console"==
b){if(f=a.n,e=Be(),null!=e&&(f=e[f],null!=f))try{f.apply(e,c)}catch(k){}}else if(null===b){e=a.n;d=L();if(0<=Da(["googleGetCompanionAdSlots","googleSetCompanionAdContents"],e)&&(e=d[e],null!=e))try{f=e.apply(d,c)}catch(n){}d=f}void 0!==d&&(a.o.returnValue=d,we(this.e,a))}};Ae.prototype.f=function(a){we(this.e,a)};var Ce=function(a){var b;t:{b=M(a);if(b.defaultView&&b.defaultView.getComputedStyle&&(b=b.defaultView.getComputedStyle(a,null))){b=b.position||b.getPropertyValue("position")||"";break t}b=""}return b||(a.currentStyle?a.currentStyle.position:null)||a.style&&a.style.position},De=function(a){if(y&&!(y&&8<=Gb))return a.offsetParent;var b=M(a),c=Ce(a),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Ce(a),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||
a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null};var Ge=function(a,b){N.call(this);this.e=new Q(this);this.j=!1;this.m="goog_"+sa++;var c=tc("iframe",{src:("https:"==document.location.protocol?"https:":"http:")+"//s0.2mdn.net/instream/html5/bridge3.1.33.html#"+this.m,style:"border:0; opacity:0; margin:0; padding:0;"});kd(this.e,c,"load",this.Na);a.appendChild(c);this.b=c;this.f=new w;this.g=Ee(this);this.h=b;this.a=this.h.d;this.d=null;this.e.i(this.g,"mouse",this.Pa);null!=this.a&&(this.e.i(this.g,"displayContainer",this.Oa),this.e.i(this.g,"videoDisplay",
this.Qa),this.e.i(this.a,Fa(Fe),this.Ra));var c=L(),d=aa("google.ima.gptProxyInstance",c);null==d&&(d=new Ae,m("google.ima.gptProxyInstance",d,c))};t(Ge,N);var Ee=function(a,b){var c=b||"*",d=a.f.get(c);null==d&&(d=new se(a.m,c),a.j&&(d.r=a.b.contentWindow||L(a.b.contentDocument||a.b.contentWindow.document),qe(d)),v(a.f,c,d));return d};g=Ge.prototype;g.k=function(){this.e.l();null!==this.d&&(this.d.l(),this.d=null);Xa(this.f.P(!1),function(a){a.l()});this.f.clear();vc(this.b);Ge.q.k.call(this)};
g.Pa=function(a){var b=a.o;var c=this.b,d,e=M(c),f=Ce(c),h=z&&e.getBoxObjectFor&&!c.getBoundingClientRect&&"absolute"==f&&(d=e.getBoxObjectFor(c))&&(0>d.screenX||0>d.screenY),k=new mc(0,0),n;d=e?M(e):document;(n=!y)||(n=y&&9<=Gb)||(n="CSS1Compat"==(d?new xc(M(d)):ha||(ha=new xc)).a.compatMode);n=n?d.documentElement:d.body;if(c!=n)if(c.getBoundingClientRect){i:{var p;try{p=c.getBoundingClientRect()}catch(I){d={left:0,top:0,right:0,bottom:0};break i}y&&c.ownerDocument.body&&(d=c.ownerDocument,p.left-=
d.documentElement.clientLeft+d.body.clientLeft,p.top-=d.documentElement.clientTop+d.body.clientTop);d=p}c=(e?new xc(M(e)):ha||(ha=new xc)).a;e=sb||"CSS1Compat"!=c.compatMode?c.body||c.documentElement:c.documentElement;c=c.parentWindow||c.defaultView;e=y&&A("10")&&c.pageYOffset!=e.scrollTop?new mc(e.scrollLeft,e.scrollTop):new mc(c.pageXOffset||e.scrollLeft,c.pageYOffset||e.scrollTop);k.x=d.left+e.x;k.y=d.top+e.y}else if(e.getBoxObjectFor&&!h)d=e.getBoxObjectFor(c),e=e.getBoxObjectFor(n),k.x=d.screenX-
e.screenX,k.y=d.screenY-e.screenY;else{d=c;do{k.x+=d.offsetLeft;k.y+=d.offsetTop;d!=c&&(k.x+=d.clientLeft||0,k.y+=d.clientTop||0);if(sb&&"fixed"==Ce(d)){k.x+=e.body.scrollLeft;k.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(rb||sb&&"absolute"==f)k.y-=e.body.offsetTop;for(d=c;(d=De(d))&&d!=e.body&&d!=n;)k.x-=d.scrollLeft,rb&&"TR"==d.tagName||(k.y-=d.scrollTop)}d=document.createEvent("MouseEvent");d.initMouseEvent(a.n,!0,!0,window,b.detail,b.screenX,b.screenY,b.clientX+k.x,b.clientY+
k.y,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,null);if(!Ed||x||ub||!1==document.webkitIsFullScreen)this.b.blur(),window.focus();this.b.dispatchEvent(d)};
g.Qa=function(a){if(null!=this.a){var b=a.o;switch(a.n){case "startTracking":this.a.za();break;case "stopTracking":this.a.L();break;case "exitFullscreen":this.a.xa();break;case "play":this.a.da();break;case "pause":this.a.ya();break;case "load":this.a.Ba(b.videoUrl,b.mimeType);break;case "setCurrentTime":this.a.U(b.currentTime);break;case "setPlaybackOptions":a=b.playbackOptions,this.a.Aa(new He(a.adFormat,a.adSenseAgcid,a.showAnnotations,a.viewCountsDisabled))}}};
g.Ra=function(a){var b={};switch(a.type){case "beginFullscreen":a="fullscreen";break;case "click":a="click";break;case "end":a="end";break;case "error":a="error";break;case "pause":a="pause";b.ended=this.a.Ea();break;case "play":a="play";break;case "skip":a="skip";break;case "start":a="start";break;case "timeUpdate":a="timeupdate";b.currentTime=this.a.ca();b.duration=this.a.Ca();break;case "volumeChange":a="volumeChange";b.volume=this.a.Da();break;default:return}ge(this.g,"videoDisplay",a,b)};
g.Oa=function(a){switch(a.n){case "showVideo":null!=this.d?Ld(this.d):(this.d=new T,this.e.i(this.d,"click",this.gb));Kd(this.d,fe(this.h));a=this.h;null!=a.a&&(a=a.a.a,null!=a&&(a.style.display="block"));break;case "hide":null!==this.d&&(this.d.l(),this.d=null),a=this.h,null!=a.a&&(a=a.a.a,null!=a&&(a.style.display="none"))}};g.gb=function(){ge(this.g,"displayContainer","videoClick")};
g.Na=function(){Xa(this.f.P(!1),function(a){a.r=this.b.contentWindow||L(this.b.contentDocument||this.b.contentWindow.document);qe(a)},this);this.j=!0};(function(){if(!$a(function(a){return a.match(L().location.href)})){var a=pc();if(null==Ka(a,function(a){return $a(function(c){return c.match(a.src)})}))throw Error("IMA SDK is either not loaded from a google domain or is not a supported version.");}})();var $=function(a){N.call(this);this.a=a;this.b=new K;this.e=new w;this.d=this.a.e;this.f=new Q(this)};t($,N);g=$.prototype;g.k=function(){this.f.l();$.q.k.call(this)};g.Zb=function(){this.l()};
g.ac=function(a,b){var c,d;try{d=window.top.location.href}catch(e){d=window.location.href}a.location=d;a.referrer=window.document.referrer;d=a.adTagUrl;var f;if(f=null!=d){f=d.search(Kb);var h;n:{for(h=0;0<=(h=d.indexOf("client",h))&&h<f;){var k=d.charCodeAt(h-1);if(38==k||63==k)if(k=d.charCodeAt(h+6),!k||61==k||38==k||35==k)break n;h+=7}h=-1}if(0>h)d=null;else{k=d.indexOf("&",h);if(0>k||k>f)k=f;h+=7;d=decodeURIComponent(d.substr(h,k-h).replace(/\+/g," "))}f="ca-pub-6219811747049371"!=d}f?d=null:
(d=aa("window.yt.www.watch.activity.getTimeSinceActive"),d=null!=d?d():null);null!=d&&(a.lastActivity=d);null!=a.adTagUrl?(d=new B(a.adTagUrl),d="googleads.g.doubleclick.net"==d.u&&"/pagead/ads"==d.I):d=!1;if(d){d=window;f=Ba().document;h={};c=k=window;for(var n=0;k!=k.parent;)k=k.parent,n++,ya(k)&&(c=k);k=c;if(ac())c=!0;else if(c=k.location.href,k==k.top)c=!0;else{var n=!1,p=k.document;p&&p.referrer&&(c=p.referrer,k.parent==k.top&&(n=!0));(p=k.location.ancestorOrigins)&&(p=p[p.length-1])&&-1==c.indexOf(p)&&
(n=!1);c=n}t:{var n=Ba(),p=d.Ta||n.Ta,I=d.Sa||n.Sa;if(n.top==n)n=!1;else{var D=f.documentElement;if(p&&I){var E=1,Eb=1;n.innerHeight?(E=n.innerWidth,Eb=n.innerHeight):D&&D.clientHeight?(E=D.clientWidth,Eb=D.clientHeight):f.body&&(E=f.body.clientWidth,Eb=f.body.clientHeight);if(Eb>2*I||E>2*p){n=!1;break t}}n=!0}}p=Ba();I=p.top==p?0:ya(p.top)?1:2;p=4;n||1!=I?n||2!=I?n&&1==I?p=7:n&&2==I&&(p=8):p=6:p=5;I=!!d.ba&&!$b();p+=5*I;c&&(p|=16);h.ec=""+p;if(!d.R&&"ad.yieldmanager.com"==f.domain){for(c=f.URL.substring(f.URL.lastIndexOf("http"));-1<
c.indexOf("%");)try{c=decodeURIComponent(c)}catch(Ue){break}d.R=c}!ac()&&d.R?(h.qa=d.R,h.Va=bc(f,n)||"EMPTY"):(h.qa=bc(f,n),h.Va=null);h.fc=f.URL==h.qa?Date.parse(f.lastModified)/1E3:null;$b()?h.Wa=k==k.top?k.document.referrer:ac(!0)||"":h.Wa=ac()?"":n?d.ba:d.R&&d.ba?d.ba:f.referrer;a.adSenseParams=h}f="goog_"+sa++;v(this.e,f,b||null);d={};db(d,a);d.settings={allowVpaid:this.b.a,companionBackfill:this.b.oa(),numRedirects:4,ppid:this.b.pa()};h=this.a.d;d.videoEnvironment={supportedMimeTypes:null!=
h?h.na():null,usesCustomVideoPlayback:this.a.m()};f=Ee(this.d,f);this.f.i(f,"adsLoader",this.Ua);ge(f,"adsLoader","requestAds",d)};g.$b=function(){return this.b};g.Yb=function(){ge(Ee(this.d),"adsLoader","contentComplete")};
g.Ua=function(a){switch(a.n){case "adsLoaded":var b=a.o;a=a.T;var c=new X(this.a,b.adCuePoints,Ee(this.d,a));this.dispatchEvent(new Z(c,this.e.get(a),b.response));break;case "error":b=a.o,a=a.T,c=new G(b.type,b.errorMessage,b.errorCode),null!=b.innerError&&(c.a=Error(b.innerError)),this.dispatchEvent(new J(c,this.e.get(a))),id(P.getInstance(),7,{error:b.errorCode},!0)}};var Ie=function(a){if(null==a||!wc(M(a),a))throw od(nd,null,"containerElement","element");this.e=a;this.d=this.b=this.a=null;this.a=tc("div",{style:"display:none;"});this.b=tc("video",{style:"background-color:#000;position:absolute;width:100%;height:100%;"});this.d=tc("div",{style:"position:absolute;width:100%;height:100%;"});this.e.appendChild(this.a);this.a.appendChild(this.b);this.a.appendChild(this.d)};t(Ie,cc);Ie.prototype.l=function(){vc(this.a)};var Je=function(a){this.b=0;this.d=a||100;this.a=[]};g=Je.prototype;g.get=function(a){if(a>=this.a.length)throw Error("Out of bounds exception");a=this.a.length<this.d?a:(this.b+Number(a))%this.d;return this.a[a]};g.H=function(){return this.a.length};g.J=function(){return 0==this.a.length};g.clear=function(){this.b=this.a.length=0};g.s=function(){for(var a=this.H(),b=this.H(),c=[],a=this.H()-a;a<b;a++)c[a]=this.get(a);return c};g.B=function(){for(var a=[],b=this.H(),c=0;c<b;c++)a[c]=c;return a};var He=function(a,b,c,d){this.a=a;this.b=b;this.d=c;this.e=d};var Ke=function(){N.call(this)};t(Ke,N);var Fe={gc:"beginFullscreen",CLICK:"click",hc:"end",ic:"endFullscreen",jc:"error",uc:"pause",vc:"play",yc:"skip",zc:"start",Cc:"timeUpdate",Dc:"volumeChange"};var Le=function(a){N.call(this);this.a=a;this.j=new Je(4);this.g=this.e=!1;this.h=this.ga();this.m=this.ha()};t(Le,Ke);g=Le.prototype;g.na=function(){return Ha(function(a){return!ja(this.a.canPlayType(a))},this)};g.Aa=function(){};g.Ba=function(a){this.g=this.e=!1;this.j.clear();this.a.src=a;this.a.load()};g.Ca=function(){return isNaN(this.a.duration)?-1:this.a.duration};g.fa=function(a){this.a.volume=a};g.Da=function(){return this.a.volume};g.da=function(){ed(this.a.play,0,this.a)};g.ya=function(){this.a.pause()};
g.xa=function(){x&&this.a.webkitSupportsFullscreen&&this.a.webkitDisplayingFullscreen&&this.a.webkitExitFullscreen()};g.ha=function(){if(x)return this.a.webkitSupportsFullscreen&&this.a.webkitDisplayingFullscreen;var a=window.screen.availHeight||window.screen.height;return this.a.offsetWidth>=(window.screen.availWidth||window.screen.width)&&this.a.offsetHeight>=a};g.U=function(a){this.a.currentTime=a};g.ca=function(){return this.a.currentTime};g.Ea=function(){return this.a.ended};
g.ga=function(){return new ua(this.a.offsetWidth,this.a.offsetHeight)};g.k=function(){this.L();this.a=null;Le.q.k.call(this)};
g.za=function(){this.L();this.b=new Q(this);this.b.i(this.a,"canplay",this.Ya);this.b.i(this.a,"ended",this.Za);this.b.i(this.a,"webkitbeginfullscreen",this.aa);this.b.i(this.a,"webkitendfullscreen",this.sa);this.b.i(this.a,"pause",this.bb);this.b.i(this.a,"playing",this.ra);this.b.i(this.a,"timeupdate",this.cb);this.b.i(this.a,"volumechange",this.eb);this.b.i(this.a,"error",this.$a);this.d=new T;this.b.i(this.d,"click",this.Xa,!1);Kd(this.d,this.a);this.f=new O(1E3);this.b.i(this.f,"tick",this.ab,
!1,this);cd(this.f)};g.L=function(){null!=this.d&&(Ld(this.d),this.d=null);null!=this.f&&this.f.l();null!=this.b&&(this.b.l(),this.b=null);this.g=this.e=!1;this.j.clear()};var Me=function(a){a.e||(a.e=!0,a.dispatchEvent("start"),(!nb||nb&&Jd(Id,3))&&(!x||(x||ub)&&Jd(Hd,4))||a.aa())};g=Le.prototype;g.Ya=function(){Ed&&!this.g&&(this.U(0.001),this.g=!0)};g.ra=function(){this.dispatchEvent("play");x||ub||Me(this)};
g.cb=function(){this.e||((x||ub)&&0<this.ca()&&Me(this),z&&this.ra());var a=this.j;a.a[a.b]=this.a.currentTime;a.b=(a.b+1)%a.d;this.dispatchEvent("timeUpdate")};g.eb=function(){this.dispatchEvent("volumeChange")};g.bb=function(){this.dispatchEvent("pause")};g.Za=function(){this.dispatchEvent("end")};g.aa=function(){this.dispatchEvent("beginFullscreen")};g.sa=function(){this.dispatchEvent("endFullscreen")};g.$a=function(a){yd&&null==a.O.target.error||this.dispatchEvent("error")};g.Xa=function(){this.dispatchEvent("click")};
g.ab=function(){var a=this.ga(),b=this.ha();if(a.width!=this.h.width||a.height!=this.h.height)!this.m&&b?this.aa():this.m&&!b&&this.sa(),this.h=a};var Ne=function(a){if(ja(null==a?"":String(a)))return null;var b=a.match(/^https?:\/\/[^\/]*youtu\.be\/([a-zA-Z0-9_-]+)$/);if(null!=b&&2==b.length)return b[1];b=a.match(/^https?:\/\/[^\/]*youtube.com\/video\/([a-zA-Z0-9_-]+)$/);if(null!=b&&2==b.length)return b[1];b=a.match(/^https?:\/\/[^\/]*youtube.com\/watch\/([a-zA-Z0-9_-]+)$/);if(null!=b&&2==b.length)return b[1];a=(new B(a)).a;return Zb(a,"v")?a.get("v").toString():Zb(a,"video_id")?a.get("video_id").toString():null};var Pe=function(a){N.call(this);this.v=new Q(this);this.d=null;this.w=!1;this.g=-1;this.j=!1;this.e=-1;this.f=this.h=this.m=null;this.t="";this.b=!1;this.M=null!=a;this.N=this.p=this.a=null;null!=a?(this.b=!0,this.a=a):(a={dc:Oe,cc:{onError:s(this.Ma,this),onReady:s(this.la,this),onStateChange:s(this.ma,this)}},this.a=new YT.Player("ima-chromeless-video",a))};t(Pe,Ke);var Oe={el:"adunit",controls:0,html5:1};g=Pe.prototype;g.Aa=function(a){this.f=a};
g.Ba=function(a,b){null!==a&&(this.t=a,this.b?Qe(this,a,b):(this.m=a,this.h=b))};g.Ca=function(){return this.b?this.a.getDuration():-1};g.fa=function(a){this.M?this.dispatchEvent("volumeChange"):this.b?(a=Math.min(Math.max(a/100,0),1),this.a.setVolume(a),this.e=-1,this.dispatchEvent("volumeChange")):this.e=a};g.Da=function(){return this.b?100*this.a.getVolume():this.e};
g.da=function(){ja(null==this.t?"":String(this.t))||(this.b?(this.j=!1,Re(this),this.d=new O(100),this.v.i(this.d,"tick",this.Q),cd(this.d),this.a.playVideo()):this.j=!0)};g.ya=function(){this.b&&(Re(this),this.a.pauseVideo())};g.xa=function(){};g.ha=function(){return!1};g.U=function(a){this.b?this.a.seekTo(a,!1):this.g=a};g.ca=function(){return this.b?this.a.getCurrentTime():-1};g.na=function(){return Fa(Ga)};g.Ea=function(){return this.b?0==this.a.getPlayerState():!1};
g.ga=function(){var a=document.getElementById("ima-chromeless-video");return new ua(a.offsetWidth,a.offsetHeight)};g.za=function(){this.p=s(this.la,this);this.N=s(this.ma,this);this.M&&(this.a.addEventListener("onReady",this.p),this.a.addEventListener("onStateChange",this.N))};g.L=function(){this.M&&(this.a.removeEventListener("onReady",this.p),this.a.removeEventListener("onStateChange",this.N))};
var Qe=function(a,b,c){var d={};if(null!=a.f){d.iv_load_policy=a.f.d?1:3;var e=a.f.b;null!=e&&(d.agcid=e);e=a.f.a;null!=e&&(d.adformat=e);a.f.e&&(d.utpsa=1)}if(null!=b)if(kc(fc,b))e=b.match(/yt_vid\/([a-zA-Z0-9_-]{11})/),e=null!=e&&1<e.length?e[1]:null;else{if(null==b)e=!1;else if(kc(gc,b))e=!0;else{var e=(new B(b)).a,f;f=Tb(new B(b));if(f=null!=f?ia(f,".corp.google.com")||"corp.google.com"==f:!1)f=null!=e.get("forceYouTubeLoad");e=f}e=e?Ne(b):null}else e=null;null===e?d.url_encoded_third_party_media=
"url="+encodeURIComponent(b)+"&type="+encodeURIComponent(null===c?"":c):d.videoId=e;a.a.cueVideoByPlayerVars(d)};Pe.prototype.Ma=function(){this.dispatchEvent("error")};Pe.prototype.la=function(){this.b=!0;-1!=this.e&&(this.fa(this.e),this.e=-1);null!=this.m&&(Qe(this,this.m,this.h),this.h=this.m=null);-1!=this.g&&(this.U(this.g),this.g=-1);this.j&&this.da()};Pe.prototype.ma=function(a){switch(a.data){case 0:this.dispatchEvent("end");break;case 1:this.w||(this.w=!0,this.dispatchEvent("start"));case 2:this.dispatchEvent("pause")}};
var Re=function(a){a.v.$(a.d,"tick",a.Q);null!=a.d&&(dd(a.d),a.d=null)};Pe.prototype.Q=function(){this.dispatchEvent("timeUpdate")};Pe.prototype.k=function(){Re(this);this.L();this.b=!1;this.v.l();this.g=-1;this.h=null;this.j=!1;this.e=-1;this.p=this.a=null;this.w=!1;this.t=""};var Se=function(a,b,c,d){if(null==a||!wc(M(a),a))throw od(nd,null,"containerElement","element");(this.g=null!=b||null!=d)&&id(P.getInstance(),8,{customClick:null!=c});var e=tc("div",{style:"position:absolute; top:0px; left:0px"});a.insertBefore(e,a.firstChild);this.b=e;this.a=null==b&&(x||ub||nb)?new Ie(this.b):null;this.d=null;null!=b?this.d=new Le(b):null!=d?this.d=new Pe(d):null!=this.a&&(this.d=new Le(this.a.b));this.f=c||b||null;this.e=new Ge(this.b,this)};
Se.prototype.j=function(){null!=this.a&&(x||ub||nb)&&this.a.b.load()};Se.prototype.h=function(){dc(this.a);dc(this.e);dc(this.d);vc(this.b)};var fe=function(a){return null!=a.f?a.f:null!=a.a?a.a.d:null};Se.prototype.m=function(){return this.g};var Te=function(){};g=Te.prototype;
g.D=function(){var a=new Te;a.adTagUrl=this.adTagUrl;var b=this.adSenseParams,c={},d;for(d in b)c[d]=b[d];a.adSenseParams=c;a.adsResponse=this.adsResponse;a.isYouTube=this.isYouTube;a.location=this.location;a.a=this.a;a.b=this.b;a.language=this.language;a.linearAdSlotWidth=this.linearAdSlotWidth;a.linearAdSlotHeight=this.linearAdSlotHeight;a.nonLinearAdSlotWidth=this.nonLinearAdSlotWidth;a.nonLinearAdSlotHeight=this.nonLinearAdSlotHeight;a.useLatestAdsLoader=this.useLatestAdsLoader;a.youTubeAdType=
this.youTubeAdType;a.youTubeExperimentIds=this.youTubeExperimentIds;a.youTubeVideoAdStartDelay=this.youTubeVideoAdStartDelay;return a};g.adSenseParams=null;g.linearAdSlotWidth=0;g.linearAdSlotHeight=0;g.nonLinearAdSlotWidth=0;g.nonLinearAdSlotHeight=0;g.useLatestAdsLoader=!1;g.youTubeVideoAdStartDelay=0;W.prototype.getClickThroughUrl=W.prototype.Ga;W.prototype.getCompanionAds=W.prototype.vb;W.prototype.isLinear=W.prototype.Cb;W.prototype.isSkippable=W.prototype.Db;W.prototype.getAdId=W.prototype.sb;W.prototype.getAdSystem=W.prototype.ub;W.prototype.getDuration=W.prototype.ua;W.prototype.getHeight=W.prototype.wb;W.prototype.getWidth=W.prototype.zb;W.prototype.getWrapperAdIds=W.prototype.Ab;W.prototype.getWrapperAdSystems=W.prototype.Bb;W.prototype.getTraffickingParameters=W.prototype.xb;
W.prototype.getTraffickingParametersString=W.prototype.yb;W.prototype.getAdPodInfo=W.prototype.tb;ld.prototype.getCuePoints=ld.prototype.a;m("google.ima.AdCuePoints.PREROLL",0,window);m("google.ima.AdCuePoints.POSTROLL",-1,window);m("google.ima.AdDisplayContainer",Se,window);Se.prototype.initialize=Se.prototype.j;Se.prototype.destroy=Se.prototype.h;U.prototype.getPodIndex=U.prototype.pb;U.prototype.getTimeOffset=U.prototype.qb;U.prototype.getTotalAds=U.prototype.rb;U.prototype.getMaxDuration=U.prototype.ob;
U.prototype.getAdPosition=U.prototype.mb;U.prototype.getIsBumper=U.prototype.nb;m("google.ima.AdError.ErrorCode.VIDEO_ELEMENT_USED",1201,window);m("google.ima.AdError.ErrorCode.VIDEO_ELEMENT_REQUIRED",1202,window);m("google.ima.AdError.ErrorCode.VIDEO_PLAY_ERROR",400,window);m("google.ima.AdError.ErrorCode.FAILED_TO_REQUEST_ADS",1005,window);m("google.ima.AdError.ErrorCode.REQUIRED_LISTENERS_NOT_ADDED",1006,window);m("google.ima.AdError.ErrorCode.VAST_LOAD_TIMEOUT",301,window);
m("google.ima.AdError.ErrorCode.VAST_INVALID_URL",303,window);m("google.ima.AdError.ErrorCode.VAST_MALFORMED_RESPONSE",100,window);m("google.ima.AdError.ErrorCode.VAST_TOO_MANY_REDIRECTS",302,window);m("google.ima.AdError.ErrorCode.VAST_ASSET_MISMATCH",403,window);m("google.ima.AdError.ErrorCode.VAST_MEDIA_ERROR",900,window);m("google.ima.AdError.ErrorCode.VAST_LINEAR_ASSET_MISMATCH",403,window);m("google.ima.AdError.ErrorCode.VAST_NONLINEAR_ASSET_MISMATCH",503,window);
m("google.ima.AdError.ErrorCode.VAST_ASSET_NOT_FOUND",1007,window);m("google.ima.AdError.ErrorCode.INVALID_ARGUMENTS",1101,window);m("google.ima.AdError.ErrorCode.COMPANION_AD_LOADING_FAILED",603,window);m("google.ima.AdError.ErrorCode.UNKNOWN_AD_RESPONSE",200,window);m("google.ima.AdError.ErrorCode.UNKNOWN_ERROR",900,window);m("google.ima.AdError.ErrorCode.OVERLAY_AD_LOADING_FAILED",502,window);m("google.ima.AdError.ErrorCode.OVERLAY_AD_PLAYING_FAILED",500,window);
m("google.ima.AdError.ErrorCode.ADSLOT_NOT_VISIBLE",1008,window);m("google.ima.AdError.Type.AD_LOAD","adLoadError",window);m("google.ima.AdError.Type.AD_PLAY","adPlayError",window);G.prototype.getErrorCode=G.prototype.Ia;G.prototype.getInnerError=G.prototype.ka;G.prototype.getMessage=G.prototype.Ja;G.prototype.getType=G.prototype.lb;m("google.ima.AdErrorEvent.Type.AD_ERROR","adError",window);J.prototype.getError=J.prototype.f;J.prototype.getUserRequestContext=J.prototype.g;
m("google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED","contentResumeRequested",window);m("google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED","contentPauseRequested",window);m("google.ima.AdEvent.Type.CLICK","click",window);m("google.ima.AdEvent.Type.EXPANDED_CHANGED","expandedChanged",window);m("google.ima.AdEvent.Type.STARTED","start",window);m("google.ima.AdEvent.Type.PAUSED","pause",window);m("google.ima.AdEvent.Type.RESUMED","resume",window);
m("google.ima.AdEvent.Type.FIRST_QUARTILE","firstquartile",window);m("google.ima.AdEvent.Type.MIDPOINT","midpoint",window);m("google.ima.AdEvent.Type.THIRD_QUARTILE","thirdquartile",window);m("google.ima.AdEvent.Type.COMPLETE","complete",window);m("google.ima.AdEvent.Type.USER_CLOSE","userClose",window);m("google.ima.AdEvent.Type.LOADED","loaded",window);m("google.ima.AdEvent.Type.AD_METADATA","adMetadata",window);m("google.ima.AdEvent.Type.ALL_ADS_COMPLETED","allAdsCompleted",window);
m("google.ima.AdEvent.Type.SKIPPED","skip",window);m("google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED","skippableStateChanged",window);m("google.ima.AdEvent.Type.LOG","log",window);R.prototype.type=R.prototype.type;R.prototype.getAd=R.prototype.h;R.prototype.getAdData=R.prototype.j;qd.prototype.getAdCuePoints=qd.prototype.g;m("google.ima.AdsLoader",$,window);$.prototype.getSettings=$.prototype.$b;$.prototype.requestAds=$.prototype.ac;$.prototype.contentComplete=$.prototype.Yb;
$.prototype.destroy=$.prototype.Zb;m("google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED","adsManagerLoaded",window);Z.prototype.getAdsManager=Z.prototype.f;Z.prototype.getUserRequestContext=Z.prototype.h;Z.prototype.getResponse=Z.prototype.g;m("google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE","Image",void 0);m("google.ima.CompanionAdSelectionSettings.CreativeType.FLASH","Flash",void 0);m("google.ima.CompanionAdSelectionSettings.CreativeType.ALL","All",void 0);
m("google.ima.CompanionAdSelectionSettings.ResourceType.HTML","Html",void 0);m("google.ima.CompanionAdSelectionSettings.ResourceType.IFRAME","IFrame",void 0);m("google.ima.CompanionAdSelectionSettings.ResourceType.STATIC","Static",void 0);m("google.ima.CompanionAdSelectionSettings.ResourceType.ALL","All",void 0);m("google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE","IgnoreSize",void 0);m("google.ima.CompanionAdSelectionSettings.SizeCriteria.SELECT_EXACT_MATCH","SelectExactMatch",void 0);
m("google.ima.CompanionAdSelectionSettings.SizeCriteria.SELECT_NEAR_MATCH","SelectNearMatch",void 0);m("google.ima.CustomContentLoadedEvent.Type.CUSTOM_CONTENT_LOADED","deprecated-event",window);m("ima.ImaSdkSettings",K,window);K.prototype.setCompanionBackfill=K.prototype.Vb;K.prototype.getCompanionBackfill=K.prototype.oa;K.prototype.setCompetitiveExclusion=K.prototype.Wb;K.prototype.getCompetitiveExclusion=K.prototype.Ub;K.prototype.setPpid=K.prototype.Xb;K.prototype.getPpid=K.prototype.pa;
K.prototype.setVpaidAllowed=K.prototype.bc;m("google.ima.ImaSdkSettings.CompetitiveExclusionMode.ON",!0,void 0);m("google.ima.ImaSdkSettings.CompetitiveExclusionMode.OFF",!1,void 0);m("google.ima.ImaSdkSettings.CompanionBackfillMode.ALWAYS","always",void 0);m("google.ima.ImaSdkSettings.CompanionBackfillMode.ON_MASTER_AD","on_master_ad",void 0);m("google.ima.AdsRenderingSettings",he,window);m("google.ima.AdsRenderingSettings.AUTO_SCALE",-1,window);m("google.ima.AdsRequest",Te,window);
m("google.ima.VERSION","3.1.33",void 0);m("google.ima.ViewMode.NORMAL","normal",void 0);m("google.ima.ViewMode.FULLSCREEN","fullscreen",void 0);X.prototype.destroy=X.prototype.wa;X.prototype.init=X.prototype.Lb;X.prototype.start=X.prototype.Sb;X.prototype.stop=X.prototype.Tb;X.prototype.pause=X.prototype.Mb;X.prototype.resume=X.prototype.Nb;X.prototype.getCuePoints=X.prototype.Hb;X.prototype.getCurrentAd=X.prototype.Ib;X.prototype.getRemainingTime=X.prototype.Jb;X.prototype.expand=X.prototype.Fb;
X.prototype.collapse=X.prototype.Eb;X.prototype.getAdSkippableState=X.prototype.Gb;X.prototype.getExpanded=X.prototype.kb;X.prototype.resize=X.prototype.va;X.prototype.skip=X.prototype.Rb;X.prototype.getVolume=X.prototype.Kb;X.prototype.setVolume=X.prototype.Qb;X.prototype.setMediaUrl=X.prototype.Pb;X.prototype.sendImpressionUrls=X.prototype.Ob;V.prototype.getContent=V.prototype.h;V.prototype.getContentType=V.prototype.b;V.prototype.getHeight=V.prototype.j;V.prototype.getWidth=V.prototype.m;})();
(function(){var g,aa=aa||{},l=this,m=function(){},ba=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ca=function(a){return void 0!==a},da=function(a){return"array"==ba(a)},ea=function(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length},n=function(a){return"string"==typeof a},fa=function(a){return"number"==typeof a},ga=function(a){return"function"==ba(a)},ha=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ia="closure_uid_"+
(1E9*Math.random()>>>0),ja=0,ka=function(a,b,c){return a.call.apply(a.bind,arguments)},la=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},p=function(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:la;return p.apply(null,arguments)},
ma=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},q=Date.now||function(){return+new Date},r=function(a,b){function c(){}c.prototype=b.prototype;a.t=b.prototype;a.prototype=new c;a.prototype.constructor=a};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return p.apply(null,c)}return p(this,a)};var na=function(a,b,c){this.b=b;this.g=c;this.e=a};na.prototype.getErrorCode=function(){return this.g};na.prototype.toString=function(){return"AdError "+this.getErrorCode()+": "+this.b+(null!=this.a?" Caused by: "+this.a:"")};var oa=function(){};oa.prototype.ia=!1;oa.prototype.A=function(){this.ia||(this.ia=!0,this.v())};oa.prototype.v=function(){if(this.ta)for(;this.ta.length;)this.ta.shift()()};var s=function(a){a&&"function"==typeof a.A&&a.A()};var u=function(a,b){this.type=a;this.a=this.target=b};g=u.prototype;g.A=function(){};g.sa=!1;g.yd=!0;g.vb=function(){this.sa=!0};g.Ga=function(){this.yd=!1};var pa=function(a){a.vb()};var qa=function(a,b){u.call(this,"adError");this.b=a;this.e=b?b:null};r(qa,u);var ra="adMetadata allAdsCompleted loaded complete contentPauseRequested contentResumeRequested skip skipshown start pause resume click firstquartile midpoint thirdquartile log companionBackfill youTubeVideoMetadata youTubeChannelMetadata userClose".split(" "),sa="creativeview start midpoint firstquartile thirdquartile complete mute unmute pause rewind resume fullscreen expand collapse close acceptinvitation engagedview skipshown skip replay stop error click".split(" ");var ta=function(a,b,c){u.call(this,a);this.g=b;this.e=null!=c?c:null};r(ta,u);ta.prototype.getAd=function(){return this.g};
var ua={CONTENT_PAUSE_REQUESTED:"contentPauseRequested",CONTENT_RESUME_REQUESTED:"contentResumeRequested",CLICK:"click",ug:"expandedChanged",STARTED:"start",PAUSED:"pause",RESUMED:"resume",FIRST_QUARTILE:"firstquartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdquartile",COMPLETE:"complete",USER_CLOSE:"userClose",LOADED:"loaded",ALL_ADS_COMPLETED:"allAdsCompleted",SKIPPED:"skip",SKIPPABLE_STATE_CHANGED:"skippableStateChanged",jg:"adMetadata",LOG:"log",rg:"companionBackfill",Ic:"youTubeVideoMetadata",
Hc:"youTubeChannelMetadata"};var va;var wa=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c},xa=function(a){return/^[\s\xa0]*$/.test(a)},w=function(a){return xa(v(a))},ya=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},za=function(a){return decodeURIComponent(a.replace(/\+/g," "))},Fa=function(a){if(!Aa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ba,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ca,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Da,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ea,"&quot;"));return a},
Ba=/&/g,Ca=/</g,Da=/>/g,Ea=/\"/g,Aa=/[&<>\"]/,Ha=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=document.createElement("div");return a.replace(Ga,function(a,e){var f=b[a];if(f)return f;if("#"==e.charAt(0)){var h=Number("0"+e.substr(1));isNaN(h)||(f=String.fromCharCode(h))}f||(c.innerHTML=a+" ",f=c.firstChild.nodeValue.slice(0,-1));return b[a]=f})},Ia=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";
case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})},Ga=/&([^;\s<&]+);?/g,v=function(a){return null==a?"":String(a)},Ja=function(a,b){for(var c=0,d=ya(String(a)).split("."),e=ya(String(b)).split("."),f=Math.max(d.length,e.length),h=0;0==c&&h<f;h++){var k=d[h]||"",t=e[h]||"",C=RegExp("(\\d*)(\\D*)","g"),Pa=RegExp("(\\d*)(\\D*)","g");do{var L=C.exec(k)||["","",""],N=Pa.exec(t)||["","",""];if(0==L[0].length&&0==N[0].length)break;
c=((0==L[1].length?0:parseInt(L[1],10))<(0==N[1].length?0:parseInt(N[1],10))?-1:(0==L[1].length?0:parseInt(L[1],10))>(0==N[1].length?0:parseInt(N[1],10))?1:0)||((0==L[2].length)<(0==N[2].length)?-1:(0==L[2].length)>(0==N[2].length)?1:0)||(L[2]<N[2]?-1:L[2]>N[2]?1:0)}while(0==c)}return c},Ka=2147483648*Math.random()|0,La=function(a){var b=Number(a);return 0==b&&xa(a)?NaN:b},Na=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})},Oa=function(a){var b=n(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,
"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Qa=Array.prototype,Ra=function(a,b){if(n(a))return n(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Sa=function(a,b){for(var c=a.length,d=[],e=0,f=n(a)?a.split(""):a,h=0;h<c;h++)if(h in f){var k=f[h];b.call(void 0,k,h,a)&&(d[e++]=k)}return d},Ta=function(a,b,c){for(var d=a.length,e=Array(d),f=n(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,
f[h],h,a));return e},Ua=function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Va=function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},Wa=function(a,b,c){t:{for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a)){b=f;break t}b=-1}return 0>b?null:n(a)?a.charAt(b):a[b]},y=function(a,b){return 0<=Ra(a,b)},z=function(a){return 0==a.length},Xa=function(a){if(!da(a))for(var b=
a.length-1;0<=b;b--)delete a[b];a.length=0},Ya=function(a,b){y(a,b)||a.push(b)},Za=function(a,b){var c=Ra(a,b),d;(d=0<=c)&&Qa.splice.call(a,c,1);return d},$a=function(a){return Qa.concat.apply(Qa,arguments)},ab=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},bb=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(da(d)||(e=ea(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(e)for(var f=a.length,h=d.length,
k=0;k<h;k++)a[f+k]=d[k];else a.push(d)}},db=function(a,b,c,d){Qa.splice.apply(a,cb(arguments,1))},cb=function(a,b,c){return 2>=arguments.length?Qa.slice.call(a,b):Qa.slice.call(a,b,c)},fb=function(a,b){Qa.sort.call(a,b||eb)},eb=function(a,b){return a>b?1:a<b?-1:0},gb=function(a,b,c){var d;c=c||eb;for(var e=0,f=a.length;e<f;){var h=e+f>>1,k;k=c(b,a[h]);0<k?e=h+1:(f=h,d=!k)}d=d?e:~e;0>d&&db(a,-(d+1),0,b)};var hb="StopIteration"in l?l.StopIteration:Error("StopIteration"),ib=function(){};ib.prototype.next=function(){throw hb;};ib.prototype.Ha=function(){return this};
var jb=function(a){if(a instanceof ib)return a;if("function"==typeof a.Ha)return a.Ha(!1);if(ea(a)){var b=0,c=new ib;c.next=function(){for(;;){if(b>=a.length)throw hb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},kb=function(a,b,c){if(ea(a))try{x(a,b,c)}catch(d){if(d!==hb)throw d;}else{a=jb(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(e){if(e!==hb)throw e;}}};var lb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},mb=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},nb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},ob=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},pb=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},qb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),rb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];
for(c in d)a[c]=d[c];for(var f=0;f<qb.length;f++)c=qb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},sb=function(a){var b=arguments.length;if(1==b&&da(arguments[0]))return sb.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};var B=function(a,b){this.b={};this.a=[];this.g=this.e=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)A(this,arguments[d],arguments[d+1])}else if(a){a instanceof B?(c=a.R(),d=a.O()):(c=ob(a),d=nb(a));for(var e=0;e<c.length;e++)A(this,c[e],d[e])}};g=B.prototype;g.X=function(){return this.e};g.O=function(){tb(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};g.R=function(){tb(this);return this.a.concat()};
g.fa=function(){return 0==this.e};g.clear=function(){this.b={};this.g=this.e=this.a.length=0};var vb=function(a,b){ub(a.b,b)&&(delete a.b[b],a.e--,a.g++,a.a.length>2*a.e&&tb(a))},tb=function(a){if(a.e!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];ub(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.e!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],ub(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};B.prototype.get=function(a,b){return ub(this.b,a)?this.b[a]:b};
var A=function(a,b,c){ub(a.b,b)||(a.e++,a.a.push(b),a.g++);a.b[b]=c};B.prototype.N=function(){return new B(this)};B.prototype.Ha=function(a){tb(this);var b=0,c=this.a,d=this.b,e=this.g,f=this,h=new ib;h.next=function(){for(;;){if(e!=f.g)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw hb;var h=c[b++];return a?h:d[h]}};return h};var ub=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var wb=function(a){if("function"==typeof a.O)return a.O();if(n(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return nb(a)},xb=function(a){if("function"==typeof a.R)return a.R();if("function"!=typeof a.O){if(ea(a)||n(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return ob(a)}},yb=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||n(a))x(a,b,c);else for(var d=xb(a),e=wb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&
d[h],a)};var Ab=function(a){this.a=new B;if(a){a=wb(a);for(var b=a.length,c=0;c<b;c++){var d=a[c];A(this.a,zb(d),d)}}},zb=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[ia]||(a[ia]=++ja)):b.substr(0,1)+a};g=Ab.prototype;g.X=function(){return this.a.X()};g.clear=function(){this.a.clear()};g.fa=function(){return this.a.fa()};g.contains=function(a){a=zb(a);return ub(this.a.b,a)};g.O=function(){return this.a.O()};g.N=function(){return new Ab(this)};g.Ha=function(){return this.a.Ha(!1)};var Bb,Cb,Db,Eb,Fb,D,Gb=function(){return l.navigator?l.navigator.userAgent:null};Eb=Db=Cb=Bb=!1;var Hb;if(Hb=Gb()){var Ib=l.navigator;Bb=0==Hb.lastIndexOf("Opera",0);Cb=!Bb&&(-1!=Hb.indexOf("MSIE")||-1!=Hb.indexOf("Trident"));Db=!Bb&&-1!=Hb.indexOf("WebKit");Eb=!Bb&&!Db&&!Cb&&"Gecko"==Ib.product}var Jb=Bb,E=Cb,Kb=Eb,Lb=Db,Mb=Gb();Fb=!!Mb&&-1!=Mb.indexOf("Android");D=!!Mb&&-1!=Mb.indexOf("iPhone");var Nb=!!Mb&&-1!=Mb.indexOf("iPad"),Ob=function(){var a=l.document;return a?a.documentMode:void 0},Pb;
t:{var Qb="",Rb;if(Jb&&l.opera)var Sb=l.opera.version,Qb="function"==typeof Sb?Sb():Sb;else if(Kb?Rb=/rv\:([^\);]+)(\)|;)/:E?Rb=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Lb&&(Rb=/WebKit\/(\S+)/),Rb)var Tb=Rb.exec(Gb()),Qb=Tb?Tb[1]:"";if(E){var Ub=Ob();if(Ub>parseFloat(Qb)){Pb=String(Ub);break t}}Pb=Qb}var Vb=Pb,Wb={},F=function(a){return Wb[a]||(Wb[a]=0<=Ja(Vb,a))},Xb=l.document,Yb=Xb&&E?Ob()||("CSS1Compat"==Xb.compatMode?parseInt(Vb,10):5):void 0;var G=function(a,b){this.message=a;this.errorCode=b};G.prototype.getErrorCode=function(){return this.errorCode};
var Zb=new G("Unable to request ads from server. Cause: {0}.",1005),$b=new G("Cannot parse the {0} value for the adslist response: {1}.",200),ac=new G("The VAST response document is empty.",1009),bc=new G("Invalid usage of the API. Cause: {0}",1102),cc=new G("There was a problem requesting ads from the server.",1005),dc=new G("All ad request fallback attempts failed.",1005),ec=new G("Ad request reached a timeout.",301),fc=new G("The provided ad type: {0} is not supported.",1005),gc=new G("The provided {0} information: {1} is invalid.",
1101),hc=new G("The response does not contain any valid ads.",200),ic=new G("The overlay ad content could not be rendered.",500),jc=new G("Ad response could not be understood.",200),kc=new G("The ad playlist response was malformed or empty.",1004),lc=new G("The ad response was not understood and cannot be parsed: {0}",200),mc=new G("An unexpected error occurred and the cause is not known. Refer to the inner error for more info.",900),nc=new G("The ad response contains unexpected element. Cause {0}.",
200),oc=new G("Listener for at least one of the required vast events was not added:{0}",1006),pc=new G("Linear assets were found in the VAST ad response, but none of them matched the video player's capabilities.",403),qc=new G("No assets were found in the VAST ad response.",1007),rc=new G("VAST response was malformed and could not be parsed.",100),sc=new G("The maximum number of VAST wrappers ({0}) have been reached.",302),tc=new G("Unknown node in <{0}>: {1}",100),uc=new G("Invalid VAST resource type: {0}",
100),vc=new G("No additional VAST wrappers allowed.",300),wc=new G("There was an error playing the video ad.",400),xc=new G("An unexpected error occurred within the VPAID creative. Refer to the inner error for more info.",901),H=function(a,b,c){return yc("adLoadError",a,b||null,cb(arguments,2))},I=function(a,b,c){return yc("adPlayError",a,b||null,cb(arguments,2))},zc=function(a,b,c,d){var e=I.apply(null,$a([b,c],cb(arguments,3)));a.o(new ta("log",null,e))},yc=function(a,b,c,d){if(c instanceof na)return c;
var e=b.errorCode;b=b.message;if(0<d.length)for(var f=0;f<d.length;f++)b=b.replace(RegExp("\\{"+f+"\\}","ig"),d[f]);a=new na(a,b,e);a.a=c;return a},Ac=function(a,b,c,d,e){var f=H.apply(null,$a([b,c],cb(arguments,4)));a.o(new qa(f,d))},Bc=function(a,b,c,d){var e=I.apply(null,$a([b,c],cb(arguments,3)));a.o(new qa(e))};var Cc=function(a){Cc[" "](a);return a};Cc[" "]=m;var Dc=!E||E&&9<=Yb,Ec=E&&!F("9");!Lb||F("528");Kb&&F("1.9b")||E&&F("8")||Jb&&F("9.5")||Lb&&F("528");Kb&&!F("8")||E&&F("9");var Fc="ontouchstart"in l||!!(l.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!l.navigator||!l.navigator.msMaxTouchPoints);var Gc=function(a,b){if(a){var c=this.type=a.type;u.call(this,c);this.target=a.target||a.srcElement;this.a=b;if((c=a.relatedTarget)&&Kb)try{Cc(c.nodeName)}catch(d){}this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Ka=a;a.defaultPrevented&&this.Ga();delete this.sa}};r(Gc,u);g=Gc.prototype;
g.target=null;g.clientX=0;g.clientY=0;g.screenX=0;g.screenY=0;g.button=0;g.ctrlKey=!1;g.altKey=!1;g.shiftKey=!1;g.metaKey=!1;g.Ka=null;g.vb=function(){Gc.t.vb.call(this);this.Ka.stopPropagation?this.Ka.stopPropagation():this.Ka.cancelBubble=!0};g.Ga=function(){Gc.t.Ga.call(this);var a=this.Ka;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ec)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};g.ma=function(){return this.Ka};var Hc="closure_listenable_"+(1E6*Math.random()|0),Ic=function(a){try{return!(!a||!a[Hc])}catch(b){return!1}},Jc=0;var Kc=function(a,b,c,d,e){this.ya=a;this.a=null;this.src=b;this.type=c;this.capture=!!d;this.ba=e;this.pc=++Jc;this.Ia=this.rb=!1},Lc=function(a){a.Ia=!0;a.ya=null;a.a=null;a.src=null;a.ba=null};var Mc=function(a){this.src=a;this.a={};this.b=0},Oc=function(a,b,c,d,e,f){var h=a.a[b];h||(h=a.a[b]=[],a.b++);var k=Nc(h,c,e,f);-1<k?(a=h[k],d||(a.rb=!1)):(a=new Kc(c,a.src,b,!!e,f),a.rb=d,h.push(a));return a},Pc=function(a,b){var c=b.type;if(!(c in a.a))return!1;var d=Za(a.a[c],b);d&&(Lc(b),0==a.a[c].length&&(delete a.a[c],a.b--));return d},Qc=function(a,b,c,d,e){a=a.a[b];b=-1;a&&(b=Nc(a,c,d,e));return-1<b?a[b]:null},Rc=function(a,b){var c=ca(b),d=ca(void 0);return mb(a.a,function(a){for(var f=
0;f<a.length;++f)if(!(c&&a[f].type!=b||d&&void 0!=a[f].capture))return!0;return!1})},Nc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Ia&&f.ya==b&&f.capture==!!c&&f.ba==d)return e}return-1};var Sc="closure_lm_"+(1E6*Math.random()|0),Tc={},Uc=0,Vc=function(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)Vc(a,b[f],c,d,e);return null}c=Wc(c);return Ic(a)?a.l(b,c,d,e):Xc(a,b,c,!1,d,e)},Xc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,k=Yc(a);k||(a[Sc]=k=new Mc(a));c=Oc(k,b,c,d,e,f);if(c.a)return c;d=Zc();c.a=d;d.src=a;d.ya=c;a.addEventListener?a.addEventListener(b,d,h):a.attachEvent(b in Tc?Tc[b]:Tc[b]="on"+b,d);Uc++;return c},Zc=function(){var a=$c,b=Dc?function(c){return a.call(b.src,
b.ya,c)}:function(c){c=a.call(b.src,b.ya,c);if(!c)return c};return b},ad=function(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)ad(a,b[f],c,d,e);return null}c=Wc(c);return Ic(a)?Oc(a.ga,String(b),c,!0,d,e):Xc(a,b,c,!0,d,e)},bd=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)bd(a,b[f],c,d,e);else c=Wc(c),Ic(a)?a.M(b,c,d,e):a&&(a=Yc(a))&&(b=Qc(a,b,c,!!d,e))&&cd(b)},cd=function(a){if(fa(a)||!a||a.Ia)return!1;var b=a.src;if(Ic(b))return Pc(b.ga,a);var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,
d,a.capture):b.detachEvent&&b.detachEvent(c in Tc?Tc[c]:Tc[c]="on"+c,d);Uc--;(c=Yc(b))?(Pc(c,a),0==c.b&&(c.src=null,b[Sc]=null)):Lc(a);return!0},ed=function(a,b,c,d){var e=1;if(a=Yc(a))if(b=a.a[b])for(b=ab(b),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.Ia&&(e&=!1!==dd(f,d))}return Boolean(e)},dd=function(a,b){var c=a.ya,d=a.ba||a.src;a.rb&&cd(a);return c.call(d,b)},$c=function(a,b){if(a.Ia)return!0;if(!Dc){var c;if(!(c=b))t:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];
else{c=null;break t}c=d}e=c;c=new Gc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){t:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(h){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.a;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.sa&&0<=k;k--)c.a=e[k],d&=ed(e[k],f,!0,c);for(k=0;!c.sa&&k<e.length;k++)c.a=e[k],d&=ed(e[k],f,!1,c)}return d}return dd(a,new Gc(b,this))},Yc=function(a){a=a[Sc];return a instanceof Mc?a:null},fd="__closure_events_fn_"+(1E9*
Math.random()>>>0),Wc=function(a){return ga(a)?a:a[fd]||(a[fd]=function(b){return a.handleEvent(b)})};var J=function(a){this.b=a;this.a={}};r(J,oa);var gd=[];J.prototype.l=function(a,b,c,d,e){da(b)||(gd[0]=b,b=gd);for(var f=0;f<b.length;f++){var h=Vc(a,b[f],c||this.handleEvent,d||!1,e||this.b||this);if(!h)break;this.a[h.pc]=h}return this};var hd=function(a,b,c,d,e,f){if(da(c))for(var h=0;h<c.length;h++)hd(a,b,c[h],d,e,f);else(b=ad(b,c,d||a.handleEvent,e,f||a.b||a))&&(a.a[b.pc]=b)};
J.prototype.M=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)this.M(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.b||this,c=Wc(c),d=!!d,b=Ic(a)?Qc(a.ga,String(b),c,d,e):a?(a=Yc(a))?Qc(a,b,c,d,e):null:null,b&&(cd(b),delete this.a[b.pc]);return this};J.prototype.v=function(){J.t.v.call(this);lb(this.a,cd);this.a={}};J.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var K=function(){this.ga=new Mc(this);this.Aa=this};r(K,oa);K.prototype[Hc]=!0;g=K.prototype;g.Ua=null;g.addEventListener=function(a,b,c,d){Vc(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){bd(this,a,b,c,d)};
g.o=function(a){var b,c=this.Ua;if(c){b=[];for(var d=1;c;c=c.Ua)b.push(c),++d}c=this.Aa;d=a.type||a;if(n(a))a=new u(a,c);else if(a instanceof u)a.target=a.target||c;else{var e=a;a=new u(d,c);rb(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.sa&&0<=h;h--)f=a.a=b[h],e=id(f,d,!0,a)&&e;a.sa||(f=a.a=c,e=id(f,d,!0,a)&&e,a.sa||(e=id(f,d,!1,a)&&e));if(b)for(h=0;!a.sa&&h<b.length;h++)f=a.a=b[h],e=id(f,d,!1,a)&&e;return e};
g.v=function(){K.t.v.call(this);if(this.ga){var a=this.ga,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,Lc(d[e]);delete a.a[c];a.b--}}this.Ua=null};g.l=function(a,b,c,d){return Oc(this.ga,String(a),b,!1,c,d)};g.M=function(a,b,c,d){var e;e=this.ga;a=String(a);if(a in e.a){var f=e.a[a];b=Nc(f,b,c,d);-1<b?(Lc(f[b]),Qa.splice.call(f,b,1),0==f.length&&(delete e.a[a],e.b--),e=!0):e=!1}else e=!1;return e};
var id=function(a,b,c,d){b=a.ga.a[String(b)];if(!b)return!0;b=ab(b);for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.Ia&&h.capture==c){var k=h.ya,t=h.ba||h.src;h.rb&&Pc(a.ga,h);e=!1!==k.call(t,d)&&e}}return e&&!1!=d.yd};var M=function(a,b){K.call(this);this.g=a||1;this.b=b||l;this.h=p(this.k,this);this.j=q()};r(M,K);M.prototype.e=!1;M.prototype.a=null;var kd=function(a,b){a.g=b;a.a&&a.e?(a.stop(),jd(a)):a.a&&a.stop()};M.prototype.k=function(){if(this.e){var a=q()-this.j;0<a&&a<0.8*this.g?this.a=this.b.setTimeout(this.h,this.g-a):(this.a&&(this.b.clearTimeout(this.a),this.a=null),this.o("tick"),this.e&&(this.a=this.b.setTimeout(this.h,this.g),this.j=q()))}};
var jd=function(a){a.e=!0;a.a||(a.a=a.b.setTimeout(a.h,a.g),a.j=q())};M.prototype.stop=function(){this.e=!1;this.a&&(this.b.clearTimeout(this.a),this.a=null)};M.prototype.v=function(){M.t.v.call(this);this.stop();delete this.b};var ld=function(a,b,c){if(ga(a))c&&(a=p(a,c));else if(a&&"function"==typeof a.handleEvent)a=p(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};var md=function(){K.call(this);this.currentTime=0};r(md,K);var nd=function(a){md.call(this);this.currentTime=a.currentTime;if(!("currentTime"in a)||isNaN(a.currentTime))throw I(gc,null,"content","currentTime");this.b=a;this.a=new M(250);this.e=new J(this);this.e.l(this.a,"tick",this.g,!1,this)};r(nd,md);nd.prototype.stop=function(){this.a.stop()};nd.prototype.v=function(){nd.t.v.call(this);this.e.A();this.a.A()};
nd.prototype.g=function(){if("currentTime"in this.b&&!isNaN(this.b.currentTime)){var a=this.currentTime;this.currentTime=this.b.currentTime;a!=this.currentTime&&this.o(new u("currentTimeUpdate"))}else this.o(new u("contentWrapperError")),this.stop()};var od=function(){};g=od.prototype;g.autoAlign=!0;g.contentId=null;g.bitrate=-1;g.disableClickThrough=!1;g.mimeTypes=null;g.useLearnMoreButton=!1;g.useStyledLinearAds=!1;g.useStyledNonLinearAds=!1;g.useVideoAdUi=!1;var pd={Yd:"adId",Jb:"adSystem",ae:"adWrapperIds",be:"adWrapperSystems",de:"clickThroughUrl",ee:"companions",Kb:"duration",Wa:"height",LINEAR:"linear",Cg:"mediaUrl",je:"skippable",oe:"traffickingParameters",pe:"trustedFirstPartyAd",Xa:"width",Zd:"adPodInfo",qe:"youTubeVideoId",Ic:"youTubeVideoMetadata",Hc:"youTubeChannelMetadata"},qd={ie:"podIndex",le:"timeOffset",ne:"totalAds",$d:"adPosition",fe:"isBumper",he:"maxDuration"},rd={ge:"listed",me:"title"},sd={ce:"authorName",ke:"thumbnailUrl"};var td=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);},wd=function(a){var b=[];ud(new vd,a,b);return b.join("")},vd=function(){},ud=function(a,b,c){switch(typeof b){case "string":xd(b,c);break;case "number":c.push(isFinite(b)&&
!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),ud(a,b[f],c),e=",";c.push("]");break}c.push("{");d="";for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f=b[e],"function"!=typeof f&&(c.push(d),xd(e,c),c.push(":"),ud(a,f,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}},yd={'"':'\\"',
"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},zd=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,xd=function(a,b){b.push('"',a.replace(zd,function(a){if(a in yd)return yd[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return yd[a]=e+b.toString(16)}),'"')};var Ad=function(a){K.call(this);this.g=a||"goog_"+Ka++;this.k=[]};r(Ad,K);Ad.prototype.n=!1;var Bd=function(a){for(a.n=!0;!z(a.k);){var b=a.k.shift();a.h(b.name,b.type,b.data)}},O=function(a,b,c,d){a.n?a.h(b,c,d):a.k.push({name:b,type:c,data:d})},Cd=function(a,b,c,d){u.call(this,a);this.b=b;this.e=c;this.g=d};r(Cd,u);Cd.prototype.toString=function(){return""};var Dd=function(a,b){this.x=ca(a)?a:0;this.y=ca(b)?b:0};Dd.prototype.N=function(){return new Dd(this.x,this.y)};Dd.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};Dd.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};var P=function(a,b){this.width=a;this.height=b};P.prototype.N=function(){return new P(this.width,this.height)};P.prototype.fa=function(){return!(this.width*this.height)};P.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};P.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var Ed=!E||E&&9<=Yb,Fd=!Kb&&!E||E&&E&&9<=Yb||Kb&&F("1.9.1"),Gd=E&&!F("9"),Hd=E||Jb||Lb;var Id=function(a){a=a.className;return n(a)&&a.match(/\S+/g)||[]},Jd=function(a,b){for(var c=Id(a),d=cb(arguments,1),e=c.length+d.length,f=c,h=0;h<d.length;h++)y(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==e},Ld=function(a,b){var c=Id(a),d=cb(arguments,1),c=Kd(c,d);a.className=c.join(" ")},Kd=function(a,b){return Sa(a,function(a){return!y(b,a)})},Md=function(a,b,c){c?Jd(a,b):Ld(a,b)};var Pd=function(a){return a?new Nd(Od(a)):va||(va=new Nd)},Rd=function(a,b){var c=b||document;c.querySelectorAll&&c.querySelector?c=c.querySelector("."+a):(c=b||document,c=(c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Qd("*",a,b))[0]);return c||null},Qd=function(a,b,c){var d=document;c=c||d;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=
c.getElementsByClassName(b);if(a){for(var d={},e=0,f=0,h;h=c[f];f++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(f=e=0;h=c[f];f++)a=h.className,"function"==typeof a.split&&y(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c},Td=function(a,b){lb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Sd?a.setAttribute(Sd[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,
b):a[d]=b})},Sd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Vd=function(a,b,c){return Ud(document,arguments)},Ud=function(a,b){var c=b[0],d=b[1];if(!Ed&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Fa(d.name),'"');if(d.type){c.push(' type="',Fa(d.type),'"');var e={};rb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=
a.createElement(c);d&&(n(d)?c.className=d:da(d)?Jd.apply(null,[c].concat(d)):Td(c,d));2<b.length&&Wd(a,c,b,2);return c},Wd=function(a,b,c,d){function e(c){c&&b.appendChild(n(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ea(f)||ha(f)&&0<f.nodeType?e(f):x(Xd(f)?ab(f):f,e)}},Yd=function(a,b){Wd(Od(a),a,arguments,1)},Zd=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},$d=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},ae=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,
b)},Q=function(a){return Fd&&void 0!=a.children?a.children:Sa(a.childNodes,function(a){return 1==a.nodeType})},ce=function(a){return void 0!=a.firstElementChild?a.firstElementChild:be(a.firstChild)},be=function(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a},de=function(a){if(Hd&&!(E&&F("9")&&!F("10")&&l.SVGElement&&a instanceof l.SVGElement))return a.parentElement;a=a.parentNode;return ha(a)&&1==a.nodeType?a:null},ee=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=
typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},Od=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document},fe=function(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Zd(a),a.appendChild(Od(a).createTextNode(String(b)))},ge={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,
OBJECT:1},he={IMG:" ",BR:"\n"},ie=function(a,b,c){if(!(a.nodeName in ge))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in he)b.push(he[a.nodeName]);else for(a=a.firstChild;a;)ie(a,b,c),a=a.nextSibling},Xd=function(a){if(a&&"number"==typeof a.length){if(ha(a))return"function"==typeof a.item||"string"==typeof a.item;if(ga(a))return"function"==typeof a.item}return!1},Nd=function(a){this.a=a||l.document||document};
Nd.prototype.b=function(a,b,c){return Ud(this.a,arguments)};var je=function(a){var b=a.a;a=Lb||"CSS1Compat"!=b.compatMode?b.body||b.documentElement:b.documentElement;b=b.parentWindow||b.defaultView;return E&&F("10")&&b.pageYOffset!=a.scrollTop?new Dd(a.scrollLeft,a.scrollTop):new Dd(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};Nd.prototype.appendChild=function(a,b){a.appendChild(b)};Nd.prototype.contains=ee;var ke=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),me=function(a){if(le){le=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=me(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw le=!0,Error();}}return a.match(ke)},le=Lb,ne=function(a,b,c){for(var d=0,e=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var f=a.charCodeAt(d-1);if(38==f||63==f)if(f=a.charCodeAt(d+e),!f||61==f||38==f||35==f)return d;d+=e+1}return-1},oe=/#|$/,pe=
function(a,b){var c=a.search(oe),d=ne(a,b,c);if(0>d)return null;var e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return za(a.substr(d,e-d))};var R=function(a,b){var c;if(a instanceof R)this.xa=ca(b)?b:a.xa,qe(this,a.da),this.tb=a.tb,this.Y=a.Y,re(this,a.sb),se(this,a.ea),te(this,a.a.N()),this.tc=a.e();else if(a&&(c=me(String(a)))){this.xa=!!b;qe(this,c[1]||"",!0);var d=c[2]||"";this.tb=d?decodeURIComponent(d):"";this.Y=(d=c[3]||"")?decodeURIComponent(d):"";re(this,c[4]);se(this,c[5]||"",!0);te(this,c[6]||"",!0);this.tc=(c=c[7]||"")?decodeURIComponent(c):""}else this.xa=!!b,this.a=new ue(null,0,this.xa)};g=R.prototype;g.da="";g.tb="";
g.Y="";g.sb=null;g.ea="";g.tc="";g.xa=!1;g.toString=function(){var a=[],b=this.da;b&&a.push(ve(b,we),":");if(b=this.Y){a.push("//");var c=this.tb;c&&a.push(ve(c,we),"@");a.push(encodeURIComponent(String(b)));b=this.sb;null!=b&&a.push(":",String(b))}if(b=this.ea)this.Y&&"/"!=b.charAt(0)&&a.push("/"),a.push(ve(b,"/"==b.charAt(0)?xe:ye));(b=this.a.toString())&&a.push("?",b);(b=this.e())&&a.push("#",ve(b,ze));return a.join("")};g.N=function(){return new R(this)};
var qe=function(a,b,c){a.da=c?b?decodeURIComponent(b):"":b;a.da&&(a.da=a.da.replace(/:$/,""))},Ae=function(a){return a.Y},re=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.sb=b}else a.sb=null},Be=function(a){return a.ea},se=function(a,b,c){a.ea=c?b?decodeURIComponent(b):"":b},te=function(a,b,c){b instanceof ue?(a.a=b,Ce(a.a,a.xa)):(c||(b=ve(b,De)),a.a=new ue(b,0,a.xa))},Ee=function(a){return a.a};R.prototype.e=function(){return this.tc};
var ve=function(a,b){return n(a)?encodeURI(a).replace(b,Fe):null},Fe=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},we=/[#\/\?@]/g,ye=/[\#\?:]/g,xe=/[\#\?]/g,De=/[\#\?@]/g,ze=/#/g,ue=function(a,b,c){this.e=a||null;this.g=!!c},He=function(a){if(!a.a&&(a.a=new B,a.b=0,a.e))for(var b=a.e.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=za(e);e=Ge(a,e);d=a;f=f?za(f):"";He(d);d.e=null;var e=
Ge(d,e),h=d.a.get(e);h||A(d.a,e,h=[]);h.push(f);d.b++}};ue.prototype.a=null;ue.prototype.b=null;ue.prototype.X=function(){He(this);return this.b};var Ie=function(a,b){He(a);b=Ge(a,b);ub(a.a.b,b)&&(a.e=null,a.b-=a.a.get(b).length,vb(a.a,b))};ue.prototype.clear=function(){this.a=this.e=null;this.b=0};ue.prototype.fa=function(){He(this);return 0==this.b};var Je=function(a,b){He(a);b=Ge(a,b);return ub(a.a.b,b)};
ue.prototype.R=function(){He(this);for(var a=this.a.O(),b=this.a.R(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};ue.prototype.O=function(a){He(this);var b=[];if(n(a))Je(this,a)&&(b=$a(b,this.a.get(Ge(this,a))));else{a=this.a.O();for(var c=0;c<a.length;c++)b=$a(b,a[c])}return b};var Ke=function(a,b,c){He(a);a.e=null;b=Ge(a,b);Je(a,b)&&(a.b-=a.a.get(b).length);A(a.a,b,[c]);a.b++};
ue.prototype.get=function(a,b){var c=a?this.O(a):[];return 0<c.length?String(c[0]):b};ue.prototype.toString=function(){if(this.e)return this.e;if(!this.a)return"";for(var a=[],b=this.a.R(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.O(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.e=a.join("&")};ue.prototype.N=function(){var a=new ue;a.e=this.e;this.a&&(a.a=this.a.N(),a.b=this.b);return a};
var Ge=function(a,b){var c=String(b);a.g&&(c=c.toLowerCase());return c},Ce=function(a,b){b&&!a.g&&(He(a),a.e=null,yb(a.a,function(a,b){var e=b.toLowerCase();b!=e&&(Ie(this,b),Ie(this,e),0<a.length&&(this.e=null,A(this.a,Ge(this,e),ab(a)),this.b+=a.length))},a));a.g=b};var Le=["google-developers.appspot.com","devsite.googleplex.com"],Me=["*.googlesyndication.com"],Ne=["*.youtu.be","*.youtube.com"],Oe=["s0.2mdn.net"],Pe=function(a){a=Ae(new R(a));return null!=a?wa(a,".corp.google.com")||"corp.google.com"==a:!1},Qe=function(a){a=new R(a);var b=a.Y,c=a.ea;return null!=b?wa(b,".google.com")&&"/pagead/sul"==c||wa(b,".youtube.com")&&"/gen_204"==c&&"sul"==a.a.get("a"):!1},Se=function(a){if(null==a)return!1;if(Re(Ne,a))return!0;var b=Ee(new R(a));if(a=Pe(a))a=null!=b.get("forceYouTubeLoad");
return a},Te=function(){return Se(window.document.referrer)},Ue=function(a){return null!=a&&(Re(Le,a)||Pe(a)||Se(a))},Re=function(a,b){try{var c=Ae(new R(b)),c=c.replace(/^www./i,"");return Ua(a,function(a){return Ve(a,c)})}catch(d){return!1}},Ve=function(a,b){if(w(b))return!1;a=a.toLowerCase();b=b.toLowerCase();return"*."==a.substr(0,2)?(a=a.substr(2),a.length>b.length?!1:b.substr(-a.length)==a&&(b.length==a.length||"."==b.charAt(b.length-a.length-1))):a==b},We=function(a){if("https:"==window.location.protocol){var b=
new R(a);if(y(Oe,b.Y))return qe(b,"https"),b.toString()}return a};var Xe=function(a){a=Qe(a)?'data:text/html;charset=utf-8,<body><img src="'+a+'"></img></body>':We(a);var b=Vd("iframe",{src:a,style:"display:none"});a=Od(b).body;ad(b,["load","error"],function(){ld(function(){null!=b.parentNode&&b.parentNode.removeChild(b)},5E3)});a.appendChild(b)},Ye=function(a){null!=a&&x(a,function(a){Xe(a)})},Ze=function(a){window.open(a,"_blank")};var $e=function(){this.b=0.05>Math.random();this.a=Math.floor(4503599627370496*Math.random())};$e.getInstance=function(){return $e.a?$e.a:$e.a=new $e};
var cf=function(a,b,c,d){if(a.b||d){c=c||{};c.lid=b;c=af(a,c);var e=new R("http://pagead2.googlesyndication.com/pagead/gen_204");lb(c,function(a,b){Ke(e.a,b,null!=a?"boolean"==typeof a?a?"t":"f":""+a:"")},a);a=bf();qe(e,a.da);Xe(e.toString())}},af=function(a,b){b.id="ima_html5";var c=bf();b.c=a.a;b.domain=c.Y;return b},bf=function(){var a=window,b=document;return new R(a.parent==a?a.location.href:b.referrer)};var df=function(a,b){Ad.call(this,b);this.p=a;this.b=null;this.a=new J(this);this.a.l(window,"message",this.q)};r(df,Ad);var ef=function(a){if(null==a||!n(a)||0!=a.lastIndexOf("ima://",0))return null;a=a.substr(6);try{return td(a)}catch(b){return null}};df.prototype.h=function(a,b,c){null!=this.b&&null!=this.b.postMessage&&this.b.postMessage(ff(this,a,b,c),"*");null!=this.b&&null==this.b.postMessage&&cf($e.getInstance(),11)};df.prototype.v=function(){this.a.A();df.t.v.call(this)};
df.prototype.e=function(a){this.b=a};df.prototype.q=function(a){a=a.ma();var b=ef(a.data);if(null!=b){if(null==this.b)this.b=a.source;else if(this.b!=a.source)return;gf(this,b)}};var gf=function(a,b){var c=b.channel;null!=c&&c==a.p&&(c=b.sid,null!=c&&("*"!=a.g&&c!=a.g||a.o(new Cd(b.name,b.type,b.data||{},b.sid))))},ff=function(a,b,c,d){var e={};e.name=b;e.type=c;null!=d&&(e.data=d);e.sid=a.g;e.channel=a.p;return"ima://"+wd(e)};var hf=function(a,b,c){df.call(this,b,c);this.m=a;this.j=null};r(hf,df);hf.prototype.e=function(a){this.m=null!=a?[a]:[]};hf.prototype.h=function(a,b,c){var d=ff(this,a,b,c);x(this.m,p(function(a){a.postMessage(d,"*")},this))};hf.prototype.q=function(a){a=a.ma();var b=ef(a.data);null!=b&&y(this.m,a.source)&&(this.j=a.source,gf(this,b))};var jf={"application/flash":"Flash","application/shockwave-flash":"Flash","application/x-shockwave-flash":"Flash","image/jpeg":"Image","image/jpg":"Image","image/png":"Image","image/gif":"Image",text:"Text"},kf=["ADSENSE","ADSENSE/ADX"],lf=["DART","DART_DFA","DART_DFP"],mf=["GDFP"];var nf=function(){this.a=0;this.b=null};var pf=function(){this.e=of();this.j=this.n=this.b=null;this.r=of();this.a=null;this.q=this.k=this.m="";this.p=this.h=this.w=this.g=null},of=function(){return Math.floor(4503599627370496*Math.random())},S=new pf;pf.prototype.clear=function(){this.e=of();this.j=this.n=this.b=null;this.r=of();this.a=null;this.q=this.k=this.m="";this.p=this.h=this.g=null};var qf=function(a,b){this.j=a;this.h=Ta(b,function(a){return a.N()});this.g="";this.a=this.e=0;this.b=!0},rf=function(a){a.g="";a.e=0;a.a=0;a.b=!0};qf.prototype.N=function(){var a=new qf(this.j,this.h),b=this.e,c=this.a,d=this.b;a.g=this.g;a.e=b;a.a=c;a.b=d;return a};var sf=function(){K.call(this)};r(sf,K);var tf=function(a){u.call(this,a)};r(tf,u);var uf=function(){K.call(this);this.H=void 0;this.n=!1;this.I=void 0;this.m=!1;this.q=void 0;this.p=!1;this.K=this.P=void 0;this.j=!1;this.e=null;this.h=!1;this.b=null;this.a=new J(this);this.G=!1;this.k="not_loaded";this.g=null};r(uf,sf);uf.prototype.v=function(){s(this.e);s(this.g);s(this.a);uf.t.v.call(this)};
var vf=function(a){return a.h&&a.n&&null!=a.H?Ta(a.H,function(a){return a.N()}):void 0},wf=function(a){a=vf(a);return null!=a?Ta(a,function(a){return a.h}):void 0},yf=function(a){"fetching"!=a.k&&(xf(a,"pubads","isAdRequestFinished"),a.k="fetching")};
uf.prototype.r=function(a){var b=a.e.returnValue;switch(a.b){case "isGptPresent":null!=b&&b?(this.b.e(this.b.j),null==this.g&&(this.g=new M(100),this.a.l(this.g,"tick",this.D),jd(this.g)),this.D()):this.w();break;case "getDisplayAdsCorrelator":b=Number(b);isNaN(b)||(this.I=b,this.m=!0);zf(this);break;case "getVideoStreamCorrelator":b=Number(b);isNaN(b)||(this.q=b,this.p=!0);zf(this);break;case "getVideoContent":null!=b&&(a=b.cmsid,this.P=b.vid,this.K=a,this.j=!0,zf(this));break;case "googleGetCompanionAdSlots":this.H=
Ta(b,this.V,this);this.n=!0;zf(this);break;case "isAdRequestFinished":this.k="retrieved",this.G=!1!==b}};
var Af=function(a,b,c){xf(a,"pubads","setVideoContent",[b,c])},xf=function(a,b,c,d){null!=a.b&&(b={scope:b},null!=d&&(b.args=d),O(a.b,"gpt",c,b))},Bf=function(a,b,c){var d=0,e=0;null!=b&&(b=new R(b.adTagUrl),d=Number(b.a.get("pod")||0),e=Number(b.a.get("ppos")||0));xf(a,"companionAds","setVideoSessionInfo",[S.e,"","","",d,e,c])},Cf=function(a,b){Bf(a,b,!0);xf(a,"companionAds","refreshAllSlots")},Df=function(a){a.e&&(a.e.stop(),a.a.M(a.e,"tick",a.w),a.e.A(),a.e=null);null!=a.g&&(a.g.stop(),a.a.M(a.g,
"tick",a.D),a.g.A(),a.g=null)};uf.prototype.w=function(){this.h||(this.h=!0,Df(this),this.o(new tf("companion_initialization_failed")),null!=this.b&&this.a.M(this.b,"gpt",this.r))};uf.prototype.D=function(){this.m||xf(this,"companionAds","getDisplayAdsCorrelator");this.p||xf(this,"companionAds","getVideoStreamCorrelator");this.j||xf(this,"pubads","getVideoContent");this.n||xf(this,null,"googleGetCompanionAdSlots")};
var zf=function(a){a.n&&a.m&&a.p&&a.j?(a.h=!0,Df(a),a.o(new tf("companions_success"))):a.e||(a.e=new M(5E3),hd(a.a,a.e,"tick",a.w),jd(a.e))};uf.prototype.V=function(a){var b=Ta(a.adSizes,function(a){return new P(a.adWidth,a.adHeight)});return new qf(a.slotId,b)};uf.prototype.Z=function(a){var b={};b.slotId=a.j;b.adContent=a.g;b.adWidth=a.e;b.adHeight=a.a;b.friendlyIframeRendering=a.b;return b};var Ef=function(a){u.call(this,a)};r(Ef,u);var Ff=function(){K.call(this);this.e=[]};r(Ff,K);var Hf=function(){return new Gf("empty-ad","GDFP","GDFP","",0,0,[],[],[],[],new B)};var If=function(a){Ff.call(this);this.b=a;this.h=null;this.j=!1;this.g=null;this.a=new J;this.a.l(this.b,["companions_success","companion_initialization_failed"],this.m,!1,this);this.a.l(this.b,"companion_display_error",this.k,!1,this);this.b.h?this.j=!0:(a=this.b,a.h||(xf(a,"proxy","isGptPresent"),zf(a)))};r(If,Ff);
var Kf=function(a,b){a.g=b;a.j&&Jf(a)},Jf=function(a){var b=a.g;a.g=null;if(!z(a.e)&&null!=a.b)if(null!=b||Lf(a),null==b||z(a.e))Lf(a);else{var c=Mf(a,b),d=a.b,e=Ta(a.e,d.Z,d);xf(d,null,"googleSetCompanionAdContents",[e]);if(0<c.length&&b.I&&(a=a.b,0!=c.length&&"GDFP"==Nf(b,!0))){d=[];for(e=0;e<c.length;e++)d.push(c[e].j);Bf(a,b.e,!1);xf(a,"companionAds","notifyUnfilledSlots",[d])}}},Lf=function(a){a.o(new Ef("companion_display_error"))};
If.prototype.m=function(){null!=this.h&&(this.h.stop(),this.h.A(),this.h=null);if(null!=this.b){var a=vf(this.b);null!=a&&(this.e=a)}this.j=!0;null!=this.g&&Jf(this);this.o(new u("initialized"))};If.prototype.k=function(){Lf(this)};
var Mf=function(a,b){var c=[],d=[];x(a.e,function(a){rf(a);Ua(a.h,function(d){t:{var h=Of(b);d=Pf(new Qf(new P(d.width,d.height)),h);if(!z(d)){var k=Rf(d,c);if(null!=k){c.push(k);d=Sf(k);var h=k.ca(),t=k.$(),k="IFrame"!=k.Oa;a.g=d;a.e=h;a.a=t;a.b=k;d=!0;break t}}d=!1}return d},this)||d.push(a)},a);return d},Rf=function(a,b){return Wa(a,function(a){return!y(b,a)})};var Tf=function(a){this.b="not_loaded";this.a=new J(this);this.g=new M(200);this.j=q()+1E4;this.h=[];this.q=!1;this.e=a;this.a.l(this.e,"gpt",this.m);this.a.l(this.g,"tick",this.k);jd(this.g)};r(Tf,oa);Tf.prototype.r=function(a){Uf(this,"event",a.type);var b=a.getAd();"start"==a.type&&null!=b&&null!=b&&(a={adSystem:null!=b.h?b.h:"",id:Vf(b),adRequestUrl:b.e.adTagUrl},Wf(b)?(a.duration=b.a.G,a.type="video"):(b=b.a,a.assetSize=b.ca()+"x"+b.$(),a.assetType=b.H,a.type="overlay"),Uf(this,"ad",a))};
Tf.prototype.p=function(a){a=a.b;a="Error "+a.getErrorCode()+": "+a.b;Uf(this,"info",a)};var Xf=function(a){null!=a.e&&O(a.e,"gpt","isConsolePresent",{scope:"proxy"})},Uf=function(a,b,c){b={type:b,data:c};"loaded"==a.b?a.n(b):"not_loaded"!=a.b&&"loading"!=a.b||a.h.push(b)};Tf.prototype.n=function(a){null!=this.e&&O(this.e,"gpt","sendVideoMessage",{scope:"console",args:[a]})};Tf.prototype.v=function(){this.b="not_loaded";s(this.a);this.a=null;s(this.g);this.g=null;Tf.t.v.call(this)};
Tf.prototype.k=function(){switch(this.b){case "not_loaded":this.b="loading";Xf(this);break;case "loading":0<this.j&&q()>this.j?(this.b="failed",Yf(this)):Xf(this);break;case "loaded":Zf(this);break;case "failed":0<this.j&&q()>this.j?Yf(this):(this.b="loading",Xf(this))}};var Zf=function(a){a.a.l(a.g,"tick",a.k);null!=a.g&&(a.g.stop(),a.g.A(),a.g=null)},Yf=function(a){Zf(a);null!=a.e&&(a.a.M(a.e,"gpt",a.m),a.e=null);Xa(a.h)};
Tf.prototype.m=function(a){"isConsolePresent"==a.b&&(a=a.e.returnValue,null!=a&&a?(this.e.e(this.e.j),x(this.h,this.n,this),Xa(this.h),this.b="loaded"):this.b="failed")};var $f,ag,bg,cg,dg,eg,fg;fg=eg=dg=cg=bg=ag=$f=!1;var gg=Gb();gg&&(-1!=gg.indexOf("Firefox")?$f=!0:-1!=gg.indexOf("Camino")?ag=!0:-1!=gg.indexOf("iPhone")||-1!=gg.indexOf("iPod")?bg=!0:-1!=gg.indexOf("iPad")?cg=!0:-1!=gg.indexOf("Chrome")?eg=!0:-1!=gg.indexOf("Android")?dg=!0:-1!=gg.indexOf("Safari")&&(fg=!0));var hg=$f,ig=ag,jg=bg,kg=cg,lg=dg,mg=eg,ng=fg;var og=function(a){return(a=a.exec(Gb()))?a[1]:""},pg=function(){if(hg)return og(/Firefox\/([0-9.]+)/);if(E||Jb)return Vb;if(mg)return og(/Chrome\/([0-9.]+)/);if(ng)return og(/Version\/([0-9.]+)/);if(jg||kg){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Gb());if(a)return a[1]+"."+a[2]}else{if(lg)return(a=og(/Android\s+([0-9.]+)/))?a:og(/Version\/([0-9.]+)/);if(ig)return og(/Camino\/([0-9.]+)/)}return""}();var qg={},rg=/OS (\S+) like/,sg=/Android (\S+);/,tg=function(a,b){if(null==qg[b]){var c=a.exec(Gb());c?(c=c[1].replace(/_/g,"."),qg[b]=0<=Ja(c,b)):qg[b]=!1}return qg[b]};var ug=function(a,b){this.b=a;for(var c=[104,116,116,112,115,63,58,47,47,115,48,46,50,109,100,110,46,110,101,116,47,105,110,115,116,114,101,97,109,47,104,116,109,108,53,47].concat(b),d=[],e=0,f=0;e<c.length;){var h=c[e++];if(128>h)d[f++]=String.fromCharCode(h);else if(191<h&&224>h){var k=c[e++];d[f++]=String.fromCharCode((h&31)<<6|k&63)}else{var k=c[e++],t=c[e++];d[f++]=String.fromCharCode((h&15)<<12|(k&63)<<6|t&63)}}this.a=RegExp(d.join(""))};
ug.prototype.match=function(a){a=a.match(this.a);return null!=a?this.b?"3.1.33"==a[1]:!0:!1};
var vg={a:new ug(!1,[97,102,105,46,106,115]),g:new ug(!1,[105,109,97,51,92,46,106,115]),h:new ug(!1,[105,109,97,51,95,100,101,98,117,103,92,46,106,115]),j:new ug(!1,[105,109,97,51,95,108,111,97,100,101,114,92,46,106,115]),k:new ug(!1,[105,109,97,51,95,108,111,97,100,101,114,95,100,101,98,117,103,92,46,106,115]),b:new ug(!0,[98,114,105,100,103,101,40,91,48,45,57,93,43,92,46,91,48,45,57,92,46,93,43,41,92,46,104,116,109,108]),e:new ug(!0,[98,114,105,100,103,101,40,91,48,45,57,93,43,92,46,91,48,45,57,
92,46,93,43,41,95,100,101,98,117,103,92,46,104,116,109,108])},wg=function(){if(!mb(vg,function(a){return a.match(window.location.href)})){var a=Qd("script",void 0,void 0);if(null==Wa(a,function(a){return mb(vg,function(c){return c.match(a.src)})}))throw Error("IMA SDK is either not loaded from a google domain or is not a supported version.");}};var zg=function(a,b,c){u.call(this,"adsManagerLoaded");this.e=a;this.g=b;this.b=c||null};r(zg,u);var Ag=function(){};g=Ag.prototype;
g.N=function(){var a=new Ag;a.adTagUrl=this.adTagUrl;var b=this.adSenseParams,c={},d;for(d in b)c[d]=b[d];a.adSenseParams=c;a.adsResponse=this.adsResponse;a.isYouTube=this.isYouTube;a.location=this.location;a.a=this.a;a.b=this.b;a.language=this.language;a.linearAdSlotWidth=this.linearAdSlotWidth;a.linearAdSlotHeight=this.linearAdSlotHeight;a.nonLinearAdSlotWidth=this.nonLinearAdSlotWidth;a.nonLinearAdSlotHeight=this.nonLinearAdSlotHeight;a.useLatestAdsLoader=this.useLatestAdsLoader;a.youTubeAdType=
this.youTubeAdType;a.youTubeExperimentIds=this.youTubeExperimentIds;a.youTubeVideoAdStartDelay=this.youTubeVideoAdStartDelay;return a};g.adSenseParams=null;g.linearAdSlotWidth=0;g.linearAdSlotHeight=0;g.nonLinearAdSlotWidth=0;g.nonLinearAdSlotHeight=0;g.useLatestAdsLoader=!1;g.youTubeVideoAdStartDelay=0;var Bg={NORMAL:"normal",FULLSCREEN:"fullscreen"};var Cg=function(a){this.a=a;Math.min(Math.max(0,0),1)};var Dg=function(){new B;this.xb=null};var Eg=new B,Fg=function(a){x(a,function(a){var c=Number(a);a="forcedLayer"+a;if(!(isNaN(c)||0>=c||w(a))){var d=Eg.get(a);null==d&&(d=new Dg,A(Eg,a,d));a=d;c=new Cg(c);a.xb=c}})},Gg=function(){return Ua(Eg.O(),function(a){return null!=a.xb&&0==a.xb.a})},Hg=function(){var a=[];x(Eg.O(),function(b){b=b.xb;null!=b&&a.push(b.a)});return a.sort().join(",")};var Ig=/<[^>]*>|&[^;]+;/g,Jg=RegExp("[\u0591-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc]"),Kg=RegExp("[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]"),Lg=RegExp("^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc]"),Mg=/^http:\/\/.*/,Ng=/\s+/,Og=/\d/;E&&F(8);var Pg=function(){};var Qg={},Rg={},Sg={},Tg=function(){throw Error("Do not instantiate directly");};Tg.prototype.La=null;Tg.prototype.toString=function(){return this.content};var Wg=function(a,b){var c;c=Pd().a.createElement("DIV");var d=Ug(a(b||Vg,void 0,void 0));c.innerHTML=d;return 1==c.childNodes.length&&(d=c.firstChild,1==d.nodeType)?d:c},Ug=function(a){if(!ha(a))return String(a);if(a instanceof Tg){if(a.oa===Qg)return a.content;if(a.oa===Sg)return Fa(a.content)}return"zSoyz"},Vg={};var Xg=function(a){if(null!=a)switch(a.La){case 1:return 1;case -1:return-1;case 0:return 0}return null},Yg=function(){Tg.call(this)};r(Yg,Tg);Yg.prototype.oa=Qg;var Zg=function(){Tg.call(this)};r(Zg,Tg);Zg.prototype.oa={};Zg.prototype.La=1;var $g=function(){Tg.call(this)};r($g,Tg);$g.prototype.oa=Rg;$g.prototype.La=1;var ah=function(){Tg.call(this)};r(ah,Tg);ah.prototype.oa={};ah.prototype.La=1;var bh=function(){Tg.call(this)};r(bh,Tg);bh.prototype.oa={};bh.prototype.La=1;
var ch=function(a){function b(){}b.prototype=a.prototype;return function(a){var d=new b;d.content=String(a);return d}};ch(Zg);ch($g);var dh=ch(ah);ch(bh);(function(a){function b(){}b.prototype=a.prototype;return function(a,d){if(!String(a))return"";var e=new b;e.content=String(a);void 0!==d&&(e.La=d);return e}})(Yg);
var T=function(a){return null!=a&&a.oa===Qg?a.content:String(a).replace(eh,fh)},gh=/['()]/g,hh=function(a){return"%"+a.charCodeAt(0).toString(16)},kh=function(a){if(null!=a&&a.oa===Rg)return String(a).replace(ih,jh);a=encodeURIComponent(String(String(a)));gh.lastIndex=0;return gh.test(a)?a.replace(gh,hh):a},lh={},mh=function(a){lh[1]||(lh[1]=new Pg);var b=Xg(a);if(null==b){var c=b=0,d=!1;a=(null!=a&&a.oa===Qg?(a+"").replace(Ig,""):a+"").split(Ng);for(var e=0;e<a.length;e++){var f=a[e];Lg.test(f)?
(b++,c++):Mg.test(f)?d=!0:Kg.test(f)?c++:Og.test(f)&&(d=!0)}b=0==c?d?1:0:0.4<b/c?-1:1}return dh(1!=b?-1==b?'dir="rtl"':1==b?'dir="ltr"':"":"")},nh={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},fh=function(a){return nh[a]},oh={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03",
"\u0004":"%04","\u0005":"%05","\u0006":"%06","\u0007":"%07","\b":"%08","\t":"%09","\n":"%0A","\x0B":"%0B","\f":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12","\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18","\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D","\u001e":"%1E","\u001f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F",
"\u0085":"%C2%85","\u00a0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"},jh=function(a){return oh[a]},eh=/[\x00\x22\x26\x27\x3c\x3e]/g,
ih=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g;var ph=function(){return'<div class="close-padding"><div class="close-button"></div></div>'},qh=function(a){return'<div class="recall-button '+(a.xf?"auto-hide":"")+'"></div>'},rh=function(a){return'<a target="_blank" href="'+T(a.url)+'" class="attribution-button">'+T(a.text)+"</a>"};var sh=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};sh.prototype.N=function(){return new sh(this.left,this.top,this.width,this.height)};sh.prototype.contains=function(a){return a instanceof sh?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
sh.prototype.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};sh.prototype.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var uh=function(a,b,c){n(b)?th(a,c,b):lb(b,ma(th,a))},th=function(a,b,c){(c=vh(a,c))&&(a.style[c]=b)},vh=function(a,b){var c=Na(b);if(void 0===a.style[c]){var d=(Lb?"Webkit":Kb?"Moz":E?"ms":Jb?"O":null)+Oa(b);if(void 0!==a.style[d])return d}return c},wh=function(a,b){var c;t:{c=Od(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break t}c=""}return c||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]},xh=
function(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}E&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b},yh=function(a){if(E&&!(E&&8<=Yb))return a.offsetParent;var b=Od(a),c=wh(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=wh(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>
a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null},zh=function(a){var b,c=Od(a),d=wh(a,"position"),e=Kb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new Dd(0,0),h;b=c?Od(c):document;(h=!E)||(h=E&&9<=Yb)||(h="CSS1Compat"==Pd(b).a.compatMode);h=h?b.documentElement:b.body;if(a==h)return f;if(a.getBoundingClientRect)b=xh(a),a=je(Pd(c)),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&
!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{e=a;do{f.x+=e.offsetLeft;f.y+=e.offsetTop;e!=a&&(f.x+=e.clientLeft||0,f.y+=e.clientTop||0);if(Lb&&"fixed"==wh(e,"position")){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(Jb||Lb&&"absolute"==d)f.y-=c.body.offsetTop;for(e=a;(e=yh(e))&&e!=c.body&&e!=h;)f.x-=e.scrollLeft,Jb&&"TR"==e.tagName||(f.y-=e.scrollTop)}return f},Bh=function(a){return Ah(a)},Ah=function(a){var b=
Ch;if("none"!=wh(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a},Ch=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=Lb&&!b&&!c;return ca(b)&&!d||!a.getBoundingClientRect?new P(b,c):(a=xh(a),new P(a.right-a.left,a.bottom-a.top))},Dh=function(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===
b?"":"alpha(opacity="+100*b+")")},Eh=function(a,b){a.style.display=b?"":"none"},Fh=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;var Gh,Hh=function(a,b){da(b)||(b=[b]);var c=Ta(b,function(a){return n(a)?a:a.cd+" "+a.duration+"s "+a.timing+" "+a.bd+"s"});uh(a,"transition",c.join(","))};var Ih=function(a,b){this.h=a;this.a=Vd("div",{"class":"controls"});this.ef=b||m;this.ba=new J(this)};r(Ih,oa);g=Ih.prototype;g.Ra=!1;g.wd=1E3;g.xd=30;g.ud=45E3;g.vd=15E3;g.Gd=!1;var Jh=function(a){var b=Vd("div",{"class":"container"});Hh(b,"opacity 0.4s");a.ba.l(b,"mouseover",a.ff);a.ba.l(b,"mouseout",a.gf);b.appendChild(a.a);return b};Ih.prototype.yb=function(){var a=Jh(this);this.a.appendChild(this.h);this.display(this.h);this.pa();return a};var Kh=function(a){null==a.b&&(a.b=a.yb());return a.b};
g=Ih.prototype;g.pa=function(){null==this.W&&(this.W=ld(function(){this.Ra||(this.aa(),this.Gd=!0);this.W=null},this.Gd?this.vd:this.ud,this))};g.stop=function(){null!=this.W&&(l.clearTimeout(this.W),this.W=null)};g.display=function(a){var b=document.createEvent("Event");b.initEvent("creativeview",!0,!0);a.dispatchEvent(b)};g.qb=function(){Dh(Kh(this),1);null!=this.Sa&&(l.clearTimeout(this.Sa),this.Sa=null)};
g.aa=function(){Dh(Kh(this),this.xd/100);null==this.Sa&&(this.Sa=ld(function(){this.ef();this.Sa=null},400,this))};g.ff=function(){this.qb();this.Ra=!0;this.zb=ld(function(){this.Ra&&this.stop();this.zb=null},this.wd,this)};g.gf=function(){null!=this.zb&&(l.clearTimeout(this.zb),this.zb=null);this.Ra&&this.pa();this.Ra=!1};g.v=function(){Ih.t.v.call(this);this.stop();s(this.ba)};var Lh=function(a,b){this.m=a;this.n=new B;this.j=Vd("span");Ih.call(this,a[0],b);this.a.appendChild(this.j)};r(Lh,Ih);g=Lh.prototype;g.od=15E3;
g.yb=function(){var a=Jh(this);Jd(a,"container-rotator");this.k=Vd("div");this.a.appendChild(this.k);x(this.m,function(a,c){Jd(a,"container-highlight");var d=63/this.m.length*(c+0.5)-5,e=Vd("div",{id:"goog_"+Ka++,"class":"container-selector"});e.style.top=d+"px";this.ba.l(e,"click",function(a){Mh(this,a.target)});A(this.n,e.id,a);this.j.appendChild(e)},this);Mh(this,ce(this.j));this.pa();return a};
g.pa=function(){null==this.g&&(this.g=new M(this.od),this.ba.l(this.g,"tick",this.qf));Lh.t.pa.call(this);jd(this.g)};g.stop=function(){null!=this.g&&this.g.stop();Lh.t.stop.call(this)};g.qf=function(){Mh(this,(void 0!=this.e.nextElementSibling?this.e.nextElementSibling:be(this.e.nextSibling))||ce(this.e.parentNode))};var Mh=function(a,b){a.e&&Ld(a.e,"container-active");Jd(b,"container-active");var c=a.n.get(b.id);ae(c,a.k);a.e=b;a.k=c;a.display(c)};var Nh=function(a,b){Ih.call(this,a,b)};r(Nh,Ih);Ih.prototype.p=!1;Nh.prototype.yb=function(){var a=Jh(this);Jd(a,"container-slider");this.a.appendChild(this.h);this.ba.l(this.a,"click",this.e);this.pa();return a};Nh.prototype.qb=function(){this.display(this.h);Oh(this);Ld(Kh(this),"hidden")};Nh.prototype.aa=function(){Oh(this);Jd(Kh(this),"hidden")};Nh.prototype.e=function(a){0!=(new Dd(this.a.offsetLeft,this.a.offsetTop)).y&&(a.preventDefault(),a.stopPropagation())};
var Oh=function(a){a.p?Jd(Kh(a),"animated"):a.p=!0};var Ph=function(a,b){Ih.call(this,a[0],b);this.e=a;Jd(this.a,"container-stack")};r(Ph,Ih);Ph.prototype.aa=m;Ph.prototype.yb=function(){var a=Jh(this);x(this.e,function(a){Jd(a,"container-highlight");this.a.appendChild(a);this.display(a)},this);this.pa();return a};var Rh=function(a){null!=a?Re(Me,a)?(a=a.match(/yt_vid\/([a-zA-Z0-9_-]{11})/),a=null!=a&&1<a.length?a[1]:null):a=Se(a)?Qh(a):null:a=null;return a},Sh=function(a,b,c){null!=b||(b=!1);null!=c||(c=!1);if(null==a)return null;var d=new R("//www.youtube.com/watch"),e=d.a;Ke(e,"v",a);b&&Ke(e,"feature",c?"trueview-instream":"instream");te(d,e);return d.toString()},Qh=function(a){if(w(a))return null;var b=a.match(/^https?:\/\/[^\/]*youtu\.be\/([a-zA-Z0-9_-]+)$/);if(null!=b&&2==b.length)return b[1];b=a.match(/^https?:\/\/[^\/]*youtube.com\/video\/([a-zA-Z0-9_-]+)$/);
if(null!=b&&2==b.length)return b[1];b=a.match(/^https?:\/\/[^\/]*youtube.com\/watch\/([a-zA-Z0-9_-]+)$/);if(null!=b&&2==b.length)return b[1];a=Ee(new R(a));return Je(a,"v")?a.get("v").toString():Je(a,"video_id")?a.get("video_id").toString():null};var Th=!1,Uh="",Vh=function(a){a=a.match(/[\d]+/g);a.length=3;return a.join(".")};
if(navigator.plugins&&navigator.plugins.length){var Wh=navigator.plugins["Shockwave Flash"];Wh&&(Th=!0,Wh.description&&(Uh=Vh(Wh.description)));navigator.plugins["Shockwave Flash 2.0"]&&(Th=!0,Uh="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Xh=navigator.mimeTypes["application/x-shockwave-flash"];(Th=Xh&&Xh.enabledPlugin)&&(Uh=Vh(Xh.enabledPlugin.description))}else try{var Yh=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),Th=!0,Uh=Vh(Yh.GetVariable("$version"))}catch(Zh){try{Yh=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),Th=!0,Uh="6.0.21"}catch($h){try{Yh=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Th=!0,Uh=Vh(Yh.GetVariable("$version"))}catch(ai){}}}var bi=Th,ci=Uh;var di=function(a,b){this.b=a;this.e=b},ei=function(a,b){var c=a.e.g,d=a.e.w;null!=c&&A(b,"js","ima-"+c);null!=d&&A(b,"msid",d)},fi=function(a){return a.g(a.j())},gi=function(a){if(null==a.e)return null;var b="h."+a.h()+a.e.q;null!=a.e.g&&(b+="/n."+a.e.g,null!=a.e.b&&(b+="/"+a.e.b));return b};var hi=function(){this.a=["video"]},ii={wg:"high",Dg:"medium"},ji={kg:1E3,lg:1001,mg:1002,ng:1003,og:1004,pg:1005,qg:1006},ki={Bg:1,vg:2},li={sg:"content",Hg:"site",Ig:"site_content"};g=hi.prototype;g.Ya="high";g.Ob=!1;g.Pb=1;g.Qb=null;g.Na="video";g.Nb=1;g.Rb=null;g.Sb=null;g.Tb=!1;g.Ub=null;g.Vb=null;g.Ea=null;g.qa=null;g.Wb=null;g.Za=null;g.Xb=null;g.$b=!1;g.Yb=null;g.Wc=null;g.Vc=null;g.$a=1E5;g.ab=null;g.Yc=null;g.Xc=null;g.ac=0;g.va=null;g.bb=null;g.bc=null;g.cb=-1;g.url=null;g.eb=null;
g.cc=null;g.Zb=null;g.gc=null;g.dc=null;g.ec=null;g.fc=null;var mi=(new Date).getTime();var ni={gg:"flash",hg:"image",Jg:"skippablevideo",Kg:"standardvideo",Mg:"staticimage",Ng:"text",Qg:"video"},oi=["flash","image","staticimage"],pi=[new P(200,200),new P(250,250),new P(300,250),new P(336,250),new P(450,50),new P(468,60),new P(480,70),new P(728,90)],qi=function(a,b){var c=null!=b.linearAdSlotHeight?b.linearAdSlotHeight:0,d=null!=b.nonLinearAdSlotHeight?b.nonLinearAdSlotHeight:0;A(a,"sz",Math.max(null!=b.linearAdSlotWidth?b.nonLinearAdSlotWidth:0,null!=b.nonLinearAdSlotWidth?b.nonLinearAdSlotWidth:
0)+"x"+Math.max(c,d))},ri=function(a){var b={};b.u_tz=-(new Date).getTimezoneOffset();var c;var d=window;try{c=d.history.length}catch(e){c=0}b.u_his=c;b.u_java=navigator.javaEnabled();window.screen&&(b.u_h=window.screen.height,b.u_w=window.screen.width,b.u_ah=window.screen.availHeight,b.u_aw=window.screen.availWidth,b.u_cd=window.screen.colorDepth);navigator.plugins&&(b.u_nplug=navigator.plugins.length);navigator.mimeTypes&&(b.u_nmime=navigator.mimeTypes.length);for(var f in b)A(a,f,b[f]);A(a,"dt",
mi);t:{var h;try{h=window.top.location.href}catch(k){b=2;break t}b=null!=h?h==window.document.location.href?0:1:2}A(a,"frm",b)},si=function(a,b){if(null==b)return a;var c=b.split("_");x(c,function(a){if(!pb(ni,a))throw H(gc,null,"ad_type",String(b));});return c},ti=function(a,b){return null!=b?b.split(/[+, ]/):a},ui=function(a,b,c){a.g&&(c=Math.min(c,90));var d=[];x(pi,function(a){b>=a.width&&c>=a.height&&d.push(a.width+"x"+a.height)});return d.join(",")},vi=function(a,b){return null==b||isNaN(b)?
a:Number(b)},U=function(a,b){return null!=b?String(b):null!=a?a:null},wi=function(a,b){if(null==b)return a;switch(b.toLowerCase()){case "true":case "1":return!0;case "false":case "0":return!1}return a},xi=function(a,b,c){return null!=b&&pb(c,b)?b:a},yi=function(a){return Ua(oi,function(b){return y(a.a,b)})},zi=function(a,b){bi?A(a,"ca_type","flash"):A(a,"ca_type","image");if(null!=b){var c=b.e;null!=c&&0<c.length&&(c=c[0].h,0<c.length&&(A(a,"ca_w",c[0].width),A(a,"ca_h",c[0].height)))}},V=function(a,
b,c){null!=b&&A(c,a,b)};var Ai=function(a,b,c){di.call(this,a,b);b=new hi;a=Ee(new R(a.adTagUrl));b.Sb=xi(b.Sb,a.get("cust_age"),ji);b.Ya=xi(b.Ya,a.get("adsafe"),ii);b.Na=U(b.Na,a.get("ad_type"));b.a=si(b.a,a.get("ad_type"));if("skippablevideo"==b.a&&D&&ng)throw H(fc,null,"skippablevideo");b.Pb=vi(b.Pb,a.get("videoad_start_delay"));b.Qb=U(b.Qb,a.get("slotname"));b.Ob=wi(b.Ob,a.get("adtest"));b.Rb=U(b.Rb,a.get("afi_url"));b.Tb=wi(b.Tb,a.get("scs"));b.Ub=U(b.Ub,a.get("alternate_ad_url"));b.b=ti(b.b,a.get("channel"));b.Vb=
vi(b.Vb,a.get("cpm"));b.Ea=U(b.Ea,a.get("description_url"));b.qa=U(b.qa,a.get("eid"));b.Wb=xi(b.Wb,a.get("cust_gender"),ki);b.g=wi(b.g,a.get("overlay"));b.Za=U(b.Za,a.get("host"));b.e=ti(b.e,a.get("hostChannels"));b.Xb=vi(b.Xb,a.get("hostTierId"));b.$b=wi(b.$b,a.get("lsv"));var d=null!=this.b.language?this.b.language:a.get("hl");b.Yb=U(b.Yb,d);b.Wc=vi(b.Wc,a.get("linearAdSlotWidth"));b.Vc=vi(b.Vc,a.get("linearAdSlotHeight"));b.$a=vi(b.$a,a.get("max_ad_duration"));b.ac=vi(b.ac,a.get("min_ad_duration"));
b.ab=vi(b.ab,a.get("sdmax"));b.Yc=vi(b.Yc,a.get("nonLinearAdSlotWidth"));b.Xc=vi(b.Xc,a.get("nonLinearAdSlotHeight"));b.va=U(b.va,a.get("client"));b.bb=U(b.bb,a.get("t_pyv"));b.cb=vi(b.cb,a.get("tfcd"));b.bc=xi(b.bc,a.get("targeting"),li);b.eb=vi(b.eb,a.get("video_format"));b.cc=vi(b.cc,a.get("video_cpm"));b.Zb=U(b.Zb,a.get("loeid"));b.gc=U(b.gc,a.get("yt_pt"));b.dc=U(b.dc,a.get("ytdevice"));b.ec=U(b.ec,a.get("ytdevicever"));b.fc=U(b.fc,a.get("as_dbp"));b.h=U(b.h,a.get("ms"));b.Nb=vi(b.Nb,a.get("adBlock"));
b.url=U(b.url,a.get("url"));this.a=b;this.m=c;w(this.a.qa)||Fg(this.a.qa.split(","))};r(Ai,di);var Bi=["skippablevideo","standardvideo","video"];Ai.prototype.k={Ge:"allow",He:"exclude",Eg:"require"};var Ci=function(a){if(null!=a.a.b)return-1<a.a.b.indexOf("afitc")};Ai.prototype.h=function(){return""};Ai.prototype.g=function(a){var b=new R("//googleads.g.doubleclick.net/pagead/ads"),c=a.R();x(c,function(c){var e=a.get(c);Ke(b.a,c,e)});return b};
Ai.prototype.j=function(){var a=new B;A(a,"sdkv",gi(this));A(a,"video_product_type",null!=this.a.va?Di(this)?5:Ci(this)?7:0==this.a.va.lastIndexOf("ca-games-",0)?4:0==this.a.va.lastIndexOf("ca-video-",0)?0:-1:-1);A(a,"correlator",this.e.e);A(a,"client",this.a.va);Di(this)&&!w(this.a.url)?A(a,"url",this.a.url):A(a,"url",this.b.location?this.b.location:this.b.a);A(a,"num_ads",Ei(this));for(var b=this.a.b?this.a.b:[],c=b,d={},e=0,f=0;f<c.length;){var h=c[f++],k=ha(h)?"o"+(h[ia]||(h[ia]=++ja)):(typeof h).charAt(0)+
h;Object.prototype.hasOwnProperty.call(d,k)||(d[k]=!0,c[e++]=h)}c.length=e;b=cb(b,0,30);A(a,"channel",b.join("+"));A(a,"ad_type",this.a.Na);A(a,"output","xml_vast2");this.a.Ob&&A(a,"adtest","on");bi&&A(a,"flash",ci);V("alternate_ad_url",this.a.Ub,a);V("cpm",this.a.Vb,a);qi(a,this.b);Di(this)||pb(ii,this.a.Ya)&&A(a,"adsafe",this.a.Ya);this.a.Za&&(A(a,"host",this.a.Za),V("ht_id",this.a.Xb,a),null!=this.a.e&&V("h_ch",this.a.e.join("+"),a));V("hl",this.a.Yb,a);V("cust_age",this.a.Sb,a);V("cust_gender",
this.a.Wb,a);-1!=this.a.cb&&V("tfcd",this.a.cb,a);Ci(this)?V("afi_url",this.a.Rb,a):V("slotname",this.a.Qb,a);b=Hg();w(b)||A(a,"eid",b);ri(a);null!=this.a.Ea&&(Ci(this)?b=this.a.Nb:(b=this.e,null==b.j&&(b.j=new nf),b=b.j,c=this.a.Ea,null!=c&&b.b!=c?(b.a=1,b.b=c):b.a=null!=c?b.a+1:1,b=b.a),1!=b&&A(a,"ad_block",b));A(a,"unviewed_position_start","1");b=this.a.Pb;A(a,"videoad_start_delay",null!=b?b:1);ei(this,a);yi(this.a)&&(A(a,"ea","0"),null!=this.b.nonLinearAdSlotWidth&&null!=this.b.nonLinearAdSlotHeight&&
A(a,"image_size",ui(this.a,this.b.nonLinearAdSlotWidth,this.b.nonLinearAdSlotHeight)));Fi(this)&&A(a,"video_format",null!=this.a.eb&&Di(this)?this.a.eb:mg&&0<=Ja(pg,6)||hg&&0<=Ja(pg,4)||Fb&&tg(sg,2.3)?43:18);b=null!=this.a.bb?this.a.bb:y(this.a.Na.split("_"),"text")?this.k.Ge:this.k.He;A(a,"t_pyv",b);V("min_ad_duration",this.a.ac,a);0<this.a.$a&&A(a,"max_ad_duration",Gi(this.a.$a,Ei(this)));0<this.a.ab&&A(a,"sdmax",Gi(this.a.ab,Ei(this)));zi(a,this.m);Di(this)&&(b=Rh(this.a.Ea),null!=b&&A(a,"video_doc_id",
"yt_"+b));V("description_url",this.a.Ea,a);Di(this)&&(V("lact",this.b.b,a),V("loeid",this.a.Zb,a),V("lsv",this.a.$b,a),V("scs",this.a.Tb,a),V("targeting",this.a.bc,a),V("video_cpm",this.a.cc,a),V("yt_pt",this.a.gc,a),V("ytdevice",this.a.dc,a),V("ytdevicever",this.a.ec,a),V("as_dbp",this.a.fc,a));V("ms",this.a.h,a);b=this.b;null!=b.a&&V("ref",b.a,a);null!=this.b.adSenseParams&&V("loc",this.b.adSenseParams.page_location,a);return a};
var Fi=function(a){return Ua(Bi,function(a){return y(this.a.a,a)},a)},Ei=function(a){return Ci(a)||Di(a)?1:y(a.a.Na.split("_"),"text")?3:1},Di=function(a){return"ca-pub-6219811747049371"==a.a.va},Gi=function(a,b){return Math.round(1.1*(a||0)+0*b)};var Ii=function(a){K.call(this);this.m=a;this.e=null;this.p="normal";this.g=this.volume=null;this.h=new od;this.Z=!1;this.content={};this.H=!1;var b=0;x(a,function(a){b+=Hi(a)});x(a,function(c,d){var e=c.g;e.b=a.length;var f=d+1;e.a=f;e.e=f;e.h=b})};r(Ii,K);var W=function(a){if(null!=a.e)return a.e;throw I(bc,null,"An ad has not been selected.");};Ii.prototype.D=function(){var a=Ra(this.m,this.e);-1!=a&&++a<this.m.length?this.e=this.m[a]:this.e=null};
Ii.prototype.Cd=function(){if(null==this.e){if(z(this.m))throw I(qc);this.e=this.m[0];if(null==this.e.a)throw H(qc);}};Ii.prototype.F=function(a){null!=this.e?this.o(new ta(a,W(this))):this.o(new ta(a,null))};var Ji=function(a){null==a.a&&(a.a=new J(a));return a.a},Ki=function(a,b){null!=a.k&&(hd(Ji(a),a.k,"companion_display_error",function(){}),Kf(a.k,b))},Li=["contentPauseRequested","contentResumeRequested","adError","allAdsCompleted"];g=Ii.prototype;g.kb=function(){this.A()};
g.v=function(){null!=this.e&&(Mi(this.e,null),this.e=null);s(this.a);this.a=null;s(this.k);this.k=null;this.H=!1;Ii.t.v.call(this)};g.kc=function(){return[]};g.za=function(a){Ni(this);if(!Oi(this))throw I(oc,null,Li.join(", "));this.ua(a);this.Z=!0;this.Ab()};g.Ab=function(){this.F("loaded")};
g.ha=function(a,b,c){if(!this.H){if(null==a)throw I(gc,null,"displayContainer");if(null!=c){var d=new Ab(ob(this.h));t:{var e=ob(c),f=d.contains;if("function"==typeof e.every)d=e.every(f,d);else if(ea(e)||n(e))d=Va(e,f,d);else{for(var h=xb(e),k=wb(e),t=k.length,C=0;C<t;C++)if(!f.call(d,k[C],h&&h[C],e)){d=!1;break t}d=!0}}if(!d)throw I(gc,null,"opt_adsRenderingSettings should be instance of AdsRenderingSettings");d=this.h;if(null==c.bitrate||0>=c.bitrate)c.bitrate=-1;null==c.mimeTypes&&(c.mimeTypes=
[]);rb(d,c)}this.content=b;this.g=a;this.Cd();this.H=!0}};g.wb=function(){return-1};g.Ja=m;g.Ca=function(){};g.Da=function(){};g.Qc=function(){};g.T=function(){Ni(this);if(!this.Z)throw H(bc,null,"Must call init before start.");};g.stop=function(){this.kb()};g.Ba=function(a){(isNaN(a)||0>a||1<a)&&Bc(this,gc,null,"volume",String(a));this.volume=a};g.Oc=function(){Ni(this);this.ua("fullscreen")};g.Nc=function(){Ni(this);this.ua("normal")};
g.ua=function(a){if(!pb(Bg,a))throw I(gc,null,"view mode",a);this.p=a};g.Pc=function(){};var Ni=function(a){if(!a.H)throw I(bc,null,"Ads manager is not correctly configured.");},Oi=function(a){return Va(Li,function(a){if(Ic(this))a=Rc(this.ga,ca(a)?String(a):void 0);else{var c=Yc(this);a=!!c&&Rc(c,a)}return a},a)};Ii.prototype.P=function(){return null};var Pi=function(a){Ii.call(this,a);this.j=null;this.G=!1;this.mc=Vd("div",{style:"display:none;position:absolute;top:0;left:0;bottom:0;right:0;z-index:2000"})};r(Pi,Ii);g=Pi.prototype;g.T=function(){Pi.t.T.call(this);this.g.Ma();this.j=this.g.Fa();if(null!=this.j){Zd(this.j);var a=this.wc();this.j.appendChild(a);Qi(this);this.F("start")}};g.Oc=function(){null!=this.b&&this.b.qb()};g.Nc=function(){null!=this.b&&this.b.aa()};g.Ja=function(){Pi.t.Ja.call(this);Qi(this)};
g.v=function(){s(this.b);this.g=this.b=null;null!=this.j&&(Zd(this.j),this.j=null);Pi.t.v.call(this)};g.wc=function(){var a=Ri(W(this));if(null==a)throw Ye(Si(W(this))),I(qc);Ti(a,Ji(this));Ui(a,pa);Ye(Vi(W(this)));Ki(this,W(this));return Wi(this,[Xi(a)])};g.kd=function(a,b){return new Ih(a[0],b)};
var Wi=function(a,b){null!=a.b&&a.b.stop();a.b=a.kd(b,p(a.I,a));var c=Kh(a.b);Md(c,"autoalign",a.h.autoAlign);Md(c,"viewmode-fullscreen","fullscreen"==a.p);c.appendChild(a.mc);Ji(a).l(c,"click",pa);(null!=a.e&&Yi(W(a))||a.h.useStyledNonLinearAds)&&a.lc(a.b.a);return c};Pi.prototype.lc=function(a){var b=Ji(this);this.w=Wg(qh,{xf:this.G});b.l(this.w,"click",this.K);var c=Wg(ph);b.l(c,"click",this.Ec);a.appendChild(c)};
var Qi=function(a){if(null!=a.b){var b=Ah(a.g.Fa()),c=Ah(ce(a.b.a));if(c.width>b.width||c.height>b.height)throw a.stop(),I(ic,null);}};Pi.prototype.Ec=function(){this.I();this.F("userClose")};Pi.prototype.I=function(){this.b.stop();ae(this.w,this.b.a)};Pi.prototype.K=function(a){pa(a);this.b.qb();this.b.pa();ae(this.b.a,this.w);ld(function(){Eh(this.mc,!1)},this.Ze,this);Eh(this.mc,!0)};var Zi=function(a){Pi.call(this,a);this.n=!1;!z(a)&&null!=a[0].e&&(a=(new R(a[0].e.adTagUrl)).a.get("channel"),this.Pa=null!=a&&-1<a.split("+").indexOf("afitc"))&&(this.G=!0)};r(Zi,Pi);g=Zi.prototype;g.Ze=500;g.Pa=!1;
g.kd=function(a,b){if(this.n||null==b)b=m;var c;this.Pa?c=new Nh(a[0]):Te()&&this.n?c=new Ih(a[0],b):"fullscreen"==this.p?c=new Ph(a):1<a.length?(c=new Lh(a),c.od=15E3):c=new Ih(a[0],b);c.ud=this.Pa?1E4:45E3;c.wd=100;c.xd=b!=m?30:0;c.vd=6E3;Md(c.a,"scalable",this.n);Md(Kh(c),"afi",this.Pa);Md(Kh(c),"yt-text-overlay",Te()&&this.n);return c};
g.of=function(a){var b=a.a;null!=b?(null==this.r&&(this.r=a.getExtension("AdSense").p),$i(b,ma(this.df,a,b)),Ui(b,ma(this.cf,a,b)),b.Aa=!1,"Text"==b.getContentType()&&(this.n=!0),this.q.push(b)):Ye(Si(a))};g.ha=function(a,b,c){Zi.t.ha.call(this,a,b,c);this.h.autoAlign=!0;null!=this.m[0]&&0<Of(this.m[0]).length?Ki(this,this.m[0]):this.F("companionBackfill")};
g.wc=function(){null==this.q&&(this.q=[],x(this.m,this.of,this));if(0==this.q.length)throw I(qc);var a=[];x(this.q,function(b){Ti(b,Ji(this));"Flash"!=b.getContentType()||b.getAd().getExtension("TemplateAd")||(b.sd=!0);a.push(Xi(b));aj(b,this.r.e)},this);if(0==a.length)throw I(qc);return Wi(this,a)};g.Ec=function(a){x(this.q,function(a){Ye(a.wa("close"))},this);Zi.t.Ec.call(this,a)};
g.lc=function(a){Zi.t.lc.call(this,a);var b=this.m[0].getExtension("AdSense"),c=b.k,b=b.m,c=Wg(rh,{text:null!=c?c:this.r.a,url:null!=b?b:this.r.b});a.appendChild(c)};g.df=function(a,b){Ye(Vi(a));Ye(b.wa("creativeview"));$i(b,m)};
g.cf=function(a,b,c){if(1==c.nodeType){var d;if(c.getBoundingClientRect)d=xh(c),d=new Dd(d.left,d.top);else{d=je(Pd(c));var e=zh(c);d=new Dd(e.x-d.x,e.y-d.y)}if(Kb&&!F(12)){var f;E?f="-ms-transform":Lb?f="-webkit-transform":Jb?f="-o-transform":Kb&&(f="-moz-transform");var h;f&&(h=wh(c,f));h||(h=wh(c,"transform"));c=h?(c=h.match(Fh))?new Dd(parseFloat(c[1]),parseFloat(c[2])):new Dd(0,0):new Dd(0,0);c=new Dd(d.x+c.x,d.y+c.y)}else c=d}else f=ga(c.ma),h=c,c.targetTouches?h=c.targetTouches[0]:f&&c.ma().targetTouches&&
(h=c.ma().targetTouches[0]),c=new Dd(h.clientX,h.clientY);f=R;a=a.getExtension("AdSense");a=new f(a.a);f=b.ca();isNaN(f)&&(f=Bh(Xi(b)).width);h=b.$();isNaN(h)&&(h=Bh(Xi(b)).height);b=["0","aw="+f,"ah="+h,"nx="+c.x,"ny="+c.y,"viewMode="+this.p,"sdkv=h.3.1.33","eids="+Hg()];Ke(a.a,"label","elementclick");Ke(a.a,"value",b.join(";"));Xe(a.toString());this.F("click")};g.ua=function(a){this.p!=a&&(Zi.t.ua.call(this,a),null!=this.j&&(Zd(this.j),a=this.wc(),this.j.appendChild(a)),this.F("expandedChanged"))};var bj=function(a){u.call(this,a);this.g=[];this.e={};this.h=null;this.b=!0};r(bj,u);var cj=function(a,b){ta.call(this,"adMetadata",a);this.b=b||null};r(cj,ta);var dj=function(a){switch(a){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}};var ej=function(){};ej.prototype.a=null;var fj,gj=function(){};r(gj,ej);
var ij=function(a){return(a=hj(a))?new ActiveXObject(a):new XMLHttpRequest},jj=function(a){var b={};hj(a)&&(b[0]=!0,b[1]=!0);return b},hj=function(a){if(!a.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.b};
fj=new gj;var kj=function(a){K.call(this);this.K=new B;this.h=a||null;this.e=!1;this.p=this.a=null;this.r="";this.b=0;this.g=this.q=this.j=this.n=!1;this.m=0;this.k=null;this.I="";this.w=this.D=!1};r(kj,K);
var lj=/^https?$/i,mj=["POST","PUT"],nj=function(a,b){a.m=Math.max(0,b)},rj=function(a,b){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.r+"; newUri="+b);a.r=b;a.b=0;a.n=!1;a.e=!0;a.a=a.h?ij(a.h):ij(fj);a.p=a.h?a.h.a||(a.h.a=jj(a.h)):fj.a||(fj.a=jj(fj));a.a.onreadystatechange=p(a.G,a);try{a.q=!0,a.a.open("GET",b,!0),a.q=!1}catch(c){oj(a);return}var d=a.K.N(),e=Wa(d.R(),pj),f=l.FormData&&!1;!y(mj,"GET")||e||f||A(d,"Content-Type","application/x-www-form-urlencoded;charset=utf-8");
yb(d,function(a,b){this.a.setRequestHeader(b,a)},a);a.I&&(a.a.responseType=a.I);"withCredentials"in a.a&&(a.a.withCredentials=a.D);try{qj(a),0<a.m&&(a.w=E&&F(9)&&fa(a.a.timeout)&&ca(a.a.ontimeout),a.w?(a.a.timeout=a.m,a.a.ontimeout=p(a.H,a)):a.k=ld(a.H,a.m,a)),a.j=!0,a.a.send(""),a.j=!1}catch(h){oj(a)}},pj=function(a){return"content-type"==a.toLowerCase()};
kj.prototype.H=function(){"undefined"!=typeof aa&&this.a&&(this.b=8,this.o("timeout"),this.a&&this.e&&(this.e=!1,this.g=!0,this.a.abort(),this.g=!1,this.b=8,this.o("complete"),this.o("abort"),sj(this)))};var oj=function(a){a.e=!1;a.a&&(a.g=!0,a.a.abort(),a.g=!1);a.b=5;tj(a);sj(a)},tj=function(a){a.n||(a.n=!0,a.o("complete"),a.o("error"))};kj.prototype.v=function(){this.a&&(this.e&&(this.e=!1,this.g=!0,this.a.abort(),this.g=!1),sj(this,!0));kj.t.v.call(this)};
kj.prototype.G=function(){this.ia||(this.q||this.j||this.g?uj(this):this.P())};kj.prototype.P=function(){uj(this)};
var uj=function(a){if(a.e&&"undefined"!=typeof aa&&(!a.p[1]||4!=(a.a?a.a.readyState:0)||2!=vj(a)))if(a.j&&4==(a.a?a.a.readyState:0))ld(a.G,0,a);else if(a.o("readystatechange"),4==(a.a?a.a.readyState:0)){a.e=!1;try{var b=vj(a),c,d;t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break t;default:d=!1}if(!(c=d)){var e;if(e=0===b){var f=me(String(a.r))[1]||null;if(!f&&self.location)var h=self.location.protocol,f=h.substr(0,h.length-1);e=!lj.test(f?f.toLowerCase():"")}c=
e}c?(a.o("complete"),a.o("success")):(a.b=6,tj(a))}finally{sj(a)}}},sj=function(a,b){if(a.a){qj(a);var c=a.a,d=a.p[0]?m:null;a.a=null;a.p=null;b||a.o("ready");try{c.onreadystatechange=d}catch(e){}}},qj=function(a){a.a&&a.w&&(a.a.ontimeout=null);fa(a.k)&&(l.clearTimeout(a.k),a.k=null)},vj=function(a){try{return 2<(a.a?a.a.readyState:0)?a.a.status:-1}catch(b){return-1}},wj=function(a){try{return a.a?a.a.responseText:""}catch(b){return""}},xj=function(a){try{return a.a?a.a.responseXML:null}catch(b){return null}};var yj=function(){},Cj=function(a,b,c){var d=m;a=new R("https://gdata.youtube.com/feeds/api/videos/"+a);null!=c&&(b=p(b,c),d=p(d,c));Bj(new kj,a,b,d)},Dj=function(a,b,c){var d=m;a=new R("https://gdata.youtube.com/feeds/api/channels/"+a);null!=c&&(b=p(b,c),d=p(d,c));Bj(new kj,a,b,d)},Bj=function(a,b,c,d){Ej(b);nj(a,2E3);var e=new J(a);hd(e,a,"success",function(a){yj.prototype.uc(a,c,e)});hd(e,a,["error","timeout"],function(a){a=a.target;var b=null;0!=a.b&&(b=Error(dj(a.b)));d(b);e.A();a.A()});rj(a,
b)},Ej=function(a){Ke(a.a,"alt","json");Ke(a.a,"v","2")};yj.prototype.uc=function(a,b,c){a=a.target;var d;d=a.a?td(a.a.responseText):void 0;b(d||{});c.A();a.A()};var Gj=function(a){Fj(this,a)},Fj=function(a,b){if(b){var c=b.entry;if(c){var d=c.id;d&&Ua(d.$t.split(":"),function(a,b,c){return"channel"==a?(this.e=c[b+1],!0):!1},a);(d=c.author)&&d[0]&&d[0].name&&(a.b=d[0].name.$t);(c=c.media$thumbnail)&&c[0]&&(a.a=c[0].url)}}};var Ij=function(a){Hj(this,a)};Ij.prototype.b=!1;var Hj=function(a,b){if(b){var c=b.entry;if(c){var d=c.id;d&&Ua(d.$t.split(":"),function(a,b,c){return"video"==a?(this.e=c[b+1],!0):!1},a);if(d=c.title)a.title=d.$t;if(d=c.media$group)if(d=d.yt$uploaderId)a.a=d.$t;c.yt$accessControl&&(c=Wa(c.yt$accessControl,function(a){return"list"==a.action}))&&(a.b="denied"!=c.permission)}}};var Jj=function(a){this.j=null!=a?a:new B},Kj=function(a,b){var c=a.j.get(b);return null!=c?c:[]};var Lj=function(){this.p="";this.w=new B};Lj.prototype.vc=function(){return null};var Mj=function(a,b){null!=b&&(a.w=new B(b))};Lj.prototype.getAd=function(){return this.Gc};Lj.prototype.wa=function(a){for(var b=this.w.get(a)||[],c=this.Gc.b;null!=c;){var d=Nj(this,c)||Nj(this,c,!0);null!=d&&(d=d.w.get(a)||[],b=$a(d,b));c=c.b}return b};var Nj=function(a,b,c){var d=c||!1;return Wa(b.j,function(a){var b=a.U==this.U;return a instanceof this.constructor&&(d||b)},a)};var Oj=function(a,b,c,d){Lj.call(this);this.G=a;this.b=b;this.Gb=c;this.a=ab(d);this.V=null};r(Oj,Lj);Oj.prototype.ja=function(){return this.b};Oj.prototype.vc=function(){var a=Wa(this.a,function(a){return!w(a.b)&&-1!=a.b.indexOf("javascript")&&("VPAID"==a.j||"surveys"==a.j)});return null!=a?a.e:null};var Pj=function(a){this.g=a;this.b=new B;this.h=new B;this.a=new J(this);this.e=[];this.j=this.k=!1};r(Pj,oa);Pj.prototype.v=function(){Qj(this);this.a.A();this.b.clear();this.e=[]};var Qj=function(a){kb(a.b.Ha(!0),function(a){this.a.M(this.g,a,this,!1,this)},a);a.k=!1},Sj=function(a,b,c){var d=a.b.get(b);null==d&&(d=[],A(a.b,b,d),"creativeview"==b?Rj(a):a.a.l(a.g,b,a,!1,a));d.push(c)};
Pj.prototype.handleEvent=function(a){"creativeview"==a.type&&!this.j&&null!=this.e&&0<this.e.length&&(Tj(this,this.e),this.j=!0);var b;t:switch(b=a.type,b){case "click":b=!0;break t;case "error":b=!ub(this.h.b,b)&&!this.j;break t;default:b=!ub(this.h.b,b)}b&&(b=this.b.get(a.type,[]),0<b.length&&(Tj(this,b),A(this.h,a.type,!0)))};var Tj=function(a,b){x(b,function(a){Xe(a)},a)},Rj=function(a){a.k||(a.k=!0,a.a.l(a.g,"creativeview",a,!1,a))};var Uj=function(){K.call(this);this.g=this.h=this.e=!1;this.b=0;this.j=[];this.k=!1};r(Uj,K);
var Vj=function(a,b){null==b||a.e||(a.a=b,a.p=!D&&!Nb,a.n=D||Nb,a.e=!0,a.a instanceof K||a.p?a.a.addEventListener("click",p(a.m,a),!1):a.n?(a.a.addEventListener("touchstart",p(a.w,a),!1),a.a.addEventListener("touchmove",p(a.r,a),!1),a.a.addEventListener("touchend",p(a.q,a),!1)):a.e=!1)},Wj=function(a){null!=a.a&&a.e&&(a.p?a.a.removeEventListener("click",p(a.m,a),!1):a.n&&(a.a.removeEventListener("touchstart",p(a.w,a),!1),a.a.removeEventListener("touchmove",p(a.r,a),!1),a.a.removeEventListener("touchend",
p(a.q,a),!1)),a.e=!1,a.h=!1,a.g=!1,a.b=0,a.j=[],a.k=!1)};Uj.prototype.w=function(a){this.h=!0;this.b=a.touches.length;this.k=Xj(this,a.touches)||1!=a.touches.length;Yj(this,a.touches)};Uj.prototype.r=function(a){this.g=!0;this.b=a.touches.length};Uj.prototype.q=function(a){this.h&&1==this.b&&!this.g&&!this.k&&Xj(this,a.changedTouches)&&this.o(new u("click"));this.b=a.touches.length;0==this.b&&(this.g=this.h=!1)};Uj.prototype.m=function(){this.o(new u("click"))};
var Yj=function(a,b){a.j=[];x(b,function(a){Ya(this.j,a.identifier)},a)},Xj=function(a,b){return Ua(b,function(a){return y(this.j,a.identifier)},a)};Uj.prototype.v=function(){Wj(this);Uj.t.v.call(this)};var Zj=function(a){u.call(this,a)};r(Zj,u);var ak=function(a,b,c,d,e,f,h){this.g=a;this.b=b;this.a=c;this.k=d;this.h=e;this.e=f;this.j=h};var bk=function(a,b,c,d,e){this.a=a;this.b=b;this.e=c;this.g=d;this.j=e};bk.prototype.h=function(){return this.j};var ck=function(){K.call(this)};r(ck,K);ck.prototype.ub=function(){return null};var dk=function(){K.call(this);this.m=new B;this.k=-1;this.p=!1};r(dk,K);var ek=function(a){this.b=!1;this.a=a.hb();this.volume=a.gb()};dk.prototype.v=function(){fk(this);dk.t.v.call(this)};var fk=function(a){null!=a.a&&a.a.A();null!=a.b&&a.b.ib();null!=a.h&&a.h.A();a.h=null;null!=a.j&&a.j.A();a.j=null;a.m.clear();a.k=-1;a.p=!1},X=function(a,b,c){c&&null!=a.m.get(b)||(A(a.m,b,!0),a.o(b))};
dk.prototype.q=function(){var a=this.b.lb();-1!=a&&(this.b.Qa(0.25*a)&&X(this,"firstquartile",!0),this.b.Qa(0.5*a)&&X(this,"midpoint",!0),this.b.Qa(0.75*a)&&X(this,"thirdquartile",!0));gk(this)};var gk=function(a){0>a.k||a.p||!a.b.Qa(a.k)&&!a.b.pb()||(a.p=!0,X(a,"engagedview",!0),a.o(new Zj("viewCount")))};g=dk.prototype;
g.we=function(){X(this,"creativeview",!0);null!=this.n||null!=this.e||this.a.l(this.b,"click",this.Je);null!=this.n&&(this.h=new Uj,this.a.l(this.h,"click",this.ed,!1),Vj(this.h,this.n));null!=this.e&&(this.j=new Uj,this.a.l(this.j,"click",this.ed,!1),Vj(this.j,this.e));X(this,"start",!0);(this.b.hb()||0==this.b.gb())&&X(this,"mute",!1)};
g.xe=function(){var a=this.b.hb(),b=this.b.gb();this.g.a&&!a||!a&&0==this.g.volume&&0<b?X(this,"unmute",!1):(!this.g.a&&a||0<this.g.volume&&0==b)&&X(this,"mute",!1);this.g.a=a;this.g.volume=b};g.ve=function(){this.b.pb()?X(this,"complete",!0):this.b.nb()&&!this.b.td()&&(this.g.b=!0,X(this,"pause",!1))};g.ye=function(){this.g.b&&(this.g.b=!1,X(this,"resume",!1))};g.se=function(){this.b.zd()?(gk(this),X(this,"complete",!0)):this.b.ra()};g.ed=function(){X(this,"click",!1)};
g.te=function(){X(this,"error",!1)};g.Ae=function(){X(this,"skipshown",!0)};g.Ce=function(){X(this,"videoAuthorIconClicked",!1)};g.Be=function(){X(this,"videoAuthorClicked",!1)};g.De=function(){X(this,"videoLearnMoreClicked",!1)};g.Ee=function(){X(this,"videoTitleClicked",!0)};g.Sc=function(){X(this,"skip",!0)};g.ze=function(){X(this,"skip",!0)};g.Je=function(){X(this,"click",!1)};g.ue=function(){X(this,"fullscreen",!1)};var hk=function(a){a=0>a?0:Math.round(a);("0"+a%60).slice(-2);return 3600<=a?""+Math.floor(a/3600)+":"+("0"+Math.floor(a/60)%60).slice(-2)+":"+("0"+a%60).slice(-2):""+Math.floor(a/60)%60+":"+("0"+a%60).slice(-2)},ik=function(a){x(a.split(","),function(a){a=a.split("=");2==a.length&&(ya(a[0]),ya(a[1]))})};var jk=function(){K.call(this);this.a=0};r(jk,K);var kk=function(a,b,c,d,e){jk.call(this);this.b=a;this.j=b;this.k=c;this.g=d;this.p=da(e)?e:[e]};r(kk,jk);
var lk=function(a){if(1!=a.a){a.o("begin");a.o("play");q();a.a=1;if(!ca(Gh))if(E)Gh=F("10.0");else{var b=document.createElement("div"),c=Lb?"-webkit":Kb?"-moz":E?"-ms":Jb?"-o":null;b.innerHTML='<div style="'+(c?c+"-transition:opacity 1s linear;":"")+'transition:opacity 1s linear;">';b=b.firstChild;c=b.style[Na("transition")];Gh=""!=("undefined"!==typeof c?c:b.style[vh(b,"transition")]||"")}Gh?(uh(a.b,a.k),a.h=ld(a.m,void 0,a)):a.e(!1)}};
kk.prototype.m=function(){Hh(this.b,this.p);uh(this.b,this.g);this.h=ld(p(this.e,this,!1),1E3*this.j)};kk.prototype.stop=function(){1==this.a&&this.e(!0)};kk.prototype.e=function(a){uh(this.b,"transition","");l.clearTimeout(this.h);uh(this.b,this.g);q();this.a=0;a?this.o("stop"):this.o("finish");this.o("end")};kk.prototype.v=function(){this.stop();kk.t.v.call(this)};var mk=function(a,b,c,d,e){return new kk(a,b,{opacity:d},{opacity:e},{cd:"opacity",duration:b,timing:c,bd:0})};var rk=function(a,b){K.call(this);this.C=a;this.p=0;this.g=!1;this.b=1;this.L=this.n=this.h=this.k=this.e=null;this.a=new J(this);this.m=!1;this.r=this.q=this.j=0;this.W=null;this.Cb=!1;this.C.g&&(this.a.l(b,"touchstart",this.Nd),this.a.l(b,"touchmove",this.Jd),this.a.l(b,"touchend",this.Md));this.e=Wg(nk);this.k=Rd("videoAdUiPreSkipButton",this.e);this.h=Rd("videoAdUiPreSkipText",this.k);this.n=Rd("videoAdUiPreSkipThumbnail",this.k);fe(this.h,ok({Db:5}));var c=(w(this.C.m)?null:"//i4.ytimg.com/vi/"+
this.C.m+"/mqdefault.jpg")||"";if(w(c))Jd(this.h,"videoAdUiPreSkipTextOnly");else{var d=document.createElement("img");d.setAttribute("src",c);Jd(d,"videoAdUiPreSkipThumbnailImage");this.n.appendChild(d)}this.L=Wg(pk,{Ld:this.C.g?"\u00ab Swipe to Skip":qk()});Eh(this.e,!1);b.appendChild(this.e);Eh(this.L,!1);Dh(this.L,0);b.appendChild(this.L);this.a.l(this.L,"click",this.Kd)};r(rk,K);g=rk.prototype;
g.v=function(){null!=this.e&&($d(this.e),this.e=null);null!=this.L&&($d(this.L),this.L=null);this.a.A();this.a=null;this.Cb=!1;rk.t.v.call(this)};g.Nd=function(a){var b=a.ma();3==this.b&&1==b.touches.length&&(this.m=!0,this.r=b.touches[0].pageX,a.Ga())};g.Jd=function(a){var b=a.ma();3==this.b&&1==b.touches.length&&this.m&&(b=b.touches[0].pageX,this.j=this.q-b,this.q=b,b=this.r-b,0<b&&(this.L.style.right=b+"px"),a.Ga())};
g.Md=function(){this.m=!1;if(3==this.b){var a=Bh(de(this.L));if(parseInt(this.L.style.right,10)+4*this.j>0.25*a.width&&0<this.j){Eh(this.L,!1);this.g=!0;this.o("skip");return}}this.L.style.right=0};g.Kd=function(a){a.vb();3!=this.b||this.g||(this.g=!0,this.o("skip"))};g.dd=function(){null==this.W&&(this.W=ld(function(){this.Cb=!0;lk(mk(this.L,this.C.Ke,"ease-in",1,this.C.Le));this.W=null},this.Cb?5E3:15E3,this))};g.Ie=function(){Dh(this.L,1);null!=this.W&&(l.clearTimeout(this.W),this.W=null)};var tk=function(a,b){K.call(this);this.C=a;this.e=this.q=this.m=this.k=this.g=null;this.a=new J(this);this.b=Wg(this.C.k,{Va:"Advertisment:"});this.a.l(this.b,"touchmove",this.Qd);this.m=Rd("videoAdUiProgress",this.b);this.p=Rd("videoAdUiAttribution",this.b);this.h=Rd("videoAdUiAuthorIcon",this.b);this.j=Rd("videoAdUiAuthorName",this.b);this.n=Rd("videoAdUiLearnMore",this.b);this.g=Rd("videoAdUiTitle",this.b);this.k=Rd("videoAdUiTopBar",this.b);null!=this.h&&this.a.l(this.h,"click",this.Od);null!=
this.j&&this.a.l(this.j,"click",this.Pd);null!=this.n&&this.a.l(this.n,"click",this.Rd);null!=this.g&&this.a.l(this.g,"click",this.Td);null!=this.k&&this.a.l(this.b,"mouseover",this.Sd);this.C.e&&(this.e=new rk(this.C,this.b),this.e.Ua=this);this.C.g&&Jd(this.b,"videoAdUi-swipeable");Eh(this.b,!1);b.appendChild(this.b);this.q=Vd("div",{style:"width:100%;height:100%"});this.a.l(this.q,"click",this.Ud);this.b.appendChild(this.q);sk(this)};r(tk,K);
tk.prototype.v=function(){null!=this.b&&($d(this.b),this.b=null);null!=this.e&&(this.e.A(),this.e=null);this.q=null;this.a.A();this.a=null;tk.t.v.call(this)};var sk=function(a){var b=a.C.a&&a.C.w,c=a.C.a&&a.C.q,d=a.C.a&&a.C.r,e=a.C.a&&a.C.h;null!=a.g&&(Eh(a.g,b),null!=a.h&&Eh(a.h,c),null!=a.j&&Eh(a.j,d),null!=a.n&&Eh(a.n,e),null!=a.k&&Eh(a.k,b||c||d||e));null!=a.p&&Eh(a.p,a.C.p);null!=a.m&&Eh(a.m,a.C.j&&!0)};g=tk.prototype;g.Od=function(){this.o("videoAuthorIconClicked")};g.Pd=function(){this.o("videoAuthorClicked")};
g.Rd=function(){this.o("videoLearnMoreClicked")};g.Td=function(){this.o("videoTitleClicked")};g.Qd=function(a){a.Ga()};g.Ud=function(){this.o("click")};g.Sd=function(){Jd(this.k,"videoAdUiTopBarTransitions")};var uk=function(a){return'<div class="videoAdUi"><div class="videoAdUiTopBar videoAdUiTopBarWithGradients"><div class="videoAdUiAuthorIcon"></div><div class="videoAdUiTitle ellipsisText"></div><div class="videoAdUiAuthorName ellipsisText"></div><div class="videoAdUiLearnMore">Learn More</div></div><div class="videoAdUiBottomBar"><div class="videoAdUiAttribution"'+T(mh(a.Va))+">"+T(a.Va)+'</div></div><div class="videoAdUiProgressBar"><div class="videoAdUiProgress"></div></div></div>'},vk=function(a){return'<div class="videoAdUi videoAdUi-gvn"><div class="videoAdUiTopBar"><div class="videoAdUiAttribution videoAdUiAttribution-gvn"'+
T(mh(a.Va))+">"+T(a.Va)+'</div></div><div class="videoAdUiProgressBar"><div class="videoAdUiProgress"></div></div></div>'},nk=function(){return'<div class="videoAdUiPreSkipContainer"><div class="videoAdUiPreSkipButton"><div class="videoAdUiPreSkipText"></div><div class="videoAdUiPreSkipThumbnail"></div></div></div>'},ok=function(a){var b="";a="You can skip to video in "+T(a.Db);return b+a},pk=function(a){return'<div class="videoAdUiSkipContainer"><div class="videoAdUiSkipButton">'+T(a.Ld)+'<div class="videoAdUiSkipIcon">'+
T("\u25b6")+"|</div></div></div>"},qk=function(){return"Skip Ad"};var wk=function(){this.e=!1;this.Ke=this.Le=0.5;this.p=this.a=!0;this.h=!1;this.j=!0;this.w=this.r=this.q=this.n=!1;this.k=null;this.g=!1},xk=function(a,b,c,d,e){var f=new wk;f.D=b;f.m=d;f.h=e;f.e=c;f.n=a;f.k=uk;f.H=Sh(b,!0,c);f.g=Fc&&Gg();return f};var Y=function(a){Ii.call(this,a);this.q=this.Q=null;this.j=new dk;this.n=new Pj(this.j);this.G=this.w=!1};r(Y,Ii);var yk=[];Y.prototype.v=function(){zk(this);var a=!1;null!=this.g&&(a=this.g.oc(),this.g.aa(),this.g=null);this.w&&(this.w=!1,this.b.nb()||this.b.pb()||this.b.ra(),!D&&!Nb||a||(this.b.rc(0.001),this.b.Mb("","")),this.F("contentResumeRequested"),this.F("allAdsCompleted"),D&&this.b.mb()&&!a&&this.b.qd());null!=this.b&&Za(yk,this.b);Y.t.v.call(this)};
var zk=function(a){s(a.Q);a.Q=null;a.q=null;s(a.j);s(a.n);a.I=null};Y.prototype.D=function(){zk(this);Y.t.D.call(this);null!=this.e&&(this.j=new dk,this.n=new Pj(this.j))};
Y.prototype.V=function(a,b,c){this.G||(this.G=!0,this.F("contentPauseRequested"));this.w=!0;var d=this.j,e=this.b,f=this.I,h=this.Q;fk(d);d.b=e;d.e=h||null;d.b.Rc();d.g=new ek(d.b);d.n=f||null;d.a=new J(d);d.a.l(d.b,"timeUpdate",d.q);d.a.l(d.b,"volumeChange",d.xe);d.a.l(d.b,"pause",d.ve);d.a.l(d.b,"play",d.ye);d.a.l(d.b,"end",d.se);d.a.l(d.b,"beginFullscreen",d.ue);d.a.l(d.b,"skip",d.Sc);d.a.l(d.b,"start",d.we);d.a.l(d.b,"error",d.te);null!=d.e&&(d.a.l(d.e,"videoAuthorIconClicked",d.Ce),d.a.l(d.e,
"videoAuthorClicked",d.Be),d.a.l(d.e,"videoLearnMoreClicked",d.De),d.a.l(d.e,"videoTitleClicked",d.Ee),d.a.l(d.e,"skipshown",d.Ae),d.a.l(d.e,"skip",d.Sc),d.a.l(d.e,"PUBLISHER_INVOKED_SKIP",d.ze));Ji(this).l(this.j,"videoAuthorIconClicked",this.r);Ji(this).l(this.j,"videoAuthorClicked",this.r);Ji(this).l(this.j,"videoLearnMoreClicked",this.r);Ji(this).l(this.j,"videoTitleClicked",this.r);Ji(this).l(this.b,"timeUpdate",this.K);Ak(this,a);Bk(this,a);this.g.Bb();this.Q&&this.b.Tc(Ck(this,a));this.b.Mb(b,
c);this.b.hc();Ki(this,a)};
var Ck=function(a,b){var c=Yi(b)&&!b.k()?Vf(b):null,d=Dk(b)&&!Ek(b),e;null===(Fk(b,lf)||Fk(b,mf)?"1":Yi(b)?"2":null)?e=null:(e=Dk(b)?"2_1":"2",e=(Fk(b,lf)||Fk(b,mf)?"1":Yi(b)?"2":null)+"_"+e);return new bk(e,c,a.h.contentId,a.q.n,d)},Gk=function(a,b){var c=b.a;if(!(null!=c&&c instanceof Oj))throw a.n.handleEvent(new u("error")),I(pc);var d=c.V;if(w(d)){var e=null!=b&&Te(),c=a.b.nd(c.a,a.h.bitrate,a.h.mimeTypes||[],e);if(null!=c)return c}if(null==d||w(d))throw a.n.handleEvent(new u("error")),I(pc);
return new ak("","",0,0,0,d,"")};g=Y.prototype;g.Ab=function(){this.F("loaded");this.o(new cj(W(this)))};g.ha=function(a,b,c){Y.t.ha.call(this,a,b,c);this.b=a.qc()};g.Qc=function(){if(null!=this.e&&Dk(W(this)))if(null!=this.Q){var a=this.Q;null!=a.e&&a.e.C.e&&3==a.e.b&&(a=a.e,a.C.e&&3==a.b&&!a.g&&(a.g=!0,a.o("PUBLISHER_INVOKED_SKIP")))}else this.n.handleEvent(new u("skip")),Hk(this)};
g.T=function(){Y.t.T.call(this);Ik(this,W(this));this.I=this.g.Lb();try{var a=Gk(this,W(this));if(this.h.useVideoAdUi){var b=W(this),c;c=Gk(this,b).e;var d=b.getExtension("AdSense"),e=(null===c?!1:"modules"==(new R(c)).e().toLowerCase())||null!=d&&d.r,f=Rh(c),h;if(Se(b.e.location)||this.h.useStyledLinearAds)h=xk(e,f,Dk(b),this.h.contentId,this.h.useLearnMoreButton);else{var k,t;if(!(t=!Fk(b,lf)&&!Fk(b,mf)))if(Fk(b,mf)){var C=b.w.get("DFP");t=null!=C?"InstreamSelect"==C.a:!1}else t=!1;if(t){var Pa=
Dk(b),L=xk(e,f,Pa,this.h.contentId,!1);L.k=vk;L.j=!1;k=L}else{var N=Dk(b),Ma=xk(e,f,N,this.h.contentId,!1);Ma.p=!1;Ma.j=!1;Ma.a=!1;k=Ma}h=k}var zj=this.q=h;this.Q=new tk(zj,document.body);var xg=zj.D;null!=xg&&(W(this).p=xg,Jk(this,xg));var Aj=this.Q;null!=Aj.b&&Eh(Aj.b,!0)}ld(p(Y.prototype.V,this,W(this),a.e,a.b))}catch(yg){this.D(),null!=this.e?(zc(this,wc,yg),this.T()):(this.w?zc(this,wc,yg):(null!=this.k&&Kf(this.k,Hf()),Bc(this,wc,yg)),this.stop())}};g.Ba=function(a){Ni(this);this.b.Bd(a)};
g.Pc=function(a){Ni(this);var b;if(b=null!=this.e)b=null!=Kk(W(this));b&&(b=W(this),(Ue(b.e.location)||Te())&&null!=b.a&&b.a instanceof Oj&&(b.a.V=a))};g.Ca=function(){Ni(this);this.b.ra()};g.Da=function(){Ni(this);this.b.hc()};g.wb=function(){Ni(this);var a=this.b.lb(),b=this.b.jb();return 0<=a&&0<=b?Math.max(0,a-b):-1};g.af=function(){this.b.ra()};g.bf=function(){this.b.ub();this.D();null!=this.e?(zc(this,wc,this.b.ub()),this.T()):(Bc(this,wc,this.b.ub()),this.stop())};
var Bk=function(a,b){Lk(a,b);var c=b.a;if(null!=c&&c instanceof Oj){x(sa,function(a){var b=c.wa(a);null!=b&&Mk(this,a,b);b=c.Gb.get(a);null!=b&&Mk(this,a,b)},a);var d=Ji(a);null!=c.ja()&&d.l(a.j,"click",a.af,!1,a);d.l(a.j,"error",a.bf,!1,a)}Dk(b)&&(a.j.k=30)},Lk=function(a,b){for(var c=["AdSense","DFP"],d=0;d<c.length;d++){var e=b.getExtension(c[d]);null!=e&&x(sa,function(a){var b=Kj(e,a);z(b)||Mk(this,a,b)},a)}},Mk=function(a,b,c){x(c,function(a){Sj(this.n,b,a)},a);Nk(a,b)},Ak=function(a,b){x(Vi(b),
function(a){var b=this.n;Ya(b.e,a);Rj(b)},a)},Ik=function(a,b){x(Si(b),function(a){Sj(this.n,"error",a)},a)},Nk=function(a,b){pb(ua,b)&&Ji(a).l(a.j,b,a.r,!1,a)};
Y.prototype.r=function(a){switch(a.type){case "start":this.F("start");break;case "pause":this.F("pause");break;case "resume":this.F("resume");break;case "firstquartile":this.F("firstquartile");break;case "midpoint":this.F("midpoint");break;case "thirdquartile":this.F("thirdquartile");break;case "complete":this.F("complete");this.D();null!=this.e?this.T():this.stop();break;case "click":null!=this.q&&this.q.h?this.b.nb()?this.Da():this.Ca():this.F("click");break;case "videoAuthorIconClicked":Ok(this);
break;case "videoAuthorClicked":Ok(this);break;case "videoLearnMoreClicked":this.b.ra();this.F("click");break;case "videoTitleClicked":a=W(this).H;null!=a&&(a=Sh(a.e),null!==a&&(this.b.ra(),Ze(a)));break;case "skipshown":this.F("skippableStateChanged");break;case "skip":Hk(this)}};var Hk=function(a){a.F("skip");ld(function(){this.F("complete");this.stop()},0,a)};Y.prototype.P=function(){if(null==this.e)return null;try{return Gk(this,W(this)).e}catch(a){return null}};
Y.prototype.K=function(){var a=this.b.lb(),b=this.b.jb();if(null!=this.Q&&0<=a&&0<=b){var c=this.Q;if(null!=c.b){if(null!=c.p){var d=c.p,e="Advertisment:",f=hk(a-b);fe(d,e+(" ("+f+")"))}null!=c.m&&(d=c.m.style,e=100*(b/a)+"%","number"==typeof e&&(e=Math.round(e)+"px"),d.width=e);null!=c.e&&(c=c.e,c.p=a,0>=c.p||5>=c.p||3==c.b||(0>b?c.b=1:5>=b?(2!=c.b&&(lk(mk(c.e,0.5,"ease-out",0,1)),Eh(c.e,!0)),c.b=2):(3!=c.b&&(Eh(c.L,!0),a=new kk(c.e,0.5,{opacity:1,visibility:"shown"},{opacity:0.9,visibility:"hidden"},
{cd:"opacity",duration:0.5,timing:"ease-out",bd:0}),d=mk(c.L,0.5,"ease-out",0,1),lk(a),lk(d),c.a.l(de(c.L),"mouseover",c.Ie),c.a.l(de(c.L),"mouseout",c.dd),c.dd()),c.b=3,c.o("skipshown"))),2==c.b&&(b=Math.round(5-b),a=" "+b,60<=b&&(a=" "+hk(b)),b=ok({Db:a}),fe(c.h,b)))}}};
var Jk=function(a,b){null!=a.Q&&Cj(b,function(a){a=new Ij(a);Pk(W(this))==a.e&&(Qk(this,a),w(a.a)||Dj(a.a,function(a){a=new Gj(a);if(null!=this.Q){var b=this.Q,c=a.b;b.C.r=!w(c);b.C.b=c;if(null!=b.j){var c="",h="by "+T(b.C.b);fe(b.j,c+h)}sk(b);b=this.Q;c=a.a;b.C.q=!w(c);null!=b.h&&(h=document.createElement("img"),h.setAttribute("src",c),Jd(h,"videoAdUiAuthorIconImage"),b.h.appendChild(h),null!=b.g&&Jd(b.g,"videoAdUiTitleWithAuthorIcon"));sk(b)}W(this).D=a;this.F("youTubeChannelMetadata")},this))},
a)},Qk=function(a,b){if(null!=a.Q){var c=a.Q,d=b.title;c.C.w=!w(d);c.C.title=d;Jg.test(c.C.title);null!=c.g&&fe(c.g,c.C.title);sk(c)}W(a).H=b;a.F("youTubeVideoMetadata")},Ok=function(a){var b;b=W(a).D;null!=b&&(b=w(b.e)?null:"//www.youtube.com/channel/UC"+b.e,null!==b&&(a.b.ra(),Ze(b)))};var Rk=function(){this.b=1;this.h=-1;this.a=1;this.k=this.j=0;this.g=!1;this.e=1};Rk.prototype.getPodIndex=function(){return this.j};var Sk=function(a,b,c){this.a=a;this.b=b;this.e=c};var Tk=function(a){this.a=a};g=Tk.prototype;g.Lb=function(){return this.a.Lb()};g.Jc=function(){};g.Fa=function(){return this.a.Fa()};g.qc=function(){return this.a.qc()};g.oc=function(){return this.a.oc()};g.aa=m;g.Bb=m;g.Ma=m;var Vk=function(a,b,c,d,e,f,h,k){K.call(this);this.h=this.k=0;this.m=a;this.p=b;this.Z=c;this.j=null;this.H=d;this.V=f;this.D=k.a;this.n=k;this.b=null;this.P="normal";this.r=null;this.q=e;this.g=[];this.I=this.K=this.w=!1;this.G=h;Uk(this)};r(Vk,K);
var Xk=function(a){null!=a.a&&(a.a.A(),a.a=null);a.q.aa();Wk(a);a.n.a=a.D;a.w=!1},Yk=function(a,b){null!=b&&(a.r=b,null!=a.b&&a.b.Ba(a.r))},Zk=function(a,b){null!=b&&(a.P=b);null!=a.b&&(a.b.ua(b),a.b.Ja())},Uk=function(a){x(a.m,function(a){a=new R(a.a.adTagUrl);var c=a.a.get("max_ad_duration");ca(c)||a.a.get("pmxd")})};Vk.prototype.Me=function(a){this.n.a=this.D;var b=a.g;z(b)||(a=a.e,a.b&&x(b,function(a){a.I=!1},this),Ya(this.g,new Sk(b,a.b,a.e)));this.k++;$k(this)};
Vk.prototype.nc=function(){this.n.a=this.D;this.k++;$k(this)};
var $k=function(a){a.k<a.m.length&&null!=a.m[a.k]&&!(2<=a.g.length-a.h)?al(a):a.K||(a.o("adBreakInitialized"),a.K=!0)},al=function(a){var b=a.m[a.k];a.n.a="on_master_ad";a.H.rd(b.a,b)},bl=function(a){null==a.p||Ua(a.g,function(a){return!a.b})||(a.g=Sa(a.g,function(a){return!(a.b&&!a.e)}))},dl=function(a){if(a.h<a.g.length){var b=a.g[a.h];Wk(a);try{var c=b.a,b=null;if(Wf(c[0]))b=new Y(c);else if(null!=c[0]&&cl(c[0],"nonlinear"))b=new Pi(c);else throw Error("No valid creative type found.");b.k=a.G;
b.ha(new Tk(a.q),{currentTime:0},a.V);a.b=b;if(null==a.b)throw Error("The current ads manager is not defined");null!=a.e&&(a.e.A(),a.e=null);a.e=new J(a);var d=a.b;a.e.l(d,"adError",a.Fb,!1,a);a.e.l(d,"click start pause firstquartile midpoint thirdquartile complete loaded adMetadata".split(" "),a.Hd,!1,a);a.e.l(d,["allAdsCompleted"],m);a.e.l(d,"contentPauseRequested",a.Gb,!1,a);a.e.l(d,"contentResumeRequested",a.Eb,!1,a);if(null!=a.b&&a.b instanceof Pi){var e;e=(Ue(Kk(W(a.b)).location)?Ri(W(a.b)):
null).Fc;e=-1!=e?e:15;null!=a.j&&a.j.A();a.j=new M(1E3*e);hd(a.e,a.j,"tick",a.Id,!1,a)}a.b.za(a.P);null!=a.r&&a.b.Ba(a.r);if(null!=a.b&&a.b instanceof Pi)a.o("contentResumeRequested"),a.q.Ma(),a.b.T(),null!=a.j&&jd(a.j);else if(null!=a.b&&a.b instanceof Y)a.q.Bb(),a.b.T();else throw Error("Unknown ads manager type.");}catch(f){a.h++,dl(a)}a.k<a.m.length&&null!=a.m[a.k]&&al(a)}else a.o("contentResumeRequested"),el(a)},Wk=function(a){null!=a.j&&(a.j.A(),a.j=null);null!=a.e&&(a.e.A(),a.e=null);null!=
a.b&&(a.b.kb(),a.b=null)};Vk.prototype.Id=function(){Wk(this);el(this)};Vk.prototype.Fb=function(){this.h++;dl(this)};Vk.prototype.Eb=function(){this.h++;dl(this)};Vk.prototype.Gb=function(){this.I||(this.o("contentPauseRequested"),this.I=!0)};var el=function(a){a.w=!1;a.o("allAdsCompleted")};Vk.prototype.Hd=function(a){fl(this,a.type,a.getAd());this.o(a)};
var fl=function(a,b,c){if("loaded"==b||"start"==b||"adMetadata"==b||"firstquartile"==b){var d=0,e=0,f=!1;x(a.g,function(a,b){var h=a.a;-1!=Ra(h,c)&&(f=a.b);d+=h.length;b<this.h&&(e+=h.length)},a);b=c.g;var h=e+b.e;b.b=d+(a.m.length-a.k);b.a=h;b.g=f;b.j=a.Z;b.k=a.p}};var gl=function(a){this.a=a};var hl=function(a){u.call(this,a);this.b=null};r(hl,u);var jl=function(a,b,c){K.call(this);this.e=a;this.b=[];this.j=null!=c&&"boolean"==typeof c.backlog?c.backlog:!1;this.m=null!=c&&fa(c.prefetch)&&0<=c.prefetch?c.prefetch:0;this.a=null;this.g=!1;il(this,b)};r(jl,K);
var kl=function(a){this.a=a;this.e=this.b=!1},ll=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];0<d&&(b.push(Math.round(1E3*(d-4))/1E3),b.push(Math.round(1E3*d)/1E3))}return b},ml=function(a){null!=a.a&&(a.a.A(),a.a=null);a.e.stop();a.g=!1},ol=function(a){if(a.g){var b=Wa(a.b,function(a){return-1==a.a},a);null!=b&&nl(a,!0,b)}},il=function(a,b){x(b,function(a){if(isNaN(a))throw Error("The ad play time is not a number:"+a);gb(this.b,new kl(a),function(a,b){return eb(a.a,b.a)})},a)};
jl.prototype.h=function(){if(this.g){var a=this.e.currentTime;if(isNaN(a)||0>a)pl(this);else{var b=ql(this,a);this.j?x(b,function(a){nl(this,!0,a)},this):nl(this,!0,b[b.length-1]);nl(this,!1,rl(this,a))}}};var ql=function(a,b){for(var c=[],d=0;d<a.b.length;d++){var e=a.b[d];-1!=e.a&&e.a<=b&&Ya(c,e)}return c},rl=function(a,b){for(var c=0;c<a.b.length;c++){var d=a.b[c];if(-1!=d.a&&b>=d.a-a.m&&b<d.a&&!a.b[c].b)return d}return null};jl.prototype.k=function(){pl(this)};
var pl=function(a){a.o(new hl("contentTrackingError"))},nl=function(a,b,c){if(null!=c){if(!c.b){var d=new hl("requestAds");d.b=c.a;a.o(d);c.b=!0}b&&!c.e&&(b=new hl("playAds"),b.b=c.a,a.o(b),c.e=!0)}};var sl=function(){this.e=this.a=0;this.b=[]},tl=function(a,b){a.b[a.e++]=b},ul=function(a){if(a.a!=a.e){var b=a.b[a.a];delete a.b[a.a];a.a++;return b}};g=sl.prototype;g.X=function(){return this.e-this.a};g.fa=function(){return 0==this.e-this.a};g.clear=function(){this.e=this.a=this.b.length=0};g.contains=function(a){return y(this.b,a)};g.O=function(){return this.b.slice(this.a,this.e)};var vl=function(a,b,c,d){Ii.call(this,[]);this.G=a;this.r=new B;this.j=this.b=null;this.V=d;this.K=new sl;this.n=null;this.w=b;this.I=!1;this.q=null};r(vl,Ii);g=vl.prototype;
g.ha=function(a,b,c){null!=this.j&&(ml(this.j),this.j.A(),this.j=null);vl.t.ha.call(this,a,b,c);c=this.G.b.R();b=new nd(b);this.j=new jl(b,c,{prefetch:4});x(c,function(b,c){if(isNaN(b))throw H($b,null,"timeOffset",b+"");var f=fa(b)&&!isNaN(b)?this.G.b.get(b,[]):[];if(!z(f)){f=new Vk(f,b,0==b||-1==b?b:c,this.w,a,this.h,this.k,this.V);if(ub(this.r.b,b))throw H(nc,null,"Multiple ad breaks cannot share same ad play time.");A(this.r,b,f)}},this);this.q=c[c.length-1];Ua(c,function(a){if(-1==a)return this.q=
a,!0;this.q=this.q<a?a:this.q;return!1},this)};
g.za=function(a){vl.t.za.call(this,a);null!=this.j&&(wl(this),this.a=new J(this),this.a.l(this.j,"requestAds",this,!1,this),this.a.l(this.j,"playAds",this,!1,this),this.a.l(this.j,"contentTrackingError",this,!1,this),this.a.l(this.w,"contentComplete",this.re,!1,this),this.w.Hb(),this.w.Ta(!1),a=this.j,a.g||(null==a.a&&(a.a=new J(a)),a.a.l(a.e,"currentTimeUpdate",a.h,!1),a.a.l(a.e,"contentWrapperError",a.k,!1)),jd(a.e.a),a.g=!0,this.j.h(),a=fa(0)&&!isNaN(0)?this.G.b.get(0,[]):[],z(a)&&this.F("contentResumeRequested"))};
g.Ab=function(){var a=new gl(this.kc());this.o(new cj(null,a))};g.kb=function(){this.A()};g.v=function(){this.w.Ta(!0);if(0<this.r.X()){var a=this.r.O();x(a,this.Ib,this);this.r.clear()}wl(this);S.e=of();null!=this.g&&(this.g.aa(),this.g=null);vl.t.v.call(this)};g.T=function(){vl.t.T.call(this)};g.stop=function(){null!=this.b&&Xk(this.b)};g.Ca=function(){if(null!=this.b){var a=this.b;null!=a.b&&a.b.Ca()}};g.Da=function(){if(null!=this.b){var a=this.b;null!=a.b&&a.b.Da()}};
g.Ba=function(a){vl.t.Ba.call(this,a);null!=this.b&&Yk(this.b,a)};g.Ja=function(){vl.t.Ja.call(this);null!=this.b&&Zk(this.b,this.p)};g.wb=function(){return null!=this.b?null!=this.b.b?this.b.b.wb():-1:-1};g.kc=function(){return this.G.b.R()};g.Cd=function(){};g.handleEvent=function(a){"contentTrackingError"!=a.type&&(tl(this.K,a),xl(this))};
var wl=function(a){null!=a.a&&(a.a.A(),a.a=null);a.I=!1;null!=a.j&&ml(a.j)},xl=function(a){if(null==a.n){var b=ul(a.K);if(null!=b){a.n=b;var c=a.r.get(a.n.b);null!=c?"requestAds"==b.type?(null==a.a&&(a.a=new J(a)),a.a.l(c,"click start pause firstquartile midpoint thirdquartile complete loaded adMetadata".split(" "),a.o,!1,a),a.a.l(c,"allAdsCompleted",a.hd,!1,a),a.a.l(c,"contentPauseRequested",a.fd,!1,a),a.a.l(c,"contentResumeRequested",a.gd,!1,a),a.a.l(c,"adBreakInitialized",a.jd,!1,a),Zk(c,a.p),
null==c.a&&(c.a=new J(c),c.a.l(c.H,"adsLoaderSdkAdLoaded",c.Me,!1,c),c.a.l(c.H,"adsLoaderSdkAdError",c.nc,!1,c)),$k(c)):"playAds"==b.type?(null!=a.b&&a.b.w&&a.Ib(a.b),a.b=c,Yk(a.b,a.volume),Zk(a.b,a.p),a=a.b,a.w=!0,bl(a),0<a.g.length?dl(a):("always"==a.n.a&&null!=a.G&&Kf(a.G,Hf()),0==a.p&&a.o("contentResumeRequested"),el(a))):(a.n=null,xl(a)):(a.n=null,xl(a))}}};g=vl.prototype;
g.Ib=function(a){Xk(a);vb(this.r,a.p);this.b=null;null!=this.a&&(this.a.M(a,"click start pause firstquartile midpoint thirdquartile complete loaded adMetadata".split(" "),this.o,!1,this),this.a.M(a,"allAdsCompleted",this.hd,!1,this),this.a.M(a,"contentPauseRequested",this.fd,!1,this),this.a.M(a,"contentResumeRequested",this.gd,!1,this),this.a.M(a,"adBreakInitialized",this.jd,!1,this))};g.re=function(a){this.I=!0;-1==this.q&&(a.b=!1);ol(this.j)};
g.hd=function(a){a=a.target;if(a.p==this.q&&(this.w.Hb(),this.w.Ta(!0),this.F("allAdsCompleted"),-1==this.q)){S.clear();var b=this.k.b;null!=b&&Af(b,null,null)}this.Ib(a);this.n=null;xl(this)};g.fd=function(){var a=this.j;a.e.stop();a.g=!1;this.F("contentPauseRequested")};g.gd=function(){this.F("contentResumeRequested");if(!this.I){var a=this.j;jd(a.e.a);a.g=!0}this.n=null};g.jd=function(){this.n=null;xl(this)};
g.F=function(a){var b=null;null!=this.b&&(b=this.b.h<this.b.g.length?this.b.g[this.b.h].a[0]:null);this.o(new ta(a,b))};var yl=function(a){Ii.call(this,a);this.j="goog_"+Ka++};r(yl,Ii);g=yl.prototype;g.za=function(a){yl.t.za.call(this,a);a=zl(W(this));this.b=Vd("iframe",{src:/\.html$/.test(a)?v(a):"../vpaid/Loader.html?"+a,style:"border:0; opacity:0; margin:0; overflow:hidden;padding:0; width:100%; height:100%;"});Ji(this).l(window,"message",this.q);Ji(this).l(this.b,"load",this.$e);Ji(this).l(this.b,"error",this.n);this.g.Fa().appendChild(this.b)};
g.T=function(){yl.t.T.call(this);this.g.Ma();this.b.style.opacity=1;Al(this,"startAd")};g.Ca=function(){Al(this,"pauseAd")};g.Da=function(){Al(this,"resumeAd")};g.v=function(){var a=this.g.Fa();null!=a&&Zd(a);yl.t.v.call(this)};g.Ab=function(){};g.$e=function(){var a=this.h.bitrate,b=W(this);Al(this,"initAd",{desiredBitrate:a,creativeData:null!=b.a?b.a.p:"",session:this.j,viewMode:this.p})};
var Al=function(a,b,c){null!=a.b?(null!=c||(c={}),c.type=b,a.b.contentWindow.postMessage(wd(c),"*")):(Ac(a,xc,null),a.stop())};yl.prototype.q=function(a){a=a.ma();a.source==this.b.contentWindow&&(a=td(a.data),a.session==this.j&&this.F(a.type))};yl.prototype.n=function(a){Ac(this,qc,a);this.stop()};var Bl=function(a){this.j=0;this.b=null;this.k=a;this.e=null;this.a=-1;this.g=4E3;this.h=5E3;this.m=0},Cl=function(a){var b=q()-a.m;a.h=0<a.h-b?a.h-b:0;a.g=a.g<a.h?a.g:a.h};var Dl=function(a,b){this.a=a;this.g=b||null};var Fl=function(a){R.call(this,a);this.b=new B;a=this.ea;var b=a.indexOf(";"),c=null;0<=b?(se(this,a.substring(0,b)),c=a.substring(b+1)):se(this,a);El(this,c)};r(Fl,R);Fl.prototype.toString=function(){return Gl(this,Fl.t.toString.call(this))};Fl.prototype.e=function(){return""};
var El=function(a,b){w(b)||x(b.split(";"),function(a){var b=a.indexOf("=");if(0<b){var e=za(a.substring(0,b));a=za(a.substring(b+1));b=this.b.get(e);null!=b?y(b,a)||b.push(a):b=[v(a)];A(this.b,e,b)}},a)},Hl=function(a){if(w("ord"))return null;a=a.b.get("ord");return null!=a?a:null},Il=function(a,b,c){w(b)||(c=Ta(c,v),A(a.b,b,c))},Gl=function(a,b){var c=[v(b)];bb(c,Jl(a));return c.join(";")},Jl=function(a){var b=Hl(a);null!=b?w("ord")||vb(a.b,"ord"):b=[v(q())];var c=[];x(a.b.R(),function(a){x(this.b.get(a),
function(b){bb(c,a+"="+b)})},a);bb(c,"ord="+b[0]);Il(a,"ord",b);return c};Fl.prototype.N=function(){return new Fl(this.toString())};var Kl=["iu","sz"],Ll=function(a){if(null==a.adTagUrl)return!1;a=new R(a.adTagUrl);return"googleads.g.doubleclick.net"==a.Y&&"/pagead/ads"==a.ea},Ml=function(a){var b=a.adTagUrl;if(null==b)return!1;a=Be(new R(b));return(w(a)?0:/\/gampad\/ads/.test(a))?Va(Kl,function(a){return 0<=ne(b,a,b.search(oe))}):!1},Nl=function(a){a=a.adTagUrl;if(null==a)return!1;a=new Fl(a);var b=a.Y,c;if(c=!wa(b,".g.doubleclick.net")){if(b=wa(b,"doubleclick.net"))a=Gl(a,a.ea),b=w(a)?!1:/\/(ad|pfad)[x|i|j]?\//.test(a);c=b}return c?
!0:!1};var Ol=function(a,b,c){this.j=b;this.b=c;this.h=null;this.a=new J(this);this.n=a;this.g=this.e=null;this.k=!1},Ql=function(a,b,c){a.h=b;a.m=c;Pl(a);a.j.j?a.p():hd(a.a,a.j,"initialized",a.p,!1,a)};Ol.prototype.p=function(){var a=this.j.b,b=a.h&&a.m?a.I:void 0,c=a.h&&a.p&&0!=a.q?a.q:void 0,d=a.h&&a.j?a.P:void 0,e=a.h&&a.j?a.K:void 0,a=wf(a);null!=b&&(this.b.r=b);null!=c&&(this.b.e=c);null==d||xa(d)||(this.b.m=d);null==e||xa(e)||(this.b.k=e);null!=a&&(this.b.p=a);Rl(this)};
var Rl=function(a){if(null===a.h)Sl(a);else{var b=new R(a.h.adTagUrl),c=v(b.a.get("vid")),b=v(b.a.get("cmsid")),d=a.b.m,e=a.b.k;a.b.m=c;a.b.k=b;if(w(c)||w(b))Sl(a);else if(c==d&&b==e)Sl(a);else{var f=a.j.b;Af(f,c,b);Cf(f,a.h);yf(f);a.g=new M(100);a.a.l(a.g,"tick",function(){f.G&&"retrieved"==f.k?Sl(this):yf(f)},!1,a);jd(a.g)}}},Pl=function(a){a.e=new M;hd(a.a,a.e,"tick",function(){Sl(this)},!1,a);kd(a.e,a.n);jd(a.e)},Sl=function(a){null!=a.a&&(a.a.A(),a.a=null);null!=a.e&&(a.e.stop(),a.e=null);null!=
a.g&&(a.g.stop(),a.g=null);a.k=!0;null===a.m||a.m()};var Tl=function(a,b){di.call(this,a,b)};r(Tl,di);Tl.prototype.h=function(){return"d."};Tl.prototype.j=function(){return null};Tl.prototype.g=function(){var a=new Fl(this.b.adTagUrl),b=gi(this);null!=b&&Il(a,"dc_sdkv",[b]);return a};var Ul=function(a){di.call(this,a,null)};r(Ul,di);Ul.prototype.h=function(){return""};Ul.prototype.g=function(a){return new R(a.get("adTagUrl"))};Ul.prototype.j=function(){var a=new B;A(a,"adTagUrl",this.b.adTagUrl);A(a,"adsResponse",this.b.adsResponse);return a};var Vl=function(a,b){di.call(this,a,b)};r(Vl,di);Vl.prototype.h=function(){return"x."};Vl.prototype.g=function(a){var b=new R(this.b.adTagUrl);x(a.R(),function(c){if(xa(a.get(c)))Ie(b.a,c);else{var d=a.get(c);Ke(b.a,c,d)}});return b};
Vl.prototype.j=function(){var a=new B;A(a,"sdkv",gi(this));A(a,"correlator",this.e.r);A(a,"scor",this.e.e);ei(this,a);var b=this.e.a;null!=b&&(this.e.a=null,A(a,"fbidx",b));b=this.e.h;null!=b&&A(a,"ppid",b);var b="null",c=this.e.b;null!=c?b=c:(c=this.b.location,w(c)?c=!1:(c=new R(c),!c.da||"http"!=c.da&&"https"!=c.da?c=!1:(c=c.Y,c=-1==c.indexOf(".")||c.match(/^[\.0-9]*$/)?!1:!0)),c&&(b=this.b.location));A(a,"url",b);b=this.e.n;null!=b&&A(a,"submodel",b);b=this.e.p;null!=b&&(b=Wl(b),A(a,"ciu_szs",
b));A(a,"impl","");return a};var Wl=function(a){var b=[];x(a,function(a){0<a.length&&b.push(Ta(a,function(a){return a.width+"x"+a.height}).join("|"))});return b.join(",")};var Xl=function(a,b,c){di.call(this,a,b);this.k=w(a.youTubeAdType);a=new hi;a.a=si(a.a,this.b.youTubeAdType);if("skippablevideo"==a.a&&D&&ng)throw H(fc,null,"skippablevideo");a.qa=U(a.qa,this.b.youTubeExperimentIds);this.a=a;this.m=c;w(this.a.qa)||Fg(this.a.qa.split(","))};r(Xl,Tl);Xl.prototype.g=function(a){a=Xl.t.g.call(this,a);this.k||Yl(this,a);return a};
var Zl=function(a){var b=a.b,c=a.a,d=a.m,e=new B;bi&&A(e,"flash",ci);qi(e,b);yi(c)&&(A(e,"ea","0"),null!=b.nonLinearAdSlotWidth&&null!=b.nonLinearAdSlotHeight&&A(e,"image_size",ui(c,b.nonLinearAdSlotWidth,b.nonLinearAdSlotHeight)));zi(e,d);A(e,"lact",b.b);A(e,"videoad_start_delay",b.youTubeVideoAdStartDelay);ri(e);null!=b.a&&V("ref",b.a,e);A(e,"sdkv",gi(a));return e},Yl=function(a,b){var c=Zl(a),d=Ta(c.R(),function(a){var b=c.get(a);return a+"="+(null!=b?b:"")});Il(b,"afvparams",[encodeURIComponent(String(d.join("&")))])};var $l=function(a,b){return!Nl(a)&&!Ml(a)||w(a.youTubeAdType)?Nl(a)?new Tl(a,S):Ll(a)?new Ai(a,S,b):Ml(a)?new Vl(a,S):new Ul(a):new Xl(a,S,b)};var am=function(a){Jj.call(this);this.b=isNaN(a)?-1:a};r(am,Jj);var bm=function(a){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(a,"application/xml");if("undefined"!=typeof ActiveXObject){var b=new ActiveXObject("MSXML2.DOMDocument");if(b){b.resolveExternals=!1;b.validateOnParse=!1;try{b.setProperty("ProhibitDTD",!0),b.setProperty("MaxXMLSize",2048),b.setProperty("MaxElementDepth",256)}catch(c){}}b.loadXML(a);return b}throw Error("Your browser does not support loading xml documents");};var cm=function(a){return'<div class="text-container '+(a.sc?"pyv":"")+'"><div class="text-inner-container">'+(a.sc?'<a class="text-image-link" target="_blank" href="'+T(a.na)+'"><img src="'+T(a.sc)+'" class="text-image">'+(a.duration?'<div class="text-image-duration">'+T(a.duration)+"</div>":"")+"</a>":"")+'<a class="text-title" href="'+T(a.na)+'" target="_blank" dir='+T(a.dir)+">"+T(a.title)+'</a><div class="text-description" dir='+T(a.dir)+">"+T(a.text)+"</div>"+(a.pd?'<a target="_blank" href="'+
T(a.na)+'" class="channel">'+T(a.pd)+"</a>":"")+"</div></div>"},dm=function(a){return'<div class="flash-container '+(a.capture?"click-capture":"")+'"><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="'+T(a.width)+'" height="'+T(a.height)+'"><param name="movie" value="'+T(a.url)+'"><param name="quality" value="high"><param name="wmode" value="transparent"><param name="AllowScriptAccess" value="never"><param name="FlashVars" value="clickTAG='+
kh(a.na)+'"><embed width="'+T(a.width)+'" height="'+T(a.height)+'" wmode="transparent" type="application/x-shockwave-flash" src="'+T(a.url)+'" allowscriptaccess="never" pluginspage="//www.macromedia.com/go/getflashplayer" flashvars="clickTAG='+kh(a.na)+'"></object><a class="click-layer" target="_blank" href="'+T(a.na)+'"></a></div>'},em=function(a){return'<div class="image-container"><a target="_blank" href="'+T(a.na)+'"><img src="'+T(a.url)+'" border="0"></a></div>'};var fm=function(a,b,c,d,e){Lj.call(this);w(a)&&(a="goog_"+Ka++ +"_ima");this.q=v(a);this.S=b;this.Oa=c;this.H=d;this.ka=e;null!=this.H?this.I=jf[this.H]||"Other":this.I=null;this.md=!1};r(fm,Lj);var Sf=function(a){a=Xi(a);if("outerHTML"in a)a=a.outerHTML;else{var b=Od(a).createElement("div");b.appendChild(a.cloneNode(!0));a=b.innerHTML}return a};g=fm.prototype;g.getContentType=function(){return this.I};g.ca=function(){return this.S.width};g.$=function(){return this.S.height};
g.vc=function(){return"VPAID"==this.j?this.ka:null};g.ja=function(){return this.K};var Z=function(a,b,c,d,e){fm.call(this,a,b,c,d,e);this.Fc=-1;this.e=null;this.a=new J(this);this.r=this.n=m;this.D=[];this.Aa=!0;this.P=!1;this.ta=this.m=0};r(Z,fm);var Ti=function(a,b){a.e=b;null!=a.b&&null!=b&&(Ui(a,a.n),$i(a,a.r))},Ui=function(a,b){null!=a.e&&null!=a.b&&x(a.D,function(a){this.e.M(a,"click",this.n);this.e.l(a,"click",b)},a);a.n=b},$i=function(a,b){null!=a.e&&null!=a.b&&(a.e.M(a.b,"creativeview",a.r),a.e.l(a.b,"creativeview",b));a.r=b};
Z.prototype.g=function(a){null!=this.e&&(this.e.l(a,"click",this.n),this.D.push(a))};
var Xi=function(a){null==a.b&&(a.b=a.md?gm(a):a.k(),Yd(a.b,hm(a)));null!=a.e&&a.e.l(a.b,"creativeview",a.r);return a.b},gm=function(a){var b=v(a.ka);w(a.ja())||(b=new R(b),Ke(b.a,"clickTAG",encodeURIComponent(String(a.ja()))),b=b.toString());var c=Vd("iframe",{marginwidth:0,marginheight:0,hspace:0,vspace:0,frameborder:0,scrolling:"no"},null);c.height=a.$();"Text"!=a.getContentType()&&(c.width=a.ca());c.setAttribute("src",We(b));a.g(c);return im(a,c)},im=function(a,b){var c=a.q,d={};d.style="cursor:default;position:relative;z-index:1001;height:"+
a.$()+"px;";"Text"!=a.getContentType()&&(d.style+="width:"+a.ca()+"px");w(c)||(d.id=c);return Vd("div",d,b)};Z.prototype.wa=function(a){return this.P?this.w.get(a)||[]:Z.t.wa.call(this,a)};var jm=function(a){a=Ri(a.getAd());var b=NaN;null!=a&&(b=a.U);return b};Z.prototype.ia=function(){return"nc"};
var hm=function(a){if(!a.Aa)return null;var b=a.wa("start");bb(b,a.wa("creativeview"));if(null!=b&&!z(b)){var c=[];x(b,function(a){if(!w(a)){var b;b=Pd().b("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});uh(b,{display:"block",height:"0px",width:"0px"});b.setAttribute("height",0);b.setAttribute("width",0);b.setAttribute("src",We(a));Ya(c,b)}});return c}return null},aj=function(a,b){a.m=b;null!=a.b&&(x(a.D,function(a){this.a.l(a,"mousedown",this.Eb);this.a.l(a,
"mouseup",this.Fb)},a),a.a.l(a.b,"mouseover",a.nc))};Z.prototype.Eb=function(){this.Z=q()};Z.prototype.Fb=function(a){var b=null!=a.target.href?a.target:a.target.parentNode,c=[];this.m&1&&c.push("nm="+this.ta);this.m&2&&c.push(this.ia(b)+"=1");if(this.m&8){var d=zh(this.b);c.push("nx="+(a.clientX-d.x));c.push("ny="+(a.clientY-d.y))}this.m&16&&null!=this.Z&&c.push("clkt="+(q()-this.Z));0<c.length&&(b.href+=0<=b.href.indexOf("?")?"&"+c.join("&"):"?"+c.join("&"))};Z.prototype.nc=function(){this.ta++};var km=function(a,b){Z.call(this,a,b,"Static","text","")};r(km,Z);km.prototype.$=function(){return Te()?72:63};km.prototype.ca=function(){if(null!=this.h){var a=this.h,b=zh(a),a=Ah(a);return(new sh(b.x,b.y,a.width,a.height)).width}};km.prototype.ia=function(a){return y(Id(a),"text-title")?"nh":"nb"};
km.prototype.k=function(){var a=this.getAd(),b=a.getExtension("AdSense"),c=a.getExtension("TextAd"),d={title:c.g,text:c.n+" "+c.q,dir:Jg.test(c.g)?"rtl":"ltr",na:this.ja()};c.e&&(d.sc=We(c.e),a=Wa(a.j,function(a){return a instanceof Oj}),null!=a&&(d.duration=hk(a.G)));b.h&&(d.pd=b.h);this.h=Wg(cm,d);x(this.h.getElementsByTagName("a"),this.g,this);this.h.id=this.q;this.h.style.height=this.$()+"px";return this.h};var nm=function(a,b){var c=b.nonLinearAdSlotWidth||0,d=b.nonLinearAdSlotHeight||0;Yi(a)&&!a.k()?cl(a,"nonlinear")?lm(a,c,d):mm(a):cl(a,"linear")?mm(a):cl(a,"nonlinear")&&lm(a,c,d);return null!=a.a},lm=function(a,b,c){var d=null,e=c+b;x(a.j,function(a){var h;if(h=a instanceof Z)0==c&&0==b||a instanceof km?h=!0:(h=a.S,h=h.width<=b&&h.height<=c);if(h&&(h=0==c&&0==b?0:c-a.S.height+b-a.S.width,"Flash"!=a.getContentType()||bi))if(null==d)d=a,e=h;else if(h==e&&a.U<d.U||h<e)d=a,e=h});Mi(a,d)},mm=function(a){var b=
null;x(a.j,function(a){a instanceof Oj&&(null===b||a.U<b.U)&&(b=a)});Mi(a,b)};var rm=function(a,b){this.e=null!=b?b:z(a)?4:0<=om(a[0])?3:1;var c;if(4==this.e)c=[];else{var d=a[0];switch(this.e){case 3:c=ab(a);pm(c);break;case 2:break;case 1:d instanceof Gf?Yi(d)?c=ab(a):Fk(d,mf)?0<=d.getPodIndex()?(c=ab(a),qm(c)):c=[d]:c=[d]:c=[d];break;default:throw Error("Ads data type not identified.");}}this.a=c},pm=function(a){fb(a,function(a,c){return om(a)-om(c)})},qm=function(a){fb(a,function(a,c){return a.getPodIndex()-c.getPodIndex()})};
rm.prototype.g=function(a){var b=!1,c=[];x(this.a,function(d){d.k()?c.push(d):b=nm(d,a)||b});if(!z(this.a)&&!b&&0==c.length)throw Ye(Si(this.a[0])),H(qc);};var sm=function(){};var tm=function(a,b,c,d,e,f){n(a)?(this.j="y"==a?b:0,this.h="m"==a?b:0,this.a="d"==a?b:0,this.b="h"==a?b:0,this.e="n"==a?b:0,this.g="s"==a?b:0):(this.j=a||0,this.h=b||0,this.a=c||0,this.b=d||0,this.e=e||0,this.g=f||0)};tm.prototype.N=function(){return new tm(this.j,this.h,this.a,this.b,this.e,this.g)};var um=function(a){return H(tc,null,a.parentNode.nodeName,a.nodeName)},vm=function(a,b){return null!=a?Sa(Q(a),function(a){return a.nodeName==b}):[]},wm=function(a,b){var c=a.getAttribute(b);return null!=c?c.toLowerCase():null},$=function(a,b){if(null==a)return null;var c="";x(a.childNodes,function(a){if(4==a.nodeType||3==a.nodeType)c+=a.nodeValue});c=ya(c);return b?-1!=c.indexOf("&")?"document"in l?Ha(c):Ia(c):c:c},xm=function(a,b,c,d){null!=a&&x(Q(a),function(a){if(a.nodeName==b)c.call(d,a);else throw um(a);
})},ym=function(a,b){if(null!=a){var c=a.split(":");if(3==c.length)return c=new tm(0,0,0,La(c[0]),La(c[1]),La(c[2])),60*(60*(24*c.a+c.b)+c.e)+c.g}return null!=b?b:-1},zm=function(a,b){if(!w(a))switch(a.toLowerCase()){case "true":case "1":return!0;case "false":case "0":return!1}return null!=b?b:!1};var Am=function(a,b,c){this.b=a;this.a=c;this.e=b};var Bm=function(){rm.call(this,[]);this.b=new B;this.e=2};r(Bm,rm);var Cm=function(a,b,c){if(isNaN(c))throw Error("Incorrect time offset.");var d=[];ub(a.b.b,c)&&(d=a.b.get(c,[]));x(b,function(a){null!=a&&Ya(d,a)});A(a.b,c,d)};Bm.prototype.g=function(){};var Dm=function(a){Dl.call(this,a,null);this.e=this.b=!1};r(Dm,Dl);var Em=function(a,b){this.a=a;this.e=b};r(Em,sm);Em.prototype.b=function(){var a=new Bm;x(Q(ce(this.a)),function(b){switch(b.nodeName){case "Preroll":b=Fm(this,b);Cm(a,b,0);break;case "Midroll":var c=wm(b,"timeOffset"),d=ym(c);if(-1==d)throw H($b,null,"timeOffset",v(c));b=Fm(this,b);Cm(a,b,d);break;case "Postroll":b=Fm(this,b);Cm(a,b,-1);break;default:throw H(jc,null,b.parentNode.nodeName,b.nodeName);}},this);if(0==a.b.R().length)throw H(kc);return a};
Em.prototype.h=function(){return new Am(this.a,null,this.b())};var Fm=function(a,b){var c=[];x(Q(b),function(a){switch(a.nodeName){case "Ad":var b=v($(a));if(!xa(b)){a=wm(a,"bumper");var f=this.e.N();f.adTagUrl=b;b=new Dm(f);b.b=null!=a;b.e="always"==a;Ya(c,b)}break;default:throw H(jc,null,a.parentNode.nodeName,a.nodeName);}},a);return c};var Hm=function(a){var b=new B;xm(a,"Tracking",function(a){var d=wm(a,"event"),e=b.get(d,[]);e.push(Gm($(a)));A(b,d,e)});return b},Gm=function(a){if(Im(a)){var b=S.h;if(null!=b)return a+"&ppid="+b}return a},Im=function(a){return null!=a&&/\/pagead\/adview/.test(a)?Va(["ai","sigh"],function(b){return 0<=ne(a||"",b,(a||"").search(oe))}):!1};var Jm=function(){this.a="Ads by Google";this.b="http://www.google.com/adsense/support";this.e=0};var Km=function(a,b,c,d,e,f,h,k,t,C){Jj.call(this,C);this.k=a;this.m=b;this.a=c;this.h=f;this.p=h;this.r=k};r(Km,Jj);var Lm=function(){},Nm=function(a){var b;xm(a,"config",function(a){null!=b||(b=Mm(this,a))},new Lm);return b},Mm=function(a,b){var c;x(Q(b),function(a){switch(a.nodeName){case "context":c="default"==a.getAttribute("data")?new Jm:null;break;case "params":null!=c&&Om(this,c,a)}},a);return c},Om=function(a,b,c){x(Q(c),function(a){var c=a.attributes[0].value;switch(a.nodeName){case "attribution_url":b.b=c;break;case "attribution_text":b.a=c;break;case "signals":b.e=parseInt(c,10)}},a)};var Pm=function(){},Qm=function(a){var b=new Pm;if(null==a)return null;var c,d,e,f,h,k,t=!1;x(Q(a),function(a){switch(a.nodeName){case "AttributionText":c=$(a);break;case "AttributionUrl":d=$(a);break;case "ConversionUrl":f=$(a);break;case "CustomTracking":null!=Q(a)&&(e=Hm(a));break;case "DisplayName":$(a);break;case "PreviousAdInformation":$(a);break;case "VisibleUrl":h=$(a);break;case "UI":k=Nm(a);break;case "ShowYouTubeAnnotations":var b=$(a);t=zm(v(b),!1);case "QueryId":$(a)}},b);null!=k||(k=
new Jm);return new Km(c,d,f,0,0,h,k,t,0,e)};var Rm=function(a,b){Jj.call(this,b);this.a=a};r(Rm,Jj);var Sm=function(a){if(null==a)return null;var b,c;x(Q(a),function(a){switch(a.nodeName){case "SkippableAdType":b=$(a);break;case "CustomTracking":null!=Q(a)&&(c=Hm(a))}});return new Rm(b,c)};var Tm=function(){Jj.call(this)};r(Tm,Jj);var Um=function(){};Um.prototype.a={mf:"TEMPLATE_PARAMETERS",nf:"TEMPLATE_URL"};var Wm=function(a){var b=new Um;if(null==a)return null;x(Q(a),function(a){switch(a.nodeName){case this.a.mf:Vm(this,a)}},b);return new Tm},Vm=function(a,b){x(Q(b),function(a){a.nodeName==this.a.nf&&$(a)},a)};var Xm=function(a,b,c,d){Jj.call(this);this.g=a;this.n=b;this.q=c;this.e=d};r(Xm,Jj);var Ym=function(){};Ym.prototype.a={jf:"Line1",kf:"Line2",lf:"Line3",hf:"ImageUrl"};var Zm=function(a){var b=new Ym;if(null==a)return null;var c,d,e,f;x(Q(a),function(a){switch(a.nodeName){case this.a.jf:c=$(a,!0);break;case this.a.kf:d=$(a,!0);break;case this.a.lf:e=$(a,!0);break;case this.a.hf:f=$(a)}},b);return new Xm(c,d,e,f)};var $m=function(a){Jj.call(this);this.a=a};r($m,Jj);var an=function(){Jj.call(this)};r(an,Jj);var bn={hg:"Image",gg:"Flash",fg:"All"},cn={xg:"Html",yg:"IFrame",Lg:"Static",fg:"All"},dn={zg:"IgnoreSize",Fg:"SelectExactMatch",Gg:"SelectNearMatch"};var Qf=function(a){if(null==a||0>=a.width||0>=a.height)throw I(gc,null,"ad slot size",a.toString());this.a=a;a={};this.e=null!=a.resourceType&&pb(cn,a.resourceType)?a.resourceType:"All";this.b=null!=a.creativeType&&pb(bn,a.creativeType)?a.creativeType:"All";this.h=null!=a.sizeCriteria&&pb(dn,a.sizeCriteria)?a.sizeCriteria:"SelectExactMatch";this.g=fa(a.nearMatchPercent)&&0<a.nearMatchPercent&&100>=a.nearMatchPercent?a.nearMatchPercent:90},Pf=function(a,b){var c=[],d=[];x(b,function(a){if(!w(a.ka)&&
(isNaN(a.U)||isNaN(jm(a))||jm(a)==a.U)){var b;b=a.getContentType();b="Flash"==b&&!bi||"All"!=this.e&&this.e!=a.Oa||null!=b&&"All"!=this.b&&this.b!=b?"DoesNotMatch":"IgnoreSize"==this.h||this.a==a.S||this.a&&a.S&&this.a.width==a.S.width&&this.a.height==a.S.height?"ExactlyMatches":"SelectNearMatch"!=this.h||a.S.width>this.a.width||a.S.height>this.a.height||a.S.width<this.g/100*this.a.width||a.S.height<this.g/100*this.a.height?"DoesNotMatch":"NearlyMatches";"ExactlyMatches"==b?c.push(a):"NearlyMatches"==
b&&d.push(a)}},a);return $a(c,d)};var Gf=function(a,b,c,d,e,f,h,k,t,C,Pa,L,N,Ma){this.q=a;this.h=b;this.Z=c;this.V=d;this.m=h?ab(h):[];this.ia=k?ab(k):[];this.j=t?ab(t):[];this.r=C?ab(C):[];this.I=!0;this.b=this.a=null;this.w=new B(Pa);this.ta=(this.K=null!=L)?N||!1:!1;this.Aa=this.k?Ma||!1:!1;this.P=v(L);this.G=this.e=null;this.g=new Rk;this.n=new P(0,0);this.D=this.H=this.p=null;x($a(this.j,this.r),function(a){a.Gc=this},this)},Nf=function(a,b){if(b){for(var c=a;null!=c.b;)c=c.b;return Nf(c,!1)}return a.Z},Si=function(a){return null!=
a.b?$a(Si(a.b),a.m):a.m},Vi=function(a){return null!=a.b?$a(Vi(a.b),a.ia):a.ia},Of=function(a,b){return b||null==a.b?a.r:$a(a.r,Of(a.b))};Gf.prototype.getExtension=function(a){return this.w.get(a)};
var Mi=function(a,b){a.a=b;a.n=null!=a.a&&a.a instanceof Z?a.a.S:new P(0,0)},Ri=function(a){return a.a},Vf=function(a){return null!=a.q?a.q:""},en=function(a){if(null==a.b)return[];var b=[Vf(a.b)];bb(b,en(a.b));return b},fn=function(a){if(null==a.b)return[];var b=[null!=a.b.h?a.b.h:""];bb(b,fn(a.b));return b},om=function(a){a=a.getExtension("waterfall");return null!=a&&-1!=a.b?a.b:-1};Gf.prototype.getPodIndex=function(){var a=this.getExtension("pod");return null!=a&&-1!=a.a?a.a:-1};
var Kk=function(a){return a.e},cl=function(a,b){return Ua(a.j,function(a){return a instanceof Oj&&"linear"==b||a instanceof Z&&"nonlinear"==b?!0:!1})},Wf=function(a){return Yi(a)?"video"==a.V:cl(a,"linear")},Dk=function(a){return Ua(["AdSense","DFP"],function(a){a=this.w.get(a);return null!=a&&!z(Kj(a,"skip"))},a)},Ek=function(a){return null!=a.e?null==a.b&&(Ll(a.e)||Ml(a.e)):!1};Gf.prototype.k=function(){return this.K};
var Hi=function(a){return null==a.a||a.a instanceof Z?-1:a.a.G},zl=function(a){return null===a.a?null:a.a.vc()},Yi=function(a){return Fk(a,kf)},Pk=function(a){return a.p};Gf.prototype.toString=function(){return"Ad: "+this.q};var Fk=function(a,b){return null!=a.h?y(b,a.h.toUpperCase()):!1};var gn=function(a,b,c,d){Z.call(this,a,b,"Static",c,d)};r(gn,Z);gn.prototype.sd=!1;gn.prototype.k=function(){var a={url:We(v(this.ka)),width:this.ca(),height:this.$(),na:this.ja(),capture:this.sd},a=Wg(dm,a);a.style.width=this.ca()+"px";a.style.height=this.$()+"px";a.id=this.q;x(a.getElementsByTagName("object"),this.g,this);x(a.getElementsByTagName("a"),this.g,this);return a};var hn=function(a,b,c,d){Z.call(this,a,b,"Html",c,d)};r(hn,Z);hn.prototype.k=function(){var a=Vd("div");a.innerHTML=this.ka;this.g(a);return im(this,a)};var jn=function(a,b,c,d){Z.call(this,a,b,"Static",c,d)};r(jn,Z);jn.prototype.k=function(){var a={url:We(v(this.ka)),na:this.ja()},a=Wg(em,a);a.style.width=this.ca()+"px";a.style.height=this.$()+"px";a.id=this.q;x(a.getElementsByTagName("a"),this.g,this);return a};var kn=function(a,b,c,d,e){Z.call(this,a,b,c,d,e)};r(kn,Z);kn.prototype.k=function(){return gm(this)};var ln=function(a,b,c,d,e){switch(c){case "Html":return new hn(a,b,d,e);case "Static":switch(jf[d]){case "Image":return new jn(a,b,d,e);case "Flash":return new gn(a,b,d,e);case "Text":return new km(a,b)}}return new kn(a,b,c,d,e)};var mn=function(a){this.e=a};r(mn,sm);
mn.prototype.B={pf:"Ad",yc:"AdParameters",Jb:"AdSystem",Ff:"AdTitle",vf:"AltText",Tf:"ClickThrough",Uf:"ClickTracking",eg:"Companion",Xf:"CompanionAds",wf:"CompanionClickThrough",Yf:"Creative",Hf:"Creatives",Vf:"CustomClick",If:"Description",Kb:"Duration",Jf:"Error",bg:"Extension",Kf:"Extensions",zc:"HTMLResource",Ac:"IFrameResource",Mf:"Impression",Ag:"InLine",LINEAR:"Linear",Sf:"MediaFile",Bf:"MediaFiles",ag:"NonLinear",Zf:"NonLinearAds",tf:"NonLinearClickThrough",Bc:"StaticResource",Nf:"Survey",
Og:"Tracking",Dc:"TrackingEvents",Pg:"VAST",Of:"VASTAdTagURI",Cf:"VideoClicks",Pf:"Wrapper"};mn.prototype.J={Gf:"allowMultipleAds",Cc:"apiFramework",Qf:"bitrate",Wf:"creativeType",Rf:"delivery",tg:"event",Lf:"followAdditionalWrappers",cg:"expandedHeight",dg:"expandedWidth",Wa:"height",xc:"id",rf:"maintainAspectRatio",sf:"minSuggestedDuration",uf:"scalable",$f:"sequence",Fd:"type",Xa:"width"};var nn=function(a){if(null==a)return!1;a=ce(a);return null!=a&&"VAST"==a.nodeName};
mn.prototype.a=function(){if(!nn(this.e))throw H(lc);var a=[];xm(ce(this.e),this.B.pf,function(b){var c;c=on(b);if(null==c)throw um(b);b=b.getAttribute(this.J.xc);c=pn(this,c,b||null);null!=c&&a.push(c)},this);return a};mn.prototype.b=function(){return new rm(this.a())};mn.prototype.h=function(){return new Am(this.e,this.a(),null)};
var on=function(a){var b=null;x(Q(a),function(a){switch(a.nodeName){case "InLine":case "Wrapper":b=a;break;default:throw um(a);}});return b},pn=function(a,b,c){var d,e,f=[],h=[],k=[],t=[],C=new B,Pa,L=b.nodeName==a.B.Pf,N=L,Ma=L;x(Q(b),function(a){switch(a.nodeName){case this.B.Of:if(L)Pa=$(a),N=zm(a.getAttribute(this.J.Gf),N),Ma=zm(a.getAttribute(this.J.Lf),Ma);else throw um(a);break;case this.B.Jb:d=$(a);break;case this.B.Ff:e=$(a);break;case this.B.If:$(a);break;case this.B.Nf:$(a);break;case this.B.Mf:a=
$(a);f.push(Gm(a));break;case this.B.Jf:a=$(a);h.push(a);break;case this.B.Hf:a=qn(this,a);k=a.Ef;t=a.Df;break;case this.B.Kf:C=rn(this,a);break;default:throw um(a);}},a);t:if(w(d))a="UNKNOWN";else switch(d.toUpperCase()){case "ADSENSE":case "ADSENSE/ADX":case "DART":case "DART_DFP":case "DART_DFA":case "GDFP":a=d;break t;default:a="UNKNOWN"}return new Gf(v(c),d,a,e,0,0,h,f,k,t,C,Pa,N,Ma)},rn=function(a,b){var c=new B;try{var d=vm(b,a.B.bg);x(d,function(a){var b=a.getAttribute(this.J.Fd),d;switch(b){case "geo":d=
null!=a?new an:null;break;case "pod":null!=a?(d=a.getAttribute("sequence"),d=null!=d?La(d):NaN,d=isNaN(d)?-1:d,d=new $m(d)):d=null;break;case "waterfall":null!=a?(d=a.getAttribute("fallback_index"),d=null!=d?La(d):NaN,d=new am(d)):d=null;break;case "DFP":d=Sm(a);break;case "AdSense":d=Qm(a);break;case "TextAd":d=Zm(a);break;case "TemplateAd":d=Wm(a)}if(a=null!=d)a=null==c.get(b);a&&A(c,b,d)},a)}catch(e){}return c},qn=function(a,b){var c=[],d=[];xm(b,a.B.Yf,function(a){var b=a.getAttribute(this.J.$f),
h;w(b)||(h=parseFloat(b));a=ce(a);switch(a.nodeName){case this.B.LINEAR:h=sn(this,a,isNaN(h)?0:h);bb(c,h);break;case this.B.Xf:h=tn(this,a,isNaN(h)?void 0:h);bb(d,h);break;case this.B.Zf:h=un(this,a,isNaN(h)?0:h);bb(c,h);break;default:throw um(a);}},a);return{Ef:c,Df:d}},un=function(a,b,c){var d=[],e=new B;x(Q(b),function(a){switch(a.nodeName){case this.B.ag:a=vn(this,a,c);null!=a&&d.push(a);break;case this.B.Dc:e=Hm(a);break;default:throw um(a);}},a);0!=d.length||e.fa()||(a=new Z(null,new P(-1,-1),
"",null,""),a.U=c,d.push(a));x(d,function(a){Mj(a,e)});return d},wn=function(a,b){var c={};c.id=b.getAttribute(a.J.xc);c.Dd=b.getAttribute(a.J.Cc);var d=La(b.getAttribute(a.J.Xa)),e=La(b.getAttribute(a.J.Wa));c.size=new P(d,e);d=b.getAttribute(a.J.dg);e=b.getAttribute(a.J.cg);w(d)||w(e)||(c.ig=new P(La(d),La(e)));return c},vn=function(a,b,c){var d=wn(a,b);b.getAttribute(a.J.Cc);b.getAttribute(a.J.uf);b.getAttribute(a.J.rf);var e=b.getAttribute(a.J.sf),e=ym(e,-1),f;new B;var h="",k;x(Q(b),function(a){switch(a.nodeName){case this.B.tf:k=
$(a);break;case this.B.yc:var b=$(a);null!=b&&ik(b);h=v($(a));break;case this.B.Ac:case this.B.Bc:case this.B.zc:w(f)&&(f=xn(this,a));break;default:throw um(a);}},a);if(null==f)return null;a=ln(d.id,d.size,f.resourceType,f.creativeType,f.Ed);a.p=h;a.j=d.Dd;a.K=k;a.Fc=e;a.U=c;return a},xn=function(a,b){var c=wm(b,a.J.Wf),d;t:switch(d=b.nodeName,d){case a.B.Bc:d="Static";break t;case a.B.Ac:d="IFrame";break t;case a.B.zc:d="Html";break t;default:throw H(uc,null,d);}var e=$(b);return{creativeType:c,
resourceType:d,Ed:e}},tn=function(a,b,c){var d=[];xm(b,a.B.eg,function(a){a=yn(this,a,c);d.push(a)},a);return d},yn=function(a,b,c){var d=wn(a,b),e,f=new B,h;x(Q(b),function(a){switch(a.nodeName){case this.B.Dc:f=Hm(a);break;case this.B.wf:h=$(a);break;case this.B.vf:$(a);break;case this.B.yc:$(a);break;case this.B.Ac:case this.B.Bc:case this.B.zc:w(e)&&(e=xn(this,a));break;default:throw um(a);}},a);a=ln(d.id,d.size,e.resourceType,e.creativeType,e.Ed);a.j=d.Dd;a.K=h;a.P=!0;a.U=c;Mj(a,f);return a},
sn=function(a,b,c){var d=new B,e="",f=[],h,k=new B,t=[],C;x(Q(b),function(a){switch(a.nodeName){case this.B.yc:var b=$(a);null!=b&&ik(b);e=v($(a));break;case this.B.Kb:C=ym($(a),0);break;case this.B.Dc:d=Hm(a);break;case this.B.Bf:t=zn(this,a);break;case this.B.Cf:a=An(this,a);k=a.Af;h=a.yf;f=a.zf;break;default:throw um(a);}},a);A(d,"click",f);a=new Oj(C,h,k,t);a.p=e;a.U=c;Mj(a,d);return a},An=function(a,b){var c,d=[],e=new B;x(Q(b),function(a){switch(a.nodeName){case this.B.Tf:c=$(a);break;case this.B.Uf:a=
$(a);d.push(a);break;case this.B.Vf:var b=wm(a,this.J.xc),k=e.get(b,[]);k.push($(a));A(e,b,k);break;default:throw um(a);}},a);return{yf:c,zf:d,Af:e}},zn=function(a,b){var c=[];xm(b,a.B.Sf,function(a){var b=wm(a,this.J.Rf),f=wm(a,this.J.Fd),h=La(a.getAttribute(this.J.Qf)),k=La(a.getAttribute(this.J.Xa)),t=La(a.getAttribute(this.J.Wa)),C=a.getAttribute(this.J.Cc);a=$(a);c.push(new ak(b,f,h,k,t,a,C))},a);return c};var Bn=function(a,b){this.e=b;this.g=new Fl(a)};r(Bn,mn);Bn.prototype.a=function(){var a=Bn.t.a.call(this);null!=this.g&&x(a,this.j,this);return a};Bn.prototype.b=function(){return new rm(this.a())};
Bn.prototype.j=function(a){var b=Vf(a);if(!w(b)){var c=2;x(Of(a,!0),function(a){if("Html"==a.Oa&&w(a.ka)||("Image"==a.getContentType()||"Flash"==a.getContentType()||"IFrame"==a.Oa)&&w(a.ka)){var e=c,f=this.g.N();Il(f,"dc_seed",[b]);Il(f,"sz",[a.ca()+"x"+a.$()]);Il(f,"tile",[e]);xa(f.ea)||(e=f.ea.split("/"),2<e.length&&(e[1]="adi",se(f,e.join("/"))));f=f.toString();a.md=!0;a.ka=f;c=Math.min(Math.max((c+1)%16,2),16)}},this)}};var Cn=function(a,b,c){if(null!=a){var d;null!=a?(d=ce(a),d=null!=d&&"Playlist"==d.nodeName):d=!1;if(d)a=new Em(a,c);else if(nn(a)){if(!nn(a))throw H(rc);c=vm(ce(a),"Ad");if(z(c))throw H(ac);c=on(c[0]);if(null==c)throw H(rc);c=vm(c,"AdSystem");if(1!=c.length)throw H(rc);a="DART_DFP"!=v($(c[0])).toUpperCase()||w(b)?new mn(a):new Bn(v(b),a)}else a=null}else a=null;return a};var Dn=function(a,b,c){K.call(this);this.a=new sl;this.e=!0;this.h=!1;this.g=c;this.j=b;this.b=null};r(Dn,K);
var Fn=function(a,b,c){if(Ml(b.a)&&null!=a.j&&(null==a.b&&(a.b=new Ol(1E3,a.j,S)),!a.b.k)){Ql(a.b,b.a,p(function(){En(this,b,c)},a));return}En(a,b,c)},Gn=function(a,b,c){tl(a.a,new Dl(b,c));a.a.fa()||a.h||Fn(a,ul(a.a))},Hn=function(a){a.h=!1;a.b=null;a.a.fa()||a.h||Fn(a,ul(a.a))},En=function(a,b,c){a.h=!0;null!=c||(c=new Bl(b.a));var d=b.a.adsResponse,e=$l(b.a,a.j);null!=d?In(a,bm(d),"",c,b.g||{}):(S.h=a.g.g,Jn(a,fi(e).toString(),b.g||{},c,!0))},Jn=function(a,b,c,d,e){d.m=q();var f=new kj;f.D=e;nj(f,
d.g);var h=new J(f);e=e?function(a){Cl(d);var e=a.target;6==e.b?(h.A(),e.A(),Jn(this,b,c,d,!1)):this.ob(a,c,d,h)}:function(a){Cl(d);this.ob(a,c,d,h)};hd(h,f,"success",function(a){Cl(d);this.uc(a,c,d,b,h)},!1,a);hd(h,f,["error","timeout"],e,!1,a);rj(f,b)};Dn.prototype.uc=function(a,b,c,d,e){a=a.target;var f=xj(a);null!=f||(f=bm(wj(a)));In(this,f,d,c,b);e.A();a.A()};
var In=function(a,b,c,d,e){try{var f=Kn(a,b,c,d);if(null!=f)4==f.e?Ln(a,d,H(hc),e):(Te()&&(f.h=b),Mn(a,f,d,e));else{var h;Gd&&"innerText"in b?h=b.innerText.replace(/(\r\n|\r|\n)/g,"\n"):(c=[],ie(b,c,!0),h=c.join(""));h=h.replace(/ \xAD /g," ").replace(/\xAD/g,"");h=h.replace(/\u200B/g,"");Gd||(h=h.replace(/ +/g," "));" "!=h&&(h=h.replace(/^\s*/,""));Ln(a,d,H(lc,null,h),e)}}catch(k){Ln(a,d,H(mc,k),e)}},Mn=function(a,b,c,d){switch(b.e){case 2:Nn(a,b,d);Hn(a);break;case 1:var e=b.a[0];null!=e&&null!=
c.b&&(e.b=c.b);e.k()?(b=a.g.b,c.j>b?Ln(a,c,H(sc,null,String(b)),d):(c.j++,c.b=e,b=new Ag,b.adTagUrl=e.P,Fn(a,new Dl(b,d),c))):(null!=c.e&&(c=om(c.e.a[c.a]),S.a=c),a.e?Nn(a,b,d):(c=new bj("adsLoaderSdkAdLoaded"),c.g=b.a,c.e=d,a.o(c)),Hn(a));break;case 3:0<c.j?(b.e=1,Mn(a,b,c,d)):(c.e=b,c.a=0,On(a,c,d));break;default:Ln(a,c,H(mc),d)}},On=function(a,b,c){b.b=null;b.j=0;if(0>=b.g)b.e=null,b.a=-1,S.a=-1,Ln(a,b,H(ec),c);else{var d=b.e.a;b.a>=d.length?(b.e=null,b.a=-1,S.a=-1,Ln(a,b,H(dc),c)):(d=new rm([d[b.a]],
1),Mn(a,d,b,c))}},Ln=function(a,b,c,d){null!=b.b&&Pn(a,b.b);0<=b.a?(b.a++,On(a,b,d)):("always"==a.g.a&&(null!=b.b?"GDFP"==Nf(b.b,!0)&&a.o("backfillCompanions"):Ml(b.k)&&a.o("backfillCompanions")),a.e?a.o(new qa(c,d)):(b=new bj("adsLoaderSdkAdError"),b.h=c,a.o(b)),Hn(a))},Nn=function(a,b,c){var d=Qn(a,b,c);null!=d&&a.o(new zg(d,c,b.h))},Kn=function(a,b,c,d){var e=d.k;b=Cn(b,c,e);return null!=b?(b=b.b(),b.g(e),x(b.a,function(a){a.e=e},a),b):null};
Dn.prototype.ob=function(a,b,c,d){var e=a.target,f=null;0!=e.b&&(f=Error(dj(e.b)));d.A();e.A();switch(a.type){case "timeout":a=H(ec,f);break;default:case "error":a=H(cc,f)}Ln(this,c,a,b)};
var Pn=function(a,b){x(Si(b),function(a){Xe(a)},a)},Qn=function(a,b,c){if(2==b.e){if(null!=a.k)return new vl(b,a.k,0,a.g);throw Error("AdsLoader instance not available.");}b=b.a;if(null!=b&&!z(b)&&b[0]instanceof Gf){var d=b[0],e;if(e=a.g.e)e=null!=zl(d);e=e?"vpaid":Yi(d)&&cl(d,"nonlinear")?"overlay":cl(d,"linear")?"video":cl(d,"nonlinear")?"overlay":null;switch(e){case "overlay":return Yi(d)?new Zi(b):new Pi(b);case "video":return new Y(b);case "vpaid":return new yl(b);default:return Ac(a,fc,null,
c,v(e)),null}}Ac(a,hc,null,c);return null};var Rn=function(a,b){K.call(this);this.a=a;this.e=b;this.a.k=this;null==this.b&&(this.b=new J(this),this.b.l(this.a,["adsManagerLoaded","adError","adsLoaderSdkAdLoaded","adsLoaderSdkAdError"],this.o,!1,this),this.b.l(this.a,"backfillCompanions",this.Ne,!1,this))};r(Rn,K);g=Rn.prototype;g.Ta=function(a){this.a.e=a};g.$c=function(a,b){var c=this.a;c.e&&Gn(c,a,b)};g.rd=function(a,b){var c=this.a;c.e||Gn(c,a,b)};g.Hb=function(){this.a.a.clear()};
g.Zc=function(){var a=new bj("contentComplete");this.o(a);a.b&&(S.clear(),null!=this.e&&Af(this.e.b,null,null))};g.v=function(){null!=this.b&&(this.b.A(),this.b=null)};g.Ne=function(){null!=this.e&&Kf(this.e,Hf())};var Sn=function(a){a=Sa(a,function(a){return 0<a.getPodIndex()});fb(a,function(a,c){return a.getPodIndex()-c.getPodIndex()});return a},Tn=function(a){return Sa(a,function(a){return-1==a.getPodIndex()})};var Un=function(a){this.a=a};var Vn=function(a,b,c,d,e){this.h=a;this.p=b;this.b=0<this.h.length?this.h:this.p;this.r=c;this.j=this.q=!0;this.e=-1;this.a=null;this.k=0;this.H=d;this.w=e};Vn.prototype.la=function(){return null!=this.a&&this.a.la()?!0:0<this.b.length&&this.e<this.b.length-1};var Yn=function(a,b,c){null!=a.a?Wn(a,b,c):a.la()?Xn(a,b,p(function(a){this.la()&&301!=a.getErrorCode()?Yn(this,b,c):c(a)},a)):c(new na("adLoadError","The ad source contains no more ads.",1005))};
Vn.prototype.n=function(a,b){return this.j?0<a.length?a:b:cb(b,0,1)};Vn.prototype.g=function(a,b,c){null!=a.a||nm(a,this.r)?(this.k++,b(a)):(Ye(a.m),c(H(qc)))};
Vn.prototype.m=function(a,b,c){var d=this.r.N();d.adsResponse="";d.adTagUrl=a.P;Zn(this.H,d,p(function(d){if(d instanceof Vn){var f=this.j&&a.ta,h=a.Aa,k;for(k in d.b)d.b[k].b=a;d.j=f;d.b=d.n(d.h,d.p);d.e=-1;d.q=h;b(d)}else d instanceof Un?c(new na("adLoadError","Ad source cannot contain playlist response.",2)):c(new na("adLoadError","Unknown ad source.",2))},this),c)};
var $n=function(a){var b=0;for(a=a.b;null!=a;)a=a.b,b++;return b},Wn=function(a,b,c){a.a.la()?Yn(a.a,p(function(a){this.g(a,b,p(function(a){this.la()?Yn(this,b,c):c(a)},this))},a),p(function(a){ao(this,this.b[this.e]);this.a=null;301==a.getErrorCode()?c(a):this.la()?Yn(this,b,c):c(a)},a)):(0==a.a.k&&ao(a,a.b[a.e]),a.a=null,Yn(a,b,c))},ao=function(a,b){x(b.m,function(a){Xe(a)},a)},Xn=function(a,b,c){a.e++;var d=a.b[a.e];d.k()?$n(d)>=a.w.b?c(H(sc,null,String(a.w.b))):a.q?a.m(d,p(function(a){this.a=
a;Yn(this,b,c)},a),p(function(a){ao(this,d);c(a)},a)):c(H(vc)):a.g(d,b,c)};var bo=function(a,b,c,d,e){Vn.call(this,[],a,b,c,e);this.D=d};r(bo,Vn);bo.prototype.la=function(){return null!=this.a&&this.a.la()?!0:0<this.b.length&&this.e<this.b.length-1&&0==this.k};bo.prototype.n=function(a,b){return b};bo.prototype.g=function(a,b,c){var d=-1,d=null==this.a?om(a):om(this.b[this.e]);this.D.a=d;bo.t.g.call(this,a,b,c)};bo.prototype.m=function(a,b,c){this.D.a=-1;bo.t.m.call(this,a,b,c)};var co=function(a,b,c,d,e,f){this.g=a;this.j=b;this.e=c;this.a=d;this.h=e;this.b=f},Zn=function(a,b,c,d){w(b.adsResponse)?Ml(b)&&null!=a.a&&!a.a.k?Ql(a.a,b,p(function(){eo(this,b,c,d)},a)):eo(a,b,c,d):fo(a,b,c,d)},fo=function(a,b,c,d){var e;try{e=bm(b.adsResponse)}catch(f){d(H(hc,f));return}null!=e?go(a,e,b.adTagUrl,b,c,d):d(H(hc))},eo=function(a,b,c,d){var e=fi($l(b,a.e)).toString();ho(a.j,e,p(function(a){go(this,a,e,b,c,d)},a),p(function(a,b){var c;c=8==a?H(ec):H(cc,b);d(c)},a),a.h)},go=function(a,
b,c,d,e,f){var h;try{var k=Cn(b,c,d);if(!k)throw H(lc);h=k.h();io(a,h,d,e)}catch(t){t instanceof na?f(t):f(H(mc,t))}},io=function(a,b,c,d){var e=b.a;if(null!=e)d(new Un(e));else{var f=b.e;if(null==f)throw H(lc);x(f,function(a){a.e=c;Te()&&(a.G=b.b)});e=Sn(f);f=Tn(f);0<f.length&&0<=om(f[0])?d(new bo(f,c,a,a.g,a.b)):d(new Vn(e,f,c,a,a.b))}};var jo=function(){this.a=4E3+q()},ko=function(a){var b=q();a=a.a-b;return 0<a?a:0};var lo=function(){},ho=function(a,b,c,d,e){var f=p(function(a){d(a,Error(dj(a)))},a),h=p(function(a){6==a?mo(this,b,!1,c,f,e):f(a)},a);mo(a,b,!0,c,h,e)},mo=function(a,b,c,d,e,f){var h=new kj;h.D=c;nj(h,ko(f));var k=new J,t=p(function(){k.A();h.A()},a);c=p(function(){e(h.b);t()},a);hd(k,h,"success",function(){var a=xj(h);null!=a||(a=bm(wj(h)));d(a);t()},!1,a);hd(k,h,["error","timeout"],c,!1,a);rj(h,b)};var no=function(a,b){this.a=a;this.b=S;this.e=b},po=function(a,b,c,d){var e=null;null!=a.a&&(e=new Ol(1E3,a.a,a.b));Zn(new co(a.b,new lo,a.a,e,new jo,a.e),b,p(function(a){a instanceof Un?c(a):oo(this,a,c,d)},a),d)},oo=function(a,b,c,d){var e=[],f=p(function(a){a.la()?Yn(a,p(function(b){e.push(b);f(a)},this),p(function(b){301==b.getErrorCode()?d(H(ec)):f(a)},this)):0<e.length?c(e):d(H(hc))},a);f(b)};var qo=function(){this.a="always";this.b=4;this.e=!1};var ro=function(a,b,c,d,e){K.call(this);this.g=a;this.e=b;this.b=c;this.a=!0;this.h=d;this.j=e};r(ro,K);g=ro.prototype;g.Ta=function(a){this.a=a};g.$c=function(a,b){if(this.a){var c=null!=b?b:{};so(this.g,a,p(function(a){to(this,a,c)},this),p(function(a){uo(this,a,c)},this))}};g.rd=function(a,b){if(!this.a){var c=null!=b?b:{};so(this.g,a,p(function(a){to(this,a,c)},this),p(function(a){uo(this,a,c)},this))}};g.Hb=function(){};
g.Zc=function(){var a=new bj("contentComplete");this.o(a);a.b&&(this.h.clear(),null!=this.b&&Af(this.b.b,null,null))};
var to=function(a,b,c){if(a.a)if(b instanceof Un)b=new vl(b.a,a,0,a.e.a),a.o(new zg(b,c));else{var d=vo(a.e,b);null!=d?a.o(new zg(d,c,0<b.length?b[0].G:null)):uo(a,H(qc,null),c)}else b instanceof Un?uo(a,H(Zb,null,"Unsupported ad format."),c):(d=new bj("adsLoaderSdkAdLoaded"),d.g=b,d.e=c,a.o(d))},uo=function(a,b,c){a.a?("always"==a.j.a&&null!=a.b&&Kf(a.b,Hf()),a.o(new qa(b,c))):(c=new bj("adsLoaderSdkAdError"),c.h=b,a.o(c))};var wo=function(a){this.b=a;this.a=new sl},so=function(a,b,c,d){var e=p(function(a){c(a);ul(this.a);xo(this)},a),f=p(function(a){d(a);ul(this.a);xo(this)},a);tl(a.a,p(function(){po(this.b,b,e,f)},a));xo(a)},xo=function(a){1==a.a.X()?(a=a.a.a==a.a.e?void 0:a.a.b[a.a.a],null!=a&&a()):a.a.X()};var yo=function(a){this.a=a},vo=function(a,b){if(!z(b)){var c=b[0],d;if(d=a.a.e)d=null!=zl(c);switch(d?"vpaid":Yi(c)&&cl(c,"nonlinear")?"overlay":cl(c,"linear")?"video":cl(c,"nonlinear")?"overlay":null){case "overlay":return Yi(c)?new Zi(b):new Pi(b);case "video":return new Y(b);case "vpaid":return new yl(b)}}return null};var zo=function(a){this.b=this.a=this.e=null;a=v(a).split(":");if(null!=a&&3<=a.length){var b=a[0].match(/^([A-Za-z]+)(.+)$/);null!=b&&3==b.length&&(this.e=b[1]);this.a=a[2];"ios"==this.e&&(this.b=3<a.length?a[3]:"")}};var Bo=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,t,C,Pa,L){if("%"==C)return"%";var N=c.shift();if("undefined"==typeof N)throw Error("[goog.string.format] Not enough arguments");arguments[0]=N;return Ao[C].apply(null,arguments)})},Ao={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-
a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=a.toFixed(e));var f;f=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(c)||d.length>=c)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=c-d.length-f.length;return d=0<=b.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=b.indexOf("0",0)?"0":" ")+d},d:function(a,b,c,d,e,f,h,k){return Ao.f(parseInt(a,10),b,c,d,0,f,h,k)}};Ao.i=Ao.d;
Ao.u=Ao.d;var Co=function(a){this.b=a;this.a=new J(this);this.a.l(this.b,"i18n",this.e)};r(Co,oa);Co.prototype.v=function(){this.a.A();Co.t.v.call(this)};
Co.prototype.e=function(a){var b=a.b;a=a.e;var c="";switch(b){case "adRemainingTime":c=a.seconds;c=Bo("\u00b7 (%d:%02d)",a.minutes,c);a="";c="Ad "+T(c);c=a+c;break;case "learnMore":a="";c="Learn More "+T("\u00bb");c=a+c;break;case "preSkipButton":c=a.seconds;c=ok({Db:Math.floor(c)});break;case "skipButton":c=qk()}w(c)?O(this.b,"i18n","error",{errorMessage:"Failed to translate type: "+b}):O(this.b,"i18n",b,{translation:c})};var Do=function(a,b,c,d,e,f){this.b=b;this.j=c;this.e=d;this.m=e;this.h=f;this.k={currentTime:0};this.a=new J(this);this.q=new Co(this.m);this.g=null;this.n=-1;this.p={};this.a.l(this.m,"adsManager",this.Xd);this.a.l(this.b,ra,this.Wd);this.a.l(this.b,"adError",this.Vd)};r(Do,oa);g=Do.prototype;g.v=function(){null!=this.b&&this.b.kb();s(this.g);s(this.a);s(this.q);Do.t.v.call(this)};
g.Xd=function(a){try{var b=a.e;switch(a.b){case "configure":null!=b&&(this.e=Eo(this,this.e,b.adsRenderingSettings));this.b.ha(this.j,this.k,this.e);break;case "init":this.h&&(null!=b&&(this.e=Eo(this,this.e,b.adsRenderingSettings)),this.b.ha(this.j,this.k,this.e));var c=b.viewMode||"normal";this.h||(null==this.g&&(this.g=new M(200)),this.a.l(this.g,"tick",this.Kc),jd(this.g));this.b.za(c);this.a.l(window,"resize",this.Lc);break;case "skip":this.b.Qc();break;case "start":this.b.T();break;case "stop":this.b.stop();
break;case "pause":this.b.Ca();break;case "resume":this.b.Da();break;case "destroy":this.A();break;case "expand":this.b.Oc();break;case "collapse":this.b.Nc();break;case "sendImpressionUrls":var d=this.b;null!=d.e&&Se(Kk(W(d)).location)&&Ye(Vi(W(d)));break;case "mediaUrl":this.b.Pc(b.mediaUrl);case "volume":this.b.Ba(b.volume);break;case "contentTimeUpdate":this.k.currentTime=b.currentTime;break;case "resize":this.b.ua(b.viewMode)}}catch(e){e instanceof na?Fo(this,e):Fo(this,I(mc,e)),this.A()}};
g.Wd=function(a){var b;b=a.type;var c=a.getAd();if(null!=c){var d=c.a;if(null!=d){var e=qd,f=sb(e.ie,c.g.getPodIndex(),e.le,c.g.k,e.ne,c.g.b,e.$d,c.g.a,e.fe,c.g.g,e.he,c.g.h),e=rd,h=c.H;if(null!=h)var k=sb(e.me,h.title,e.ge,h.b);e=sd;h=c.D;if(null!=h)var t=sb(e.ke,h.a,e.ce,h.b);e=pd;d=sb(e.Yd,Vf(c),e.Jb,null!=c.h?c.h:"",e.ae,en(c),e.be,fn(c),e.de,d.ja(),e.Kb,Hi(c),e.LINEAR,Wf(c),e.je,Dk(c),e.pe,Ek(c),e.oe,null!=c.a?c.a.p:"",e.Xa,c.n.width,e.Wa,c.n.height,e.Zd,f);this.h||"start"!=b||null!=this.p[Vf(c)]||
(this.p[Vf(c)]=d[e.ee]=Go(this,c));null!==c.p&&(d[e.qe]=c.p);ca(k)&&(d[e.Ic]=k);ca(t)&&(d[e.Hc]=t);b=d}else b={}}else b={};switch(a.type){case "adMetadata":if(null==a.b)break;a=a.b.a;b=ll(a);Ho(this,"adMetadata",{adCuePoints:a,internalCuePoints:b});break;case "loaded":if(null!=a.getAd()){a=this.b.P();null!=a&&(b.mediaUrl=a);Ho(this,"loaded",{adData:b});break}Fo(this,I(jc));break;case "click":Ho(this,"click",{adData:b});a=a.getAd();null==a||!Wf(a)||this.j.Jc()||this.e.disableClickThrough||(a=a.a.ja(),
null!=a&&Ze(a));break;case "log":c=a.e;c=Io(c.e,c.getErrorCode(),c.b,c.a);Ho(this,a.type,{adData:b,logData:c});break;case "companionBackfill":Ho(this,"companionBackfill");break;default:Ho(this,a.type,{adData:b})}};g.Vd=function(a){this.h||(this.a.M(this.g,"tick",this.Kc),s(this.g));this.a.M(window,"resize",this.Lc);Fo(this,a.b);this.A()};g.Kc=function(){var a=this.b.wb();this.n!=a&&(this.n=a,Ho(this,"remainingTime",{remainingTime:a}))};g.Lc=function(){this.b.Ja()};
var Jo=function(a){if(null==a)return null;da(a.mimeTypes)&&0==a.mimeTypes.length&&(a.mimeTypes=null);null==a.bitrate&&(a.bitrate=-1);return a},Eo=function(a,b,c){if(null==c)return b;c=Jo(c);var d=new od;x(ob(d),function(a){null!=c[a]&&c[a]!==d[a]?d[a]=c[a]:null!=b[a]&&(d[a]=b[a])},a);return d},Go=function(a,b){var c=Of(b);return null==c||z(c)?[]:Ta(c,function(a){var b=Ri(a.getAd()),c;null!=b&&(c=b.U);return{content:Sf(a),size:a.S,resourceType:a.Oa,contentType:a.getContentType(),sequenceNumber:a.U,
masterSequenceNumber:c}},a)},Ho=function(a,b,c){O(a.m,"adsManager",b,c)},Fo=function(a,b){var c=b.getErrorCode(),c=Io(b.e,c,b.b,b.a);Ho(a,"error",c)},Io=function(a,b,c,d){a={type:a,errorCode:b,errorMessage:c};null!=d&&(a.innerError=String(d));return a};var Lo=function(a,b,c){K.call(this);this.m=Ko(this,void 0);this.g=new J(this);this.b=c;this.h=b;this.e=a;this.g.l(this.e,"adsManagerLoaded",this.Xe);this.g.l(this.e,"adError",this.ob);this.g.l(this.m,"adsLoader",this.We)};r(Lo,K);var Mo=function(){this.e=[];this.a=!1};g=Lo.prototype;g.ad=m;g.v=function(){this.g.A();s(this.e);Lo.t.v.call(this)};
g.We=function(a){switch(a.b){case "requestAds":var b=new Mo;b.Mc=a.g;var c=a.e;a=new Ag;a.adTagUrl=c.adTagUrl;a.adsResponse=c.adsResponse;a.isYouTube=c.isYouTube;a.linearAdSlotWidth=c.linearAdSlotWidth||0;a.linearAdSlotHeight=c.linearAdSlotHeight||0;a.nonLinearAdSlotWidth=c.nonLinearAdSlotWidth||0;a.nonLinearAdSlotHeight=c.nonLinearAdSlotHeight||0;a.adSenseParams=c.adSenseParams;a.location=c.location;a.a=c.referrer;a.b=c.lastActivity;a.youTubeAdType=c.youTubeAdType;a.youTubeExperimentIds=c.youTubeExperimentIds;
a.youTubeVideoAdStartDelay=c.youTubeVideoAdStartDelay;var d=c.settings;null!=d&&(null!=d.allowVpaid&&(this.h.e=d.allowVpaid),null!=d.companionBackfill&&(this.h.a=d.companionBackfill),null!=d.numRedirects&&(this.h.b=d.numRedirects),null!=d.ppid&&(this.h.g=d.ppid,this.b.h=d.ppid));d=c.videoEnvironment;null!=d&&(null!=d.supportedMimeTypes&&(b.e=d.supportedMimeTypes),null!=d.usesCustomVideoPlayback&&(b.a=d.usesCustomVideoPlayback));d=c.companionSlots;null!=d&&(b.g=d);d=c.env;null!=d&&(b.b=d);c=c.network;
null!=c&&(b.h=c);this.b.q="3.1.33";c=new zo(b.b);this.b.g=null;this.b.w=null;this.b.b=c.a;this.b.n=c.b;null!=b.b&&(a.location=null);this.ic(a,this.b);this.e.$c(a,b);break;case "contentComplete":this.e.Zc()}};
g.Xe=function(a){var b=a.g,c=Ko(this,b.Mc),d=a.e;d.k=this.n;var e=d.kc(),f=ll(e);if(null==this.j){var h=document.body,k=D||Nb||Fb||b.a,t=b.a,C;C=Ko(this,void 0);this.j=new No(h,k,t,C)}h=this.j;k=new od;k.mimeTypes=b.e;k.bitrate=-1;new Do(0,d,h,k,c,!1);b={adCuePoints:e,internalCuePoints:f};if(null!=a.b){a=a.b;if("undefined"!=typeof XMLSerializer)a=(new XMLSerializer).serializeToString(a);else if(a=a.xml,!a)throw Error("Your browser does not support serializing XML documents");b.response=a}O(c,"adsLoader",
"adsLoaded",b);this.ad(d)};g.ob=function(a){var b=a.e.Mc,c=a.b;a=c.a;c={type:c.e,errorMessage:c.b,errorCode:c.getErrorCode()};null!=a&&(c.innerError=a.message);O(Ko(this,b),"adsLoader","error",c)};g.ic=function(a,b){try{var c,d;null!=b&&(c=b.b,d=b.g);var e={};w(c)||(e.app_name=c);w(d)||(e.external_version=d);c="third_party";Ll(a)?c="adsense":Nl(a)?c="dart":Ml(a)&&(c="xfp");e.request_type=c;e.aru=a.adTagUrl;cf($e.getInstance(),6,e,!0)}catch(f){}};var Oo=function(a){if(null==a||!ee(Od(a),a))throw I(gc,null,"containerElement","element");this.g=a;this.b=this.e=this.a=null;this.a=Vd("div",{style:"display:none;"});this.e=Vd("video",{style:"background-color:#000;position:absolute;width:100%;height:100%;"});this.b=Vd("div",{style:"position:absolute;width:100%;height:100%;"});this.g.appendChild(this.a);this.a.appendChild(this.e);this.a.appendChild(this.b)};r(Oo,oa);Oo.prototype.A=function(){$d(this.a)};
Oo.prototype.aa=function(){var a=this.a;null!=a&&(a.style.display="none")};var Po=function(a){this.b=0;this.e=a||100;this.a=[]};g=Po.prototype;g.get=function(a){if(a>=this.a.length)throw Error("Out of bounds exception");a=this.a.length<this.e?a:(this.b+Number(a))%this.e;return this.a[a]};g.X=function(){return this.a.length};g.fa=function(){return 0==this.a.length};g.clear=function(){this.b=this.a.length=0};g.O=function(){for(var a=this.X(),b=this.X(),c=[],a=this.X()-a;a<b;a++)c[a]=this.get(a);return c};g.R=function(){for(var a=[],b=this.X(),c=0;c<b;c++)a[c]=c;return a};var Qo=function(a){K.call(this);this.b=a;this.k=new Po(4);this.j=this.e=!1;this.size=this.fb();this.m=this.mb()};r(Qo,ck);g=Qo.prototype;
g.nd=function(a,b,c){var d=null,e=null,f=this.fb();Ua(a,function(a){var k;k=a.b;"progressive"!=a.g&&"application/x-mpegurl"!=v(k).toLowerCase()?k=!1:(k=v(k).toLowerCase(),k=xa(k)||Fb&&tg(sg,2.3)&&-1!=k.indexOf("application/ogg")?!1:Fb&&(-1!=k.indexOf("video/mp4")||-1!=k.indexOf("video/3gpp"))||(D||Nb)&&(-1!=k.indexOf("application/x-mpegurl")||-1!=k.indexOf("application/vnd.apple.mpegurl"))?!0:!xa(this.b.canPlayType(k)));if(k&&(null==c||z(c)||y(c,a.b)))if(fa(b)&&0<=b)if(a.a<b){if(null==d||a.a>d.a)d=
a}else{if(a.a==b)return d=a,!0;if(null==e||a.a<e.a)e=a}else{if(null==d)return d=a,f.fa();Math.abs(f.width-a.k)+Math.abs(f.height-a.h)<Math.abs(f.width-d.k)+Math.abs(f.height-d.h)&&(d=a)}return!1},this);return d||e};g.Tc=function(){};g.Mb=function(a){this.j=this.e=!1;this.k.clear();this.b.src=a;this.b.load()};g.lb=function(){return isNaN(this.b.duration)?-1:this.b.duration};g.Bd=function(a){this.b.volume=a};g.gb=function(){return this.b.volume};g.hc=function(){ld(this.b.play,0,this.b)};g.ra=function(){this.b.pause()};
g.nb=function(){return this.b.paused?D||Nb||mg?this.b.currentTime<this.b.duration:!0:!1};g.hb=function(){return this.b.muted};g.qd=function(){D&&this.b.webkitSupportsFullscreen&&this.b.webkitDisplayingFullscreen&&this.b.webkitExitFullscreen()};g.mb=function(){if(D)return this.b.webkitSupportsFullscreen&&this.b.webkitDisplayingFullscreen;var a=window.screen.availHeight||window.screen.height;return this.b.offsetWidth>=(window.screen.availWidth||window.screen.width)&&this.b.offsetHeight>=a};
g.Qa=function(a){return Ro(this)>=a};g.rc=function(a){this.b.currentTime=a};g.jb=function(){return this.b.currentTime};var Ro=function(a){for(a=a.k.O();a.length;){var b=a.pop();if(0<b)return b}return-1};g=Qo.prototype;g.zd=function(){if(!Fb||Fb&&tg(sg,2.3))return!0;var a=this.b.duration-Ro(this);return 0==this.b.currentTime&&1.5>=a};g.pb=function(){return this.b.ended};g.fb=function(){return new P(this.b.offsetWidth,this.b.offsetHeight)};g.td=function(){return this.b.seeking};
g.v=function(){this.ib();this.b=null;Qo.t.v.call(this)};g.ub=function(){return I(wc,this.b.error)};
g.Rc=function(){this.ib();this.a=new J(this);this.a.l(this.b,"canplay",this.Ue);this.a.l(this.b,"ended",this.Pe);this.a.l(this.b,"webkitbeginfullscreen",this.jc);this.a.l(this.b,"webkitendfullscreen",this.ld);this.a.l(this.b,"pause",this.Re);this.a.l(this.b,"playing",this.Uc);this.a.l(this.b,"timeupdate",this.Se);this.a.l(this.b,"volumechange",this.Te);this.a.l(this.b,"error",this.Qe);this.g=new Uj;this.a.l(this.g,"click",this.Oe,!1);Vj(this.g,this.b);this.h=new M(1E3);this.a.l(this.h,"tick",this.Ve,
!1,this);jd(this.h)};g.ib=function(){null!=this.g&&(Wj(this.g),this.g=null);null!=this.h&&this.h.A();null!=this.a&&(this.a.A(),this.a=null);this.j=this.e=!1;this.k.clear()};var So=function(a){a.e||(a.e=!0,a.o("start"),(!Fb||Fb&&tg(sg,3))&&(!D||(D||Nb)&&tg(rg,4))||a.jc())};g=Qo.prototype;g.Ue=function(){ng&&!this.j&&(this.rc(0.001),this.j=!0)};g.Uc=function(){this.o("play");D||Nb||So(this)};
g.Se=function(){this.e||((D||Nb)&&0<this.jb()&&So(this),Kb&&this.Uc());var a=this.k;a.a[a.b]=this.b.currentTime;a.b=(a.b+1)%a.e;this.o("timeUpdate")};g.Te=function(){this.o("volumeChange")};g.Re=function(){this.o("pause")};g.Pe=function(){this.o("end")};g.jc=function(){this.o("beginFullscreen")};g.ld=function(){this.o("endFullscreen")};g.Qe=function(a){hg&&null==a.ma().target.error||this.o("error")};g.Oe=function(){this.o("click")};
g.Ve=function(){var a=this.fb(),b=this.mb();if(a.width!=this.size.width||a.height!=this.size.height)!this.m&&b?this.jc():this.m&&!b&&this.ld(),this.size=a};var To=function(a){K.call(this);this.b=a;this.k=this.e=-1;this.p=this.g=this.h=this.j=this.m=!1;this.n=-1;this.a=new J(this)};r(To,ck);g=To.prototype;g.nd=function(a,b,c,d){if(0==c.length)return null;var e=null,f=null,h=-1==b?Number.MAX_VALUE:b,k=Ta(c,function(a){return a.toLowerCase()});x(a,function(a){if(d&&Rh(a.e))e=a;else if(y(k,a.b.toLowerCase())&&("progressive"==a.g||"application/x-mpegurl"==a.b.toLowerCase()))if(a.a<h){if(null===e||a.a>e.a)e=a}else if(null===f||a.a<f.a)f=a});return e||f};
g.Tc=function(a){O(this.b,"videoDisplay","setPlaybackOptions",{playbackOptions:{adFormat:a.a,adSenseAgcid:a.b,contentVideoDocId:a.e,showAnnotations:a.g,viewCountsDisabled:a.h()}})};g.Mb=function(a,b){this.e=this.k=-1;this.m=this.j=this.g=!1;O(this.b,"videoDisplay","load",{videoUrl:a,mimeType:b})};g.lb=function(){return this.k};g.Bd=function(){};g.gb=function(){return this.h?0:this.n};g.hc=function(){O(this.b,"videoDisplay","play")};g.ra=function(){O(this.b,"videoDisplay","pause")};g.nb=function(){return this.j};
g.hb=function(){return this.h};g.qd=function(){O(this.b,"videoDisplay","exitFullscreen")};g.mb=function(){return this.p};g.Qa=function(a){return this.e>=a};g.rc=function(a){O(this.b,"videoDisplay","setCurrentTime",{currentTime:a})};g.jb=function(){return this.e};g.zd=function(){return!0};g.pb=function(){return this.g};g.fb=function(){return new P(0,0)};g.td=function(){return!1};g.v=function(){this.a.A();To.t.v.call(this)};
g.Rc=function(){this.a.l(this.b,"videoDisplay",this.Ye);O(this.b,"videoDisplay","startTracking")};g.ib=function(){var a=this.a;lb(a.a,cd);a.a={};O(this.b,"videoDisplay","stopTracking")};
g.Ye=function(a){var b=a.e;switch(a.b){case "click":this.o("click");break;case "end":this.g=!0;this.o("end");break;case "error":this.o("error");break;case "fullscreen":this.p=!0;this.o("beginFullscreen");break;case "mute":this.h=!0;this.o("volumeChange");break;case "pause":this.j=!0;null!=b.ended&&(this.g=b.ended);this.o("pause");break;case "play":this.j=!1;this.o("play");break;case "skip":this.o("skip");break;case "start":this.m||(this.m=!0,this.o("start"));break;case "timeupdate":a=b.currentTime;
b=b.duration;ca(a)&&ca(b)&&(this.e=La(a),this.k=La(b),this.o("timeUpdate"));break;case "unmute":this.h=!1;this.o("volumeChange");break;case "volumeChange":b=b.volume,ca(b)&&(this.n=b),this.o("volumeChange")}};var No=function(a,b,c,d){this.j=b;this.m=c;this.b=this.j?null:new Oo(a);this.k=this.j?new To(d):new Qo(this.b.e);this.e=this.j&&!Te()?new K:null;this.g=d;this.a=new J(this);this.a.l(this.g,"displayContainer",this.Fe);this.h=a};g=No.prototype;g.oc=function(){return this.m};g.Fa=function(){return this.h};g.qc=function(){return this.k};g.Bb=function(){this.Ma();if(null!=this.b){var a=this.b.a;null!=a&&(a.style.display="block")}else O(this.g,"displayContainer","showVideo")};
g.Ma=function(){this.h.style.visibility="visible"};g.aa=function(){null!=this.b?this.b.aa():O(this.g,"displayContainer","hide");this.h.style.visibility="hidden"};g.Lb=function(){return null!=this.b?this.b.b:this.e};g.Jc=function(){return null!=this.e};g.Fe=function(a){switch(a.b){case "videoClick":null!=this.e&&this.e.o("click")}};var Vo=function(){wg();this.k=new B;var a=window,a=new hf([a.top,a.parent],window.location.hash.slice(1),"*");Bd(a);this.p=a;this.a=null;var a=new uf,b=this.p;null!=a.b&&a.a.M(a.b,"gpt",a.r);a.b=b;a.a.l(a.b,"gpt",a.r);this.n=new If(a);a=new qo;Lo.call(this,Uo(this,a),a,S);this.j=null;this.g.l(window.document.body,"click dblclick mouseup mouseover mouseout mousemove selectstart mousedown".split(" "),this.q)};r(Vo,Lo);
var Uo=function(a,b){var c;t:{c=new yo(b);var d=a.n;try{cf($e.getInstance(),14,{mode:"new"},!0)}catch(e){}switch("new"){case "new":c=new ro(new wo(new no(d,b)),c,d,S,b);break t;default:c=new Rn(new Dn(0,d,b),d)}}return c};
Vo.prototype.ic=function(a,b){if(!w(pe(v(a.location),"google_console")||pe(v(a.location),"google_force_console"))){if(!this.a){var c=this.a=new Tf(this.p);c.a.l(this.e,"adError",c.p,!1,c)}c=this.a;c.q||(Uf(c,"version",{type:"HTML5",version:"3.1.33"}),c.q=!0);Uf(this.a,"ad_request",{adTagUrl:a.adTagUrl,adType:"Deprecated"})}Vo.t.ic.call(this,a,b)};Vo.prototype.ad=function(a){if(this.a){var b=this.a;b.a.l(a,nb(ua),b.r,!1,b);b.a.l(a,"adError",b.p,!1,b)}};
var Ko=function(a,b){var c=window.parent,d=b||"*",e=a.k.get(d);null==e&&(e=new df(window.location.hash.slice(1),d),e.e(c),Bd(e),A(a.k,d,e));return e};Vo.prototype.q=function(a){O(this.m,"mouse",a.type,{detail:a.detail,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button})};var Wo=["ima","ElementBridge"],Xo=window||l;Wo[0]in Xo||!Xo.execScript||Xo.execScript("var "+Wo[0]);
for(var Yo;Wo.length&&(Yo=Wo.shift());)Wo.length||void 0===Vo?X