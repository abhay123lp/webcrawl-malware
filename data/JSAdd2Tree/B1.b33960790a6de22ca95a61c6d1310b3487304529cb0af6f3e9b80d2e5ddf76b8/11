(function() {
    var cookie = YFPAD.cookie,
        ua = YFPAD.ua,
        util = YFPAD.util,
        dom = YFPAD.dom,
        lang = YFPAD.lang,
        byId = YFPAD.dom.byId,
        timeout = null,
        default_config = {
            creative_id: "0",
            campaign_id: "",
            buyer_line_id: "",
            seller_line_id: "",
            type: "ad_tl1",
            location: "tl1",
            clickTags: {},
            location: "tl1",
            flash: false,
            footprint: '<div class="ad-tl2b small">' +
                '	<p class="y-fp-pg-controls"><a href="http://clicks.beap.bc.yahoo.com/yc/YnY9MS4wLjAmYnM9KDE2a3MwbmI2cShnaWQkcHE3WTcyS0x0SjBJa0hhcFVENmhZd1ZCajllQ2JWSndHR3dBQWRrSyxzdCQxMzgzMDc3OTk2MTU2NjY0LHNpJDQ0NTIwNTEsc3AkMjAyMzUzODA3NSxjciQzMjQ0NjI4NTUxLHYkMi4wLGFpZCRxdlpVbEdLTDRIZy0sY3QkMjUseWJ4JEFtVVRMMF9mOXV3Qm4ydTdoc1kyS3csYmkkMTYxOTc2OTA1MSxyJDAsaWQkZGVmYXVsdF9yZWRpcmVjdCxyZCQxYzEwbzJwbmgpKQ/2/*http://global.ard.yahoo.com/SIG=15knm7jmt/M=999999.999999.999999.999999/D=yahoo/S=2023538075:TL1/_ylt=AiMXV2GwHhA.tIHpikySyh2bvZx4/Y=YAHOO/EXP=1383085196/L=pq7Y72KLtJ0IkHapUD6hYwVBj9eCbVJwGGwAAdkK/B=qvZUlGKL4Hg-/J=1383077996185494/K=zKPDG.INt6HAnryQsW1UYg/A=6795905497071915322/R=0/X=6/id=default_redirect/SIG=14fr1r9b6/*http://us.lrd.yahoo.com/_ylc=X3oDMTBybTY1YzV0BGNhbXADbWFpbARjaGFuA3RsMQRzcmMDbWt0Zw--/SIG=11ak4oumc/**http%3A//overview.mail.yahoo.com/mobile" role="presentation"><img src="http://l.yimg.com/cv/ae/us/audience/130125/120x45ljl89xbro.png" width="120" height="45" border="0" alt="" /></a></p>' +
                '	<p><a href="http://clicks.beap.bc.yahoo.com/yc/YnY9MS4wLjAmYnM9KDE2cDRkN2E4ZyhnaWQkcHE3WTcyS0x0SjBJa0hhcFVENmhZd1ZCajllQ2JWSndHR3dBQWRrSyxzdCQxMzgzMDc3OTk2MTU2NjY0LHNpJDQ0NTIwNTEsc3AkMjAyMzUzODA3NSxjciQzMjQ0NjI4NTUxLHYkMi4wLGFpZCRxdlpVbEdLTDRIZy0sY3QkMjUseWJ4JEFtVVRMMF9mOXV3Qm4ydTdoc1kyS3csYmkkMTYxOTc2OTA1MSxyJDEsaWQkZGVmYXVsdF90ZXh0X3JlZGlyZWN0LHJkJDFjNm1iOGNuZCkp/0/*http://global.ard.yahoo.com/SIG=15knm7jmt/M=999999.999999.999999.999999/D=yahoo/S=2023538075:TL1/_ylt=AiMXV2GwHhA.tIHpikySyh2bvZx4/Y=YAHOO/EXP=1383085196/L=pq7Y72KLtJ0IkHapUD6hYwVBj9eCbVJwGGwAAdkK/B=qvZUlGKL4Hg-/J=1383077996185494/K=zKPDG.INt6HAnryQsW1UYg/A=6795905497071915322/R=1/X=6/id=default_text_redirect/SIG=14fr1r9b6/*http://us.lrd.yahoo.com/_ylc=X3oDMTBybTY1YzV0BGNhbXADbWFpbARjaGFuA3RsMQRzcmMDbWt0Zw--/SIG=11ak4oumc/**http%3A//overview.mail.yahoo.com/mobile">Yahoo! Mail.<br />Fast. Easy. Anywhere.</a></p>' +
                '</div>'
        };
    YFPAD.generic = YFPAD.Base({
        conf: {
            r0: "http://clicks.beap.bc.yahoo.com/yc/YnY9MS4wLjAmYnM9KDE2MGtsbTFoMShnaWQkcHE3WTcyS0x0SjBJa0hhcFVENmhZd1ZCajllQ2JWSndHR3dBQWRrSyxzdCQxMzgzMDc3OTk2MTU2NjY0LHNpJDQ0NTIwNTEsc3AkMjAyMzUzODA3NSxjciQzMjQ0NjI4NTUxLHYkMi4wLGFpZCRxdlpVbEdLTDRIZy0sY3QkMjUseWJ4JEFtVVRMMF9mOXV3Qm4ydTdoc1kyS3csYmkkMTYxOTc2OTA1MSxyJDIscmQkMTZpYmFmcWUxKSk/1/*http://global.ard.yahoo.com/SIG=15knm7jmt/M=999999.999999.999999.999999/D=yahoo/S=2023538075:TL1/_ylt=AiMXV2GwHhA.tIHpikySyh2bvZx4/Y=YAHOO/EXP=1383085196/L=pq7Y72KLtJ0IkHapUD6hYwVBj9eCbVJwGGwAAdkK/B=qvZUlGKL4Hg-/J=1383077996185494/K=zKPDG.INt6HAnryQsW1UYg/A=6795905497071915322/R=2/X=6/*",
            rB: "http://clicks.beap.bc.yahoo.com/yc/bv=1.0.0&bs=(160etjj24(gid$pq7Y72KLtJ0IkHapUD6hYwVBj9eCbVJwGGwAAdkK,st$1383077996156664,si$4452051,sp$2023538075,cr$3244628551,v$2.0,aid$qvZUlGKL4Hg-,ct$25,ybx$AmUTL0_f9uwBn2u7hsY2Kw,bi$1619769051,r$3,rd$16if6q8l2))/*http://global.ard.yahoo.com/SIG=15knm7jmt/M=999999.999999.999999.999999/D=yahoo/S=2023538075:TL1/_ylt=AiMXV2GwHhA.tIHpikySyh2bvZx4/Y=YAHOO/EXP=1383085196/L=pq7Y72KLtJ0IkHapUD6hYwVBj9eCbVJwGGwAAdkK/B=qvZUlGKL4Hg-/J=1383077996185494/K=zKPDG.INt6HAnryQsW1UYg/A=6795905497071915322/R=3/X=6/*",
            z1: "http://ci.beap.ad.yieldmanager.net/reg_ci?bv=1.0.0&bs=(13nnisa39(gid$pq7Y72KLtJ0IkHapUD6hYwVBj9eCbVJwGGwAAdkK,si$4452051,sp$2023538075,bi$1619769051,cr$3244628551,st$1383077996156664))&al=(as$11vq5hft4,aid$qvZUlGKL4Hg-,ct$25,id({beap_client_event}))",
            clickTags: {},
            rm_url: "http://ad.yieldmanager.com/imp?Z=120x45&i=1413372&u=www.yahoo.com&O=1&S=3177719&&_salt=1383077996.185494&_PVID=${PVID}&P=${RS}|pq7Y72KLtJ0IkHapUD6hYwVBj9eCbVJwGGwAAdkK|2023538075|TL1|1383077996.185494&cnt=yan&t=1&ad_type=javascript&ad_size=120x45&D=smpv%3d3%26ed%3dzAomdEi8lVhoF1DewfHF1Q5u8EE1nj9Hgoo-&yud=smpv%3d3%26ed%3dzAomdEi8lVhoF1DewfHF1Q5u8EE1nj9Hgoo-"
        },
        extend: {
            ad_init: function() {
                var docHead = document.getElementsByTagName("head")[0],
                    script = document.createElement("script"),
                    rm_url = this.config.rm_url,
                    rm_url_params = [];
                timeout = setTimeout(function() {
                    YFPAD.generic.load_ad(default_config);
                }, 10000);
                if (cookie.test()) {
                    rm_url_params.push("B=12&m=2");
                } else {
                    rm_url_params.push("B=13&m=2");
                }
                script.id = "yfpad_tl1" + (new Date().getTime());
                script.type = "text/javascript";
                script.src = rm_url + "&" + rm_url_params.join("&");
                docHead.appendChild(script);
            },
            load_ad: function(conf) {
                clearTimeout(timeout);
                var adtype = dom.byClassName(conf.type),
                    pix = conf.pixels,
                    i;
                if (adtype && adtype[0]) {
                    adtype = adtype[0];
                }
                if (typeof(pix) === 'object') {
                    for (i = 0; i < pix.length; i++) {
                        util.pixelTrack(pix[i]);
                    }
                }
                if (!util.inString(conf.footprint, "tl1_slug")) {
                    conf.footprint = '<p id="tl1_slug">ADVERTISEMENT</p>' + conf.footprint;
                }
                adtype.appendChild(dom.nodeCreate(conf.footprint));
            }
        }
    });
})();