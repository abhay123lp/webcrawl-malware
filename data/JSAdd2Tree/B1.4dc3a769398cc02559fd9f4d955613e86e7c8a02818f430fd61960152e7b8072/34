(function(m) {
    var window = this;
    var oH = function(a) {
        (0, m.V)("/addto_ajax?action_delete_from_playlist=1", {
            format: "XML",
            method: "POST",
            P: {
                video_ids: a.Aa,
                full_list_id: a.le || "",
                session_token: (0, m.G)("addto_ajax")
            },
            R: a.R,
            onError: a.onError,
            onSuccess: a.onSuccess
        })
    };
    var pH = function(a, b) {
        if ("FORM" == a.tagName)
            for (var c = a.elements, d = 0; a = c[d]; d++) pH(a, b);
        else !0 == b && a.blur(), a.disabled = b
    };
    var qH = function(a) {
        a = a || window.event;
        a.returnValue = !1;
        a.preventDefault && a.preventDefault()
    };
    var rH = function(a, b) {
        this.j = a;
        this.D = b;
        this.b = null;
        this.k = (0, m.L)("page");
        this.b = (0, m.Q)((0, m.L)("premium-yva-close"), "click", (0, m.r)(this.Ih, this));
        m.ng.getInstance().get("HIDDEN_MASTHEAD_ID") == this.j || (0, m.H)(this.k, "masthead-ad-expanded")
    };
    var sH = function(a) {
        var b = m.ng.getInstance();
        b.set("HIDDEN_MASTHEAD_ID", a);
        b.save()
    };
    var tH = function(a, b) {
        this.M = "session_token=" + a;
        (this.b = window.document.location.protocol + "//" + window.document.location.hostname) && "/" != this.b.charAt(this.b.length - 1) && (this.b += "/");
        this.k = b;
        this.D = null;
        this.H = [];
        this.F = [];
        this.J = {}
    };
    var uH = function() {
        return (0, m.M)("feed-item-checkbox", vH)
    };
    var wH = function(a) {
        xH(a.currentTarget.checked)
    };
    var yH = function(a) {
        a = "false" != (0, m.C)(a.currentTarget, "enabled");
        (0, m.Ok)(zH, a);
        xH(a)
    };
    var xH = function(a) {
        (0, m.y)(uH(), function(b) {
            (0, m.Ok)(b, a)
        });
        AH()
    };
    var BH = function() {
        AH()
    };
    var AH = function() {
        var a = [],
            b = !0,
            c = uH();
        (0, m.y)(c, function(c) {
                c.checked && (a.push(c.value), b = !1)
            });
        (0, m.E)(CH, "video-ids", a.join(","));
        pH(CH, b);
        pH(DH, b);
        EH && pH(EH, b);
        FH && pH(FH, 0 == c.length)
    };
    var GH = function() {
        var a = (0, m.C)(CH, "video-ids"),
            b = {};
        switch (HH) {
            case "history":
                b.action_remove_history_entries = 1;
                break;
            case "watch_later":
                b.action_remove_watch_later_entries = 1;
                break;
            case "favorites":
                b.action_remove_favorites_entries = 1;
                break;
            default:
                throw Error("Unsupported feed name: " + HH);
        }(0, m.V)("/feed_change_ajax", {
            method: "POST",
            Q: b,
            P: {
                session_token: (0, m.G)("feed_change_ajax"),
                video_ids: a
            },
            onSuccess: IH,
            onError: JH
        })
    };
    var IH = function() {
        var a = 0;
        (0, m.y)(uH(), function(b) {
            b.checked && ((0, m.Kd)((0, m.ee)(b, "LI")), a++)
        });
        if (KH) {
            var b = (0, window.parseInt)((0, m.$d)(KH).replace(LH, ""), 10);
            KH.innerHTML = b - a
        }
        AH();
        (0, m.Ok)(zH, !1);
        (0, m.ip)(vH)
    };
    var JH = function() {
        m.T.hide(MH);
        m.T.show(NH)
    };
    var OH = function() {
        (0, m.V)("/feed_change_ajax", {
            method: "POST",
            Q: {
                action_pause_history: 1
            },
            P: {
                session_token: (0, m.G)("feed_change_ajax")
            },
            onSuccess: PH,
            onError: JH
        })
    };
    var PH = function() {
        QH((0, m.F)("HISTORY_FEED_PAUSED"))
    };
    var RH = function() {
        (0, m.V)("/feed_change_ajax", {
            method: "POST",
            Q: {
                action_resume_history: 1
            },
            P: {
                session_token: (0, m.G)("feed_change_ajax")
            },
            onSuccess: SH,
            onError: JH
        })
    };
    var SH = function() {
        QH((0, m.F)("HISTORY_FEED_RESUMED"))
    };
    var QH = function(a) {
        TH(a);
        m.T.toggle((0, m.L)("watch-history-pause-container"), (0, m.L)("watch-history-resume-container"))
    };
    var TH = function(a) {
        (0, m.N)("yt-alert-content", MH).innerHTML = a;
        m.T.show(MH);
        m.T.hide(NH)
    };
    var UH = function() {
        (0, m.V)("/feed_change_ajax", {
            method: "POST",
            Q: {
                action_clear_history: 1
            },
            P: {
                session_token: (0, m.G)("feed_change_ajax")
            },
            onSuccess: VH,
            onError: JH
        })
    };
    var VH = function() {
        TH((0, m.F)("HISTORY_FEED_CLEARED"));
        var a = uH();
        0 != a.length && ((0, m.ee)(a[0], "UL").innerHTML = "", AH())
    };
    var WH = function(a) {
        XH(a.currentTarget)
    };
    var XH = function(a) {
        a = (0, m.P)(a, "feed-container");
        var b = (0, m.P)(a, "individual-feed"),
            c = (0, m.C)(b, "feed-name") || null,
            b = (0, m.C)(b, "feed-type") || null,
            d = (0, m.C)(a, "filter-type") || null,
            e = (0, m.C)(a, "paging") || null;
        YH(a, c, b, d, e)
    };
    var YH = function(a, b, c, d, e) {
        c = ZH(b, c, d, e);
        b = c.url;
        c = c.Q;
        var g = (0, m.N)("feed-load-more-container", a);
        (0, m.H)(g, "loading");
        (0, m.V)(b, {
            Q: c,
            format: "JSON",
            onSuccess: function(b, c) {
                var d = (0, m.Ze)(c.feed_html);
                if (d) {
                    var e = (0, m.N)("last", a);
                    e && (0, m.I)(e, "last");
                    (0, m.Hd)(d, g);
                    (0, m.ip)(d);
                    m.It.getInstance().Ab();
                    (0, m.I)(g, "loading");
                    c.paging ? (0, m.E)(a, "paging", c.paging) : m.T.hide(g);
                    m.T.hide($H)
                } else(0, m.I)(g, "loading")
            },
            onError: function() {
                (0, m.I)(g, "loading");
                m.T.show($H)
            }
        })
    };
    var aI = function(a) {
        a = a.getServiceInfo();
        for (var b in a) {
            var c = (0, m.L)(b + "-connected");
            if (c) {
                var d = a[b],
                    e = (0, m.L)(b + "-not-connected"),
                    g = (0, m.L)(b + "-display-name"),
                    h = d.is_connected;
                m.T.ab(c, h);
                m.T.ab(e, !h);
                (0, m.Xd)(g, d.connected_as || "")
            }
        }
    };
    var bI = function(a) {
        var b = (0, m.L)("mep-container");
        if (null != b)
            for (var b = (0, m.M)("yt-uix-subscription-button", b), c = 0; c < b.length; c++)
                if ((0, m.C)(b[c], "channel-external-id") == a) {
                    a = (0, m.P)(b[c], "music-promo-item");
                    cI(a);
                    (0, m.H)(a, "subscribed");
                    break
                }
    };
    var dI = function(a) {
        var b = (0, m.P)(a.currentTarget, "music-promo-item");
        a = (0, m.C)(b, "external-id");
        var c = (0, m.J)(b, "last") ? 1 : 0,
            d = eI.shift();
        (0, m.V)("/engagement_wizard_ajax", {
                method: "POST",
                Q: {
                    action_dismiss_item_mep2: "1"
                },
                P: {
                    session_token: (0, m.G)("engagement_wizard_ajax"),
                    dismissed_channel: a,
                    next_channel: d,
                    is_last_item: c,
                    column_name: (0, m.v)("MEP_COLUMN_NAME")
                },
                ba: function(a, c) {
                    (0, m.kt)(b, {
                        duration: 0.5,
                        ba: function() {
                            var a = c.html_content;
                            m.T.hide(b);
                            if (a) {
                                b.innerHTML = a;
                                var d = b.parentNode;
                                if (d && 11 != d.nodeType)
                                    if (b.removeNode) b.removeNode(!1);
                                    else {
                                        for (; a = b.firstChild;) d.insertBefore(a, b);
                                        (0, m.Kd)(b)
                                    }(0, m.jt)(b, 0, 1, {
                                        duration: 0.5
                                    })
                            }
                            if (0 == eI.length)
                                for (a = (0, m.M)("mep2-dismiss-button"), d = 0; d < a.length; d++) m.T.setVisible(a[d], !1)
                        }
                    })
                }
            })
    };
    var fI = function(a) {
        a = (0, m.P)(a.currentTarget, "music-promo-item");
        var b = (0, m.J)(a, "collapsed"),
            c = (0, m.J)(a, "subscribed");
        b && c && cI(a)
    };
    var cI = function(a) {
        if (!(0, m.J)(a, "expanded")) {
            var b = (0, m.L)("mep-container");
            null != b && ((b = (0, m.N)("expanded", b)) && (0, m.Uc)(b, "expanded", "collapsed"), (0, m.Uc)(a, "collapsed", "expanded"))
        }
    };
    var gI = function(a) {
        qH(a);
        a = (0, m.P)(a.currentTarget, "feed-item-collapsed-container");
        (0, m.Vc)(a, "collapsed", "expanded");
        (0, m.tm)()
    };
    var hI = function(a) {
        qH(a);
        a = (0, m.P)(a.currentTarget, "feed-item-collapsed-container");
        (0, m.Vc)(a, "expanded", "collapsed");
        (0, m.tm)()
    };
    var iI = function(a) {
        qH(a);
        var b = (0, m.P)(a.currentTarget, "context-data-item");
        a = (0, m.P)(a.currentTarget, "feed-item-container");
        b = (0, m.C)(b, "context-item-id");
        a.parentNode.innerHTML = '<iframe type="text/html" width="640" height="390" src="http://www.youtube.com/embed/__VID__?autoplay=1" frameborder="0"/>'.replace("__VID__", b)
    };
    var ZH = function(a, b, c, d) {
        var e = "",
            g = {};
        "personal" == b ? (e = "/feed_ajax?action_load_personal_feed=1", g = {
            feed_name: a
        }) : "social" == b ? (e = "/feed_ajax?action_load_social_feed=1", g = {
            feed_name: a
        }) : "system" == b ? (e = "/feed_ajax?action_load_system_feed=1", g = {
            feed_name: a
        }) : "main" == b ? e = "/feed_ajax?action_load_main_feed=1" : "user" == b ? (e = "/feed_ajax?action_load_user_feed=1", g = {
            user_id: a
        }) : "collection" == b && (e = "/feed_ajax?action_load_collection_feed=1", g = {
            collection_id: a
        });
        c && (g.filter_type = c);
        d && (g.paging = d);
        (0, m.v)("FEED_DEBUG") &&
            (g.debug = (0, m.v)("FEED_DEBUG"));
        return {
            url: e,
            Q: g
        }
    };
    var jI = function() {
        var a = (0, m.M)("multirow-shelf", kI);
        (0, m.y)(a, function(a) {
            var c = 0,
                d = null,
                e = (0, m.od)("li", "yt-shelf-grid-item", a);
            (0, m.y)(e, function(a) {
                    m.T.wa(a) && (a = (0, m.Tf)(a).x, (a <= d || !d) && c++, d = a)
                });
            a = (0, m.N)("yt-uix-expander-head", a);
            (0, m.Wc)(a, "hidden-expander", 2 >= c)
        })
    };
    var lI = function() {
        var a = (0, m.v)("PYV_IFRAME_CONTENT"),
            b = (0, m.L)((0, m.v)("PYV_IFRAME_ID"));
        b && (b = b.contentDocument || b.contentWindow.document, b.open(), b.write("<!DOCTYPE html><html><head></head><body>" + a + "</body></html>"), m.K || b.close())
    };
    var mI = function() {
        var a = (0, m.L)("destination-moments-promo");
        if (a) {
            var b = (0, m.C)(a, "column-name") || "";
            nI = (0, m.S)(a, "click", (0, m.B)(oI, b), "destination-moments-promo-close")
        }
    };
    var oI = function(a) {
        m.T.hide((0, m.L)("destination-moments-promo"));
        (new m.Jt(a)).write("write_reject")
    };
    var pI = function() {
        var a = (0, m.L)("i18n-local-languages-feed-promo");
        if (a) {
            var b = (0, m.C)(a, "column-name");
            if (b) {
                (0, m.Le)("i18n-promo-show", void 0, void 0);
                var c = (0, m.B)(qI, b),
                    b = (0, m.B)(rI, b);
                sI.push((0, m.S)(null, "click", c, "i18n-local-languages-feed-promo-language-option"), (0, m.S)(a, "click", b, "i18n-local-languages-feed-promo-close"))
            }
        }
    };
    var qI = function(a, b) {
        function c() {
            var a = window.document.forms["i18n-local-languages-feed-promo-form"];
            a.hl.value = d;
            a.submit()
        }
        var d = (0, m.C)(b.target, "lang-code");
        (0, m.Ke)("i18n-promo-select", (0, m.Fe)({
            lang: d
        }));
        (new m.Jt(a)).write("write_accept", {
            onSuccess: c,
            onError: c
        })
    };
    var rI = function(a) {
        (0, m.R)(sI);
        sI = [];
        (new m.Jt(a)).write("write_dismiss")
    };
    var tI = function() {
        var a = (0, m.L)("music-onboarding-promo");
        if (a) {
            var b = (0, m.C)(a, "column-name") || "";
            uI = (0, m.S)(a, "click", (0, m.B)(vI, b), "music-onboarding-promo-close")
        }
    };
    var vI = function(a) {
        m.T.hide((0, m.P)((0, m.L)("music-onboarding-promo"), "feed-item-container"));
        (new m.Jt(a)).write("write_reject")
    };
    var wI = function() {
        (0, m.R)(xI);
        (0, m.Ea)(yI);
        (0, m.y)(zI, function(a) {
            (0, m.wa)(a)
        })
    };
    var AI = function(a) {
        a.preventDefault();
        a = (0, m.P)(a.currentTarget, "branded-page-related-channels-item");
        BI(a, !0)
    };
    var CI = function(a) {
        (0, m.kt)(a, {
            duration: 0.3,
            ba: function() {
                (0, m.Kd)(a)
            }
        })
    };
    var DI = function(a) {
        var b = (0, m.M)("branded-page-related-channels-item"),
            c = (0, m.Hb)(b, function(b) {
                return (0, m.C)(b, "external-id") == a
            });
        c && zI.push((0, m.w)(function() {
            BI(c, !1)
        }, 2E3))
    };
    var BI = function(a, b) {
        var c = window.document.getElementById("channels_you_may_know"),
            c = c && (0, m.Wd)(c, a),
            d = !! (0, m.N)("branded-page-related-channels-featured-badge", a),
            e = (0, m.C)(a, "external-id"),
            g = (0, m.ee)(a, "ul"),
            g = (0, m.M)("branded-page-related-channels-item", g),
            g = (0, m.xb)(g, function(a) {
                return (0, m.C)(a, "external-id")
            }),
            h = {};
        d && (h.featured = 1);
        c && (h.channels_you_may_know = 1);
        (0, m.V)("/guide_ajax?action_reload_channel=1", {
            method: "POST",
            Q: h,
            P: {
                session_token: (0, m.G)("guide_ajax"),
                dismissed_id: e,
                shown_ids: g.join(),
                dismiss_old_channel: b
            },
            onSuccess: function(b, c) {
                var d = c.new_suggested_html;
                d ? (d = (0, m.Ze)(d), (0, m.Ld)(d, a), (0, m.ip)(d), (0, m.jt)(d, 0, 1, {
                    duration: 0.3
                })) : CI(a)
            },
            onError: function() {
                CI(a)
            }
        })
    };
    var EI = function() {
        var a = (0, m.L)("user-interests-promo");
        if (a) {
            var b = (0, m.C)(a, "external-id") || "";
            FI.push((0, m.S)(a, "click", (0, m.B)(GI, b), "user-interests-promo-close"));
            FI.push((0, m.S)(a, "click", (0, m.B)(HI, b), "user-interests-promo-yes"));
            FI.push((0, m.S)(a, "click", (0, m.B)(II, b), "user-interests-promo-no"))
        }
    };
    var GI = function(a) {
        m.T.hide("user-interests-promo");
        JI && KI(a, "dismiss")
    };
    var HI = function(a) {
        m.T.hide("user-interests-promo-question");
        m.T.show("user-interests-promo-details");
        JI = !1;
        KI(a, "yes")
    };
    var II = function(a) {
        m.T.hide("user-interests-promo");
        KI(a, "no")
    };
    var KI = function(a, b) {
        var c = (0, m.G)("promo_ajax_token"),
            d = {
                external_channel_id: a
            };
        d["action_" + b] = 1;
        (0, m.V)("/user_interests_promo_ajax", {
            method: "POST",
            Q: d,
            P: {
                session_token: c
            }
        })
    };
    var LI = function() {
        "DELAYED_EMBEDED" in m.sa && (0, m.y)((0, m.v)("DELAYED_EMBEDED"), function(a) {
            (0, m.Dg)(a.container, a.swf_config)
        });
        "MASTHEAD_ENCRYPTED_ID" in m.sa && (window.masthead = new rH((0, m.v)("MASTHEAD_ENCRYPTED_ID"), (0, m.v)("MASTHEAD_IS_BRANDED")));
        "PYV_IFRAME_ID" in m.sa && lI();
        mI();
        pI();
        tI();
        EI();
        xI = (0, m.S)(window.document.body, "click", AI, "branded-page-related-channels-item-close");
        yI.push((0, m.x)("subscription-subscribe-loaded", DI));
        (0, m.$t)();
        var a = (0, m.L)("destination-moments-promo");
        a && (a = {
            "impression-count": (0, m.C)(a,
                "impression-count") || ""
        }, (0, m.Ke)("destination-moments-promo-show", (0, m.Fe)(a)))
    };
    var MI = function(a) {
        this.F = a;
        this.ea = (0, m.L)("shared-addto-menu");
        this.H = (0, m.C)(this.F, "feature") || "";
        if (a = (0, m.C)(a, "deferred-save")) this.k = "true" == a.toLowerCase();
        this.D = (0, m.C)(this.F, "video-ids") || "";
        (0, m.bc)(NI) || (NI = (0, m.Yg)(this.ea, "lightweight-panel"));
        (a = (0, m.N)("sign-in", this.ea)) ? (0, m.Q)(a, "click", (0, m.r)(this.po, this)) : this.ec()
    };
    var OI = function(a) {
        var b = PI(a);
        (0, m.z)("addto-menu-changed", {
            videoIds: a.D,
            selectedPlaylists: b
        })
    };
    var QI = function(a) {
        var b = [];
        (0, m.rc)(b, (0, m.M)("playlist-name", a.b.list));
        (0, m.y)(b, function(a) {
            (0, m.We)(a) && (a = (0, m.P)(a, "addto-playlist-item"), a.title = (0, m.C)(a, "possible-tooltip"))
        })
    };
    var RI = function(a) {
        var b = [],
            c = [];
        a = (0, m.M)("addto-playlist-item", a.ea);
        (0, m.y)(a, function(a) {
            (0, m.Yg)(a, "to-be-removed") && b.push((0, m.C)(a, "full-list-id"));
            (0, m.Yg)(a, "to-be-added") && c.push((0, m.C)(a, "full-list-id"))
        });
        return {
            Np: b,
            Mp: c
        }
    };
    var SI = function(a, b) {
        var c = (0, m.M)("addto-playlist-item", a.ea);
        (0, m.y)(c, function(a) {
            var c = (0, m.C)(a, "full-list-id"); - 1 < (0, m.ja)(b.Np, c) ? (0, m.U)(a, "to-be-removed") : -1 < (0, m.ja)(b.Mp, c) && (0, m.U)(a, "to-be-added")
        })
    };
    var PI = function(a) {
        var b = (0, m.M)("contains-selected-videos", a.ea),
            c = (0, m.M)("to-be-added", a.ea),
            d = (0, m.M)("to-be-removed", a.ea),
            e = [];
        b && (0, m.y)(b, function(a) {
            -1 < (0, m.ja)(d, a) || e.push({
                id: (0, m.C)(a, "item-id"),
                name: (0, m.C)(a, "item-name")
            })
        });
        c && (0, m.y)(c, function(a) {
            e.push({
                id: (0, m.C)(a, "item-id"),
                name: (0, m.C)(a, "item-name")
            })
        });
        return e
    };
    var TI = function(a, b) {
        oH({
            Aa: a.D,
            le: b,
            onSuccess: function() {
                this.ec()
            },
            R: a
        });
        (0, m.dc)(a.ea, "video-ids")
    };
    var UI = function(a, b) {
        if (b) {
            var c = m.wd ? "webkitTransitionEnd" : m.vf ? "oTransitionEnd" : m.uf ? "transitionend" : m.K && (0, m.ed)(10) ? "MSTransitionEnd" : null;
            c ? (0, m.jf)(a, c, function() {
                b()
            }) : b()
        }
    };
    var VI = function(a, b, c) {
        c = c ? "slide" : "fade";
        var d = ["fade", "slide"];
        (0, m.ew)(a.j, d);
        (0, m.U)(a.j, c);
        (0, m.ew)(b, d);
        (0, m.U)(b, c);
        NI && b == a.b.list && (0, m.U)(a.ea, "lightweight-panel");
        (0, m.Yg)(b, "dismissed-panel") ? ((0, m.Wg)(b, "dismissed-panel"), (0, m.Wg)(a.j, "active-panel")) : (c = a.j, (0, m.Yg)(c, "active-panel") && ((0, m.Wg)(c, "active-panel"), (0, m.U)(c, "dismissed-panel")));
        (0, m.U)(b, "active-panel");
        a.j = b
    };
    var WI = function(a) {
        var b = a.M = (0, m.N)("addto-create-playlist", a.b.Rb);
        (0, m.Q)(b, "keydown", (0, m.r)(a.pg, a));
        (0, m.Q)(b, "paste", (0, m.r)(a.pg, a));
        UI(a.b.Rb, function() {
            b.focus()
        });
        var c = (0, m.N)("addto-create-cancel-button", a.b.Rb);
        (0, m.Q)(c, "click", (0, m.r)(function() {
            VI(this, this.b.list, !0)
        }, a));
        c = (0, m.N)("create-playlist-button", a.b.Rb);
        (0, m.Q)(c, "click", (0, m.r)(a.xn, a));
        a.J = (0, m.N)("privacy-form", a.b.Rb);
        (0, m.S)(a.J, "click", (0, m.r)(a.pg, a), "playlist-privacy-option");
        a.O = (0, m.N)("addto-create-playlist-label",
            a.b.Rb);
        a.V = (0, m.N)("create-playlist-button", a.b.Rb)
    };
    var XI = function(a, b, c, d) {
        (0, m.Hq)({
            Aa: a.k ? "" : a.D,
            le: c,
            yi: a.G ? b : null,
            privacy: d,
            Rn: a.H,
            onSuccess: a.co,
            onError: a.bo,
            R: a
        });
        a.k || (0, m.dc)(a.ea, "video-ids")
    };
    var YI = function(a, b) {
        var c = (0, m.M)("addto-playlist-item", a.ea);
        return (0, m.Hb)(c, function(a) {
            return (0, m.C)(a, "full-list-id") == b
        })
    };
    var ZI = function() {
        this.ea = (0, m.L)("tag-editing-menu");
        this.tm = (0, m.N)("yt-combobox-menu-content", this.ea);
        this.b = (0, m.N)("yt-combobox-search-input", this.ea);
        this.j = (0, m.N)("tag-resource-container");
        this.Ra()
    };
    var $I = function(a) {
        a.We ? a.sg = !0 : a.ec()
    };
    var aJ = function(a, b) {
        a.k = (0, m.N)("add-new-tag");
        a.$i = (0, m.N)("apply-tag-changes");
        if (b) {
            var c = (0, m.od)("input", "tag-checkbox", void 0);
            (0, m.y)(c, function(a) {
                var c = b[a.value];
                (0, m.E)(a, "initial-tag-membership", c);
                (0, m.E)(a, "current-tag-membership", c);
                "ALL" == c ? a.checked = !0 : "SOME" == c && (0, m.Sk)(a, !0)
            }, a)
        }
        bJ(a)
    };
    var bJ = function(a) {
        for (var b = (0, m.od)("input", "tag-checkbox", void 0), c = !1, d = 0; d < b.length; d++)
            if (!cJ(b[d])) {
                c = !0;
                break
            }
        c ? (a = a.ea, (0, m.Wg)(a, "show-new"), (0, m.U)(a, "show-apply")) : (a = a.ea, (0, m.Wg)(a, "show-apply"), (0, m.U)(a, "show-new"))
    };
    var cJ = function(a) {
        switch ((0, m.C)(a, "initial-tag-membership")) {
            case "SOME":
                if (a.xf) return !0;
                break;
            case "NONE":
                if (!a.checked) return !0;
                break;
            case "ALL":
                if (a.checked) return !0
        }
        return !1
    };
    var dJ = function(a, b) {
        if (b) {
            var c = b.error;
            if (c) {
                var d = (0, m.N)("error-small-template", a.ea),
                    d = (0, m.Te)(d);
                eJ(a, "yt-alert-error", c, d, 8E3)
            }
        }
    };
    var fJ = function(a, b) {
        if (b) {
            var c = b.success_msg;
            if (c) {
                var d = (0, m.N)("success-small-template", a.ea),
                    d = (0, m.Te)(d);
                eJ(a, "yt-alert-success", c, d, 3E3)
            }
        }
    };
    var eJ = function(a, b, c, d, e) {
        var g = (0, m.N)("tag-menu-notifications", a.ea);
        (0, m.Oo)(b, c, d, g);
        (0, m.w)((0, m.r)(function() {
            (new m.Hs(d, 750)).ra()
        }, a), e)
    };
    var gJ = function(a) {
        a = (0, m.od)("input", a, void 0);
        for (var b = [], c = [], d = 0; d < a.length; d++) {
            var e = a[d];
            e.xf || (e.checked ? b.push(e.value) : c.push(e.value))
        }
        return {
            checked_values: b,
            unchecked_values: c
        }
    };
    var hJ = function() {
        m.Ga.call(this, "www/feed", ["www/common"], ["feed", "index"], iJ, jJ)
    };
    var iJ = function() {
        m.ym.getInstance().Ab();
        m.It.getInstance().Ab();
        LI();
        var a = kI = (0, m.L)("feed");
        kJ.push((0, m.S)(a, "click", WH, "feed-load-more"));
        kJ.push((0, m.S)(a, "click", gI, "feed-item-expander-button"));
        kJ.push((0, m.S)(a, "click", hI, "feed-item-collapser-button"));
        (0, m.v)("WATCH_FROM_FEED") && (kJ.push((0, m.S)(a, "click", iI, "feed-item-thumb")), kJ.push((0, m.S)(a, "click", iI, "feed-video-title")));
        lJ.push((0, m.x)("page-resize", jI));
        jI();
        var b = (0, m.N)("individual-feed"),
            c = !1;
        b && (mJ = (0, m.C)(b, "feed-name"), c =
            "user" == (0, m.C)(b, "feed-type"));
        if ("history" == mJ || "watch_later" == mJ || "favorites" == mJ) HH = b = mJ, vH = a, zH = (0, m.L)("feed-item-select-all-checkbox"), MH = (0, m.L)("managed-feed-success"), NH = (0, m.L)("managed-feed-error"), DH = (0, m.L)("feed-item-remove-videos"), EH = (0, m.L)("tag-menu-button"), FH = (0, m.L)("managed-toolbar-play-all-button"), KH = (0, m.L)("feed-title-count"), nJ = (0, m.N)("branded-page-v2-primary-col-header-container"), CH = (0, m.N)("addto-button", nJ), oJ.push((0, m.Q)(zH, "click", wH)), oJ.push((0, m.S)(window.document.body,
            "click", yH, "feed-item-selection-action")), oJ.push((0, m.S)(window.document.body, "click", BH, "feed-item-checkbox")), oJ.push((0, m.Q)(DH, "click", GH)), "history" == b && (oJ.push((0, m.Q)((0, m.L)("watch-history-pause-button"), "click", OH)), oJ.push((0, m.Q)((0, m.L)("watch-history-resume-button"), "click", RH)), oJ.push((0, m.S)(window.document.body, "click", UH, "watch-history-clear-button")));
        (0, m.js)({
            "feed-load-more": XH
        });
        if ((0, m.v)("INIT_AUTOSHARE")) {
            b = new tH((0, m.G)("autoshare"));
            b.addServiceChangedCallback(aI);
            var d =
                (0, m.L)("facebook-connect-button");
            d && b.registerConnectDialogLauncher(d, "facebook", !0);
            (d = (0, m.L)("twitter-connect-button")) && b.registerConnectDialogLauncher(d, "twitter", !0);
            (d = (0, m.L)("orkut-connect-button")) && b.registerConnectDialogLauncher(d, "orkut", !0);
            window.autoshare = b
        }(0, m.v)("MUSIC_PROMO_TYPE") && (b = (0, m.L)("mep-container"), lJ.push((0, m.x)("subscription-subscribe-success", bI)), kJ.push((0, m.S)(b, "click", dI, "mep2-dismiss-button")), kJ.push((0, m.S)(b, "click", fI, "channel-lockup")), eI = (0, m.C)(b,
            "ids-for-replacement").split(","));
        (0, m.au)(a, c);
        (0, m.Bt)(0);
        (0, m.Ct)();
        (0, m.Kt)()
    };
    var jJ = function() {
        (0, m.qa)("DELAYED_EMBEDED", []);
        window.masthead && window.masthead.dispose();
        nI && ((0, m.R)(nI), nI = null);
        (0, m.R)(sI);
        sI = [];
        uI && ((0, m.R)(uI), uI = null);
        (0, m.R)(FI);
        FI.length = 0;
        wI();
        (0, m.Lo)(m.Zt);
        $H = kI = null;
        (0, m.R)(kJ);
        (0, m.Ea)(lJ);
        if ("history" == mJ || "watch_later" == mJ || "favorites" == mJ)(0, m.R)(oJ), oJ = [], EH = MH = NH = zH = KH = FH = DH = CH = nJ = vH = null
    };
    var mJ, $H, kI;
    (0, m.t)(rH, m.oa);
    m.f = rH.prototype;
    m.f.N = function() {
        rH.L.N.call(this);
        (0, m.R)(this.b);
        this.b = null
    };
    m.f.Iq = function() {
        m.T.hide("ad_creative_1");
        (0, m.z)("ads-masthead-hide");
        (0, m.ep)((0, m.L)("page"), !0);
        this.D && m.T.hide("ad_creative_collapse_btn_1");
        m.T.show("ad_creative_expand_btn_1");
        (0, m.I)(this.k, "masthead-ad-expanded");
        sH(this.j);
        (0, m.Le)("homepage_collapse_masthead_ad", void 0, void 0)
    };
    m.f.Ih = function() {
        m.T.show("ad_creative_expand_btn_1");
        (0, m.Kd)((0, m.L)("premium-yva"));
        (0, m.Kd)((0, m.L)("video-masthead"));
        sH(this.j)
    };
    m.f.Fq = function() {
        (0, m.Vc)(window.document.getElementById("premium-yva"), "premium-yva-unexpanded", "premium-yva-expanded")
    };
    m.f.Gq = function() {
        (0, m.Vc)(window.document.getElementById("premium-yva"), "premium-yva-expanded", "premium-yva-unexpanded")
    };
    m.f.vq = function() {
        m.T.hide("premium-yva");
        (0, m.I)((0, m.L)("premium-yva"), "premium-yva-unexpanded")
    };
    m.f.Jq = function() {
        var a = m.ng.getInstance();
        a.set("HIDDEN_MASTHEAD_ID", !1);
        a.save();
        (0, m.Le)("homepage_expand_masthead_ad", void 0, void 0);
        (0, m.an)(window.document.location.href)
    };
    (0, m.s)("yt.sharing.AutoShare", tH);
    tH.prototype.eb = function(a, b, c, d) {
        (0, m.Q)(a, "click", (0, m.r)(this.O, this));
        if (a.id) this.J[a.id] = {
            serviceName: b,
            connectOnly: c
        }, d && (this.J[a.id].connectOnlyCallback = d);
        else throw "Connect dialog launch buttons must have an id.";
    };
    tH.prototype.registerConnectDialogLauncher = tH.prototype.eb;
    tH.prototype.O = function(a) {
        if (a = this.J[a.currentTarget.id]) {
            var b = a.connectOnly;
            a.connectOnlyCallback && (b = (0, a.connectOnlyCallback)());
            this.G(a.serviceName, b)
        }
    };
    tH.prototype.handleConnectService = tH.prototype.O;
    tH.prototype.ka = function() {
        this.j()
    };
    tH.prototype.doOnLoad = tH.prototype.ka;
    tH.prototype.da = function(a) {
        this.H.push(a)
    };
    tH.prototype.addServiceChangedCallback = tH.prototype.da;
    tH.prototype.Z = function(a) {
        this.F.push(a)
    };
    tH.prototype.addCanConnectCallback = tH.prototype.Z;
    tH.prototype.xa = function() {
        return this.k
    };
    tH.prototype.getServiceInfo = tH.prototype.xa;
    tH.prototype.G = function(a, b) {
        for (var c in this.F)
            if (!(0, this.F[c])(this, a, b)) return;
            (0, m.V)(this.b + "autoshare", {
                Q: {
                    action_ajax_stats_ping: "1",
                    stat: "connect_has_google",
                    service: a
                }
            });
        c = this.b + "autoshare?action_popup_auth=1&service=" + a + "&connect_only=" + (b ? "True" : "False") + "&root_url=" + (0, window.encodeURIComponent)(this.b);
        "facebook" == a && (c += "&permissions=" + (0, window.encodeURIComponent)("read_stream,offline_access,manage_pages,user_likes,publish_stream"));
        this.V(c, {
            height: 500,
            width: 860
        })
    };
    tH.prototype.connectService = tH.prototype.G;
    tH.prototype.pa = function(a, b) {
        var c = (0, m.r)(function(a, c) {
            this.k = (0, m.Ph)(c.html_content);
            this.j();
            b && b()
        }, this),
            d = (0, m.r)(function() {
                b && b();
                this.j()
            }, this),
            e = {
                action_ajax_connect_service: 1
            };
        e.return_url = a;
        (0, m.V)(this.b + "autoshare?ajax_connect_service", {
            format: "XML",
            method: "POST",
            Bb: (0, m.Fe)(e) + "&" + this.M,
            onSuccess: c,
            onError: d
        })
    };
    tH.prototype.connectServiceDone = tH.prototype.pa;
    tH.prototype.ga = function(a) {
        this.$(a)
    };
    tH.prototype.disconnectService = tH.prototype.ga;
    tH.prototype.Mb = function(a, b) {
        var c = (0, m.r)(function(a, b) {
            this.k = (0, m.Ph)(b.html_content);
            this.j()
        }, this),
            d = (0, m.r)(function() {
                this.j()
            }, this),
            e = {
                action_ajax_set_connect_only: 1
            };
        e.service = a;
        e.connect_only = b ? "True" : "False";
        (0, m.V)(this.b + "autoshare?ajax_set_connect_only", {
            format: "XML",
            method: "POST",
            Bb: (0, m.Fe)(e) + "&" + this.M,
            onSuccess: c,
            onError: d
        })
    };
    tH.prototype.setConnectOnly = tH.prototype.Mb;
    tH.prototype.$ = function(a) {
        var b = (0, m.r)(function(a, b) {
            this.k = (0, m.Ph)(b.html_content);
            this.j()
        }, this),
            c = (0, m.r)(function() {
                this.j()
            }, this),
            d = {
                action_ajax_disconnect_service: 1
            };
        d.service = a;
        (0, m.V)(this.b + "autoshare?ajax_disconnect_service", {
            format: "XML",
            method: "POST",
            Bb: (0, m.Fe)(d) + "&" + this.M,
            onSuccess: b,
            onError: c
        })
    };
    tH.prototype.j = function() {
        for (var a in this.H)(0, this.H[a])(this)
    };
    tH.prototype.V = function(a, b) {
        if (this.D) try {
            this.D.close()
        } catch (c) {
            this.D = null
        }
        this.D = !(0, m.dn)(a, b)
    };
    tH.prototype.sd = function() {
        this.G("facebook", !this.k.facebook.is_autosharing)
    };
    var HH, vH, nJ, CH, DH, FH, KH, zH, NH, MH, EH, oJ = [],
        LH = /[^\d\.\ ]/g;
    var kJ = [],
        lJ = [],
        eI = [];
    var nI;
    var sI = [];
    var uI;
    var xI, yI = [],
        zI = [];
    var FI = [],
        JI = !0;
    var pJ, qJ, NI;
    m.f = MI.prototype;
    m.f.Zf = !1;
    m.f.ec = function(a) {
        var b = (0, m.C)(this.F, "hide-watch-later"),
            c = {
                action_get_dropdown: "1",
                hide_favorites: (0, m.C)(this.F, "hide-favorites"),
                hide_watch_later: b
            }, d = {
                video_ids: this.D
            };
        this.H && (c.feature = this.H);
        var e;
        this.k && (e = RI(this));
        (0, m.V)("/addto_ajax", {
            Nn: !0,
            format: "XML",
            method: "POST",
            R: this,
            Q: c,
            P: d,
            onSuccess: function(c, d) {
                this.ea.innerHTML = d.html_content || "";
                (0, m.Vg)(this.ea, "no-watch-later", !! b);
                (0, m.Vg)(this.ea, "ie", m.K);
                e && SI(this, e);
                this.Ra();
                QI(this);
                this.Zf = !1;
                a && a()
            }
        })
    };
    m.f.Ra = function() {
        this.b = {};
        this.b.list = (0, m.L)("addto-list-panel");
        this.b.Oq = (0, m.L)("addto-list-saving-panel");
        this.b.Je = (0, m.L)("addto-list-error-panel");
        this.b.Rb = (0, m.L)("addto-create-panel");
        this.j = this.b.list;
        (0, m.S)(this.b.list, "click", (0, m.r)(this.Um, this), "addto-playlist-item")
    };
    m.f.Um = function(a) {
        a.stopPropagation();
        var b = a.currentTarget;
        (0, m.Nm)(m.Hm.getInstance(), b);
        (0, m.Yg)(b, "loading") || ("create-playlist" == (0, m.C)(b, "list-action") ? (this.Zf || (WI(this), this.Zf = !0), VI(this, this.b.Rb, !0)) : this.k ? ((0, m.Yg)(b, "contains-selected-videos") ? (0, m.Xg)(b, "to-be-removed") : (0, m.Xg)(b, "to-be-added"), OI(this)) : ((0, m.U)(b, "loading"), a = (0, m.C)(b, "full-list-id") || "", (0, m.Yg)(b, "contains-selected-videos") ? TI(this, a) : (b = (0, m.C)(b, "item-name") || "", XI(this, b, a))))
    };
    m.f.xn = function() {
        var a = this.M.value;
        this.G = !0;
        var b = (0, m.Ji)(this.J, "privacy");
        XI(this, a, null, b)
    };
    m.f.pg = function() {
        (0, m.w)((0, m.r)(function() {
            var a = (0, m.Xb)(this.M.value);
            a ? m.T.show(this.O) : m.T.hide(this.O);
            var b = (0, m.Ji)(this.J, "privacy");
            a || !b ? (0, m.Ve)(this.V, !1) : (0, m.Ve)(this.V, !0)
        }, this), 0)
    };
    m.f.co = function(a, b) {
        var c = this.G;
        this.G = !1;
        if (this.$ = b.full_list_id || "") {
            if ("true" == b.show_private_video_warning.toLowerCase()) {
                var d = (0, m.M)("private-video-warning", this.ea);
                d && m.T.show.apply(m.T, d)
            }
            this.k && c ? this.ec((0, m.r)(function() {
                var a = YI(this, this.$);
                a && (0, m.U)(a, "to-be-added");
                OI(this)
            }, this)) : this.ec()
        }
    };
    m.f.bo = function(a, b) {
        var c = b && b.error_message;
        if (c) {
            (0, m.N)("error-details", this.b.Je).innerHTML = c;
            var c = (0, m.N)("show-menu-link", this.b.Je),
                d = (0, m.Q)(c, "click", (0, m.r)(function(a) {
                    a.preventDefault();
                    (0, m.R)(d);
                    this.G ? VI(this, this.b.Rb, !0) : VI(this, this.b.list, !0)
                }, this));
            (0, m.ew)(this.b.Je, ["dismissed-panel", "fade", "slide"]);
            VI(this, this.b.Je)
        }
    };
    m.f.po = function() {
        var a = (0, m.Ge)("/addto_ajax", {
            action_redirect_to_signin_with_add: 1,
            video_ids: this.D,
            next_url: window.document.location
        }),
            b = (0, m.Dd)("form");
        b.action = a;
        b.method = "POST";
        a = (0, m.Dd)("input");
        a.type = "hidden";
        a.name = "session_token";
        a.value = (0, m.G)("addto_ajax_logged_out");
        b.appendChild(a);
        window.document.body.appendChild(b);
        b.submit()
    };
    (0, m.Pc)(ZI);
    m.f = ZI.prototype;
    m.f.We = !1;
    m.f.sg = !1;
    m.f.ec = function() {
        var a = {}, b = this.b.value;
        (0, m.Xb)(b) || (a.search = b);
        var b = [],
            c = [],
            b = gJ("tag-video-checkbox").checked_values,
            c = gJ("tag-playlist-checkbox").checked_values;
        this.We = !0;
        this.sg = !1;
        (0, m.V)("/labels_ajax?action_tag_menu_dropdown=1", {
            method: "POST",
            R: this,
            Q: a,
            P: {
                video_ids: b,
                playlist_ids: c
            },
            onSuccess: function(a, b) {
                var c = b.tag_membership;
                this.tm.innerHTML = b.html_content || "";
                aJ(this, c);
                this.We = !1;
                (0, m.Wg)(this.ea, "loading");
                (0, m.Pk)();
                this.sg && this.ec()
            },
            onError: function(a) {
                this.We = !1;
                (0, m.Wg)(this.ea,
                    "loading");
                dJ(this, (0, m.Oh)(a.response))
            }
        })
    };
    m.f.Ra = function() {
        (0, m.Q)(this.b, "keydown", (0, m.r)(this.di, this));
        (0, m.Q)(this.b, "paste", (0, m.r)(this.di, this));
        (0, m.S)(this.ea, "click", (0, m.r)(this.Om, this), "tag-checkbox");
        (0, m.S)(this.ea, "click", (0, m.r)(this.Nm, this), "add-new-tag");
        (0, m.S)(this.ea, "click", (0, m.r)(this.Mm, this), "apply-tag-changes");
        this.j && ((0, m.S)(this.j, "click", (0, m.r)(this.ng, this), "tag-video-checkbox"), (0, m.S)(this.j, "click", (0, m.r)(this.ng, this), "tag-playlist-checkbox"));
        (0, m.S)(window.document.body, "click", (0, m.r)(this.ng,
            this), "tag-refresh")
    };
    m.f.di = function() {
        (0, m.w)((0, m.r)(function() {
            $I(this)
        }, this), 0)
    };
    m.f.Om = function(a) {
        a = a.target;
        switch ((0, m.C)(a, "current-tag-membership")) {
            case "SOME":
                a.xf = !1;
                (0, m.E)(a, "current-tag-membership", "NONE");
                break;
            case "NONE":
                (0, m.E)(a, "current-tag-membership", "ALL");
                break;
            case "ALL":
                "SOME" == (0, m.C)(a, "initial-tag-membership") ? ((0, m.Sk)(a, !0), (0, m.E)(a, "current-tag-membership", "SOME")) : (0, m.E)(a, "current-tag-membership", "NONE")
        }
        bJ(this)
    };
    m.f.ng = function() {
        (0, m.U)(this.ea, "loading")
    };
    m.f.Nm = function() {
        this.k.disabled = !0;
        var a = this.b.value,
            b = gJ("tag-video-checkbox").checked_values,
            c = gJ("tag-playlist-checkbox").checked_values,
            a = {
                title: a,
                video_ids: b,
                playlist_ids: c
            }, a = {
                method: "POST",
                Q: {
                    session_token: (0, m.C)(this.ea, "ajax-token")
                },
                P: a,
                onSuccess: function(a, b) {
                    fJ(this, b);
                    $I(this)
                },
                onError: function(a) {
                    dJ(this, (0, m.Oh)(a.response));
                    $I(this)
                },
                R: this
            };
        (0, m.V)("/labels_ajax?action_create_and_apply_tag=1", a)
    };
    m.f.Mm = function() {
        this.$i.disabled = !0;
        var a = gJ("tag-video-checkbox").checked_values,
            b = gJ("tag-playlist-checkbox").checked_values,
            c = gJ("tag-checkbox"),
            d = (0, m.od)("input", "tag-checkbox", void 0).length;
        (0, m.V)("/labels_ajax?action_update_membership=1", {
                R: this,
                method: "POST",
                Q: {
                    session_token: (0, m.C)(this.ea, "ajax-token")
                },
                P: {
                    video_ids: a,
                    playlist_ids: b,
                    tags_to_add: c.checked_values,
                    tags_to_remove: c.unchecked_values,
                    num_tags: d
                },
                onSuccess: function(a, b) {
                    fJ(this, b);
                    $I(this)
                },
                onError: function(a) {
                    this.$i.disabled = !1;
                    dJ(this, (0, m.Oh)(a.response))
                }
            })
    };
    (0, m.s)("yt.flash.embed", m.Dg);
    (0, m.s)("yt.www.ads.pyv.pyvHomeAfcCallback", m.Gt);
    (0, m.s)("yt.www.ads.MastheadAd", rH);
    (0, m.s)("yt.www.lists.addto.toggleMenu", function(a, b) {
        var c = m.Hm.getInstance(),
            d = (0, m.W)(c),
            e = (0, m.L)("shared-addto-menu");
        if (b) {
            var g = (0, m.N)("addto-menu", e);
            (0, m.Nm)(c, a);
            qJ = (0, m.Wg)(a, d);
            pJ || (pJ = g.innerHTML);
            c = (0, m.C)(e, "video-ids");
            d = (0, m.C)(a, "video-ids");
            NI && (0, m.U)(e, "lightweight-panel");
            (0, m.Yg)(a, "flip") && (0, m.U)(e, "flip");
            d && c != d && ((0, m.E)(e, "video-ids", d), g.innerHTML = pJ, (0, m.Qe)(a), new MI(a))
        } else qJ && (0, m.U)(a, d), (0, m.Wg)(e, "flip")
    });
    (0, m.s)("yt.www.TagEditingMenu.toggleTagMenu", function(a, b) {
        if (b) {
            var c = (0, m.L)("tag-editing-menu");
            (0, m.Yg)(c, "loading") ? ZI.getInstance().ec() : (ZI.getInstance(), (0, m.Pk)());
            c = (0, m.N)("yt-combobox-search-input", c);
            (0, m.w)((0, m.r)(c.focus, c), 0)
        }
    });
    rH.prototype.autoCollapsePremiumYva = rH.prototype.vq;
    rH.prototype.collapse_ad = rH.prototype.Iq;
    rH.prototype.expand_ad = rH.prototype.Jq;
    rH.prototype.userCollapsePremiumYva = rH.prototype.Ih;
    rH.prototype.userExpandPremiumYva = rH.prototype.Fq;
    rH.prototype.userUnexpandPremiumYva = rH.prototype.Gq;
    (0, m.t)(hJ, m.Ga);
    hJ.prototype.enable = function() {
        hJ.L.enable.call(this);
        (0, m.Wj)(m.fm);
        (0, m.Wj)(m.It)
    };
    hJ.prototype.disable = function() {
        hJ.L.disable.call(this);
        (0, m.Yj)(m.fm);
        (0, m.Yj)(m.It)
    };
    (0, m.Ha)(new hJ);
})(_yt_www);