import commands
import os


def checkdir(inputdir, outputdir):
	'''Return False if input dir doesn't exist, o.w. True.'''
	if not os.path.exists(inputdir):
		print "Error: Input directory doesn't exist."
		return False
	if not os.path.exists(outputdir):
		os.makedirs(outputdir)	
	return True


def checkfile(inputfile, outputfile):
	'''Return False if the input is not a file or output already exists, o.w. True.'''
	if not os.path.isfile(inputfile):
		return False
	if os.path.exists(outputfile):
		return False
	return True


def lsresult(regex):
	res = commands.getoutput('ls ' + regex)
	return res.split('\n')


def lsgrep(rels, regrep):
	res = commands.getoutput('ls ' + rels + ' | grep ' + regrep)
	return res.split('\n')


def genTempnameLine(line):
	line = line.split(',')
	url = line[1][1:-1]
	url_hash = line[0][2:-1]
	label = line[3][1:-1]
	return genTempnameTuple(url, url_hash, label)


def genTempnameTuple(url, url_hash, label):
	outfilename = label + '.' + url_hash
	jsWithComment = '../../data/TempData/JSFileWComments/'
	jsNoComment = '../../data/TempData/JSFiles/'
	jsChunk = '../../data/TempData/JSFiles/'
	jsBeautify = '../../data/JSAdd2Tree/'
	return url, jsWithComment+outfilename, jsNoComment+outfilename, jsChunk+outfilename, jsBeautify+outfilename


