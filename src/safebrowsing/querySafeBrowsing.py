import urllib
from urllib2 import Request, urlopen, URLError, HTTPError



# This is an example GET request for the lookup API:
getReq = "https://sb-ssl.google.com/safebrowsing/api/lookup?client=api&apikey=ABQIAAAAByTIeu_ibQahWWvoHB3rChT1i2MeTIrZeMvk-RNEUyMjIzvYvw&appver=1.0&pver=3.0&url=http%3A%2F%2Fianfette.org%2F"
req = Request(getReq)
try:
	f = urlopen(req)
except URLError, e:
	print e.code
	print e.read()
print f.read()



# This is an example POST request for the lookup API:
# getReq = "https://sb-ssl.google.com/safebrowsing/api/lookup?client=demo-app&apikey=12345&appver=1.5.2&pver=3.0&url=http%3A%2F%2Fianfette.org%2F"
getReq = "https://sb-ssl.google.com/safebrowsing/api/lookup?client=api&apikey=ABQIAAAAByTIeu_ibQahWWvoHB3rChT1i2MeTIrZeMvk-RNEUyMjIzvYvw&appver=1.0&pver=3.0"
data = "2 LF http://www.google.com/ LF http://ianfette.org/"
req = Request(url=getReq)
req.add_data(data)

try:
	f = urlopen(req)
except URLError, e:
	print e.code
	print e.read()
print f.read()



# The v2 API uses a POST request instead of a GET. Here is an example POST body
#   goog-malware-shavar;
#   googpub-phish-shavar;
# http://safebrowsing.clients.google.com/safebrowsing/downloads?client=api&apikey=ABQIAAAAByTIeu_ibQahWWvoHB3rChT1i2MeTIrZeMvk-RNEUyMjIzvYvw&appver=1.0&pver=2.2
